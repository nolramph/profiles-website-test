!function(s){var e,t,i;s.$_Tawk_AccountKey="5bb60214b033e9743d0245cc",s.$_Tawk_WidgetId="default",s.$_Tawk_Unstable=!1,s.$_Tawk=s.$_Tawk||{},s.$_Tawk.widgetSettings={t:"inline",h:0,w:0,minh:40,minw:260,pos:"br",woc:"max",dsw:!1,lc:"en",hwol:!1,hwof:!1,hab:!1,dws:!1,hwt:!0,thm:{hbg:"#76b51b",htx:"#ffffff",topc:5,btmc:0,aBblBg:"#6aa318",aBblTx:"#ffffff",vBblBg:"#e5e5e5",vBblTx:"#333333"},bbl:{name:"42",type:"gallery",width:142,height:70,zIndex:1,rightOffset:69,bottomOffset:44,topOffset:0,leftOffset:0,rotate:0},mw:"round",dw:"full",wv:0,ws:null,offlineForm:{shortMessage:"Offline",text:"Please fill out the form below and we will get back to you as soon as possible.",fields:[{label:"Name",isRequired:!0,type:"name"},{label:"Email",isRequired:!0,type:"email"},{label:"Message",isRequired:!0,type:"message"}]},prechatForm:null,onlineGreeting:{actionMessage:"Type here and press enter..",shortMessage:"Online",longMessage:"We are live and ready to chat with you now. Say something to start a live chat."},awayGreeting:{shortMessage:"Away",longMessage:""},cf:null},e=void 0===s?window:s,(t={pluralFormFunction:function(e){return 1===e?"one":"other"},form:{}}).form.SaveButton={message:"Save"},t.form.SubmitButton={message:"Submit"},t.form.StartChatButton={message:"Start Chat"},t.form.CancelButton={message:"Cancel"},t.form.CloseButton={message:"Close"},t.form.SendButton={message:"Send"},t.form.NamePlaceholder={message:"your name.."},t.form.EmailPlaceholder={message:"your email.."},t.form.QuestionPlaceholder={message:"your query.."},t.form.DepartmentsPlaceholder={message:"select department.."},t.form.MessagePlaceholder={message:"your message.."},t.form.NameErrorMessage={message:"Name must be provided."},t.form.EmailErrorMessage={message:"Invalid email address."},t.form.DepartmentsErrorMessage={message:"Department is required."},t.form.QuestionErrorMessage={message:"Question is required and must not be longer then 500 characters."},t.form.MessageErrorMessage={message:"Message is required and must not be longer then 500 characters."},t.form.NameFormMessage={message:"Please change your name so we can recognize you the next time."},t.form.EmailTranscriptFormMessage={message:"Please fill out the form below to have this conversation sent to your email address."},t.form.PreChatFormMessage={message:"Please fill out the form below to start chatting with the next available agent."},t.form.OfflineFormMessage={message:"Please fill out the form below and we will get back to you as soon as possible."},t.form.PreChatFormMessageProfile={message:"Please fill out the form below to start chatting with me."},t.form.OfflineMessageSent={message:"Your message was sent successfully!"},t.form.OfflineMessageNotSent={message:"Your message was not delivered, please retry"},t.form.EndChatTitle={message:"Are you sure you want to end this chat?"},t.form.RequiredErrorMessage={message:"This field is required"},t.form.PhoneErrorMessage={message:"Invalid phone number"},t.form.saved={message:"Saved"},t.form.errorSaving={message:"Unable to save. Please try again"},t.form.visitButton={message:"Visit tawk.to"},t.form.SubmittingProcess={message:"Submitting"},t.form.EndingProcess={message:"Ending"},t.form.SendingProcess={message:"Sending"},t.form.SavingProcess={message:"Saving"},t.form.EmailTranscriptTo={message:"Email transcript to"},t.form.name={message:"Name"},t.form.email={message:"Email"},t.form.department={message:"Department"},t.form.message={message:"Message"},t.form.any={message:"Any"},t.form.phone={message:"Phone"},t.form.question={message:"Question"},t.form.saving={message:"Saving.."},t.form.SubmittedFrom={message:"Submitted From"},t.form.sendAgain={message:"Send Again"},t.rollover={},t.rollover.popOut={message:"Pop out"},t.rollover.minimize={message:"Minimize"},t.rollover.resize={message:"Resize"},t.rollover.resendMessage={message:"Resend message"},t.rollover.emailTranscriptOption={message:"Email Transcript"},t.rollover.positiveRating={message:"Rate this conversation with +1"},t.rollover.negativeRating={message:"Rate this conversation with -1"},t.rollover.maximize={message:"Maximize"},t.rollover.end={message:"End Chat"},t.rollover.uploadFile={message:"Upload File"},t.rollover.videoCall={message:"Video Call"},t.rollover.voiceCall={message:"Voice Call"},t.rollover.screenShare={message:"Screen Share"},t.transcript={},t.transcript.transcriptSubject={message:"Chat email transcript on #host started on #startedOn",vars:["host","startedOn"]},t.transcript.transcriptStartedOn={message:"#dateString, at #time",vars:["dateString","time"]},t.transcript.me={message:"Me"},t.transcript.CONVERSATION_STARTED_ON={message:"Conversation started on"},t.overlay={},t.overlay.inactive={message:"Click here to reinitiate the chat"},t.overlay.maintenance={message:"Chat is in maintenance"},t.overlay.cookiesOff={message:"You can't use this chat because your browser's cookie functionality is turned off. Please turn it on and refresh your browser."},t.overlay.tawkContent={message:"This widget is powered by tawk.to - a free messaging application that lets you monitor and engage with the visitors on your website."},t.chat={},t.chat.visitor_name={message:"Visitor name"},t.chat.like={message:"You liked this conversation"},t.chat.dislike={message:"You disliked this conversation"},t.chat.remove_rate={message:"You removed your rating for this conversation"},t.chat.sayButton={message:"Say"},t.chat.hideButton={message:"Hide Chat"},t.chat.send_mail={message:"Send Mail"},t.chat.AGENT_JOIN_CONVERSATION={message:"#n has joined the conversation",vars:["n"]},t.chat.AGENT_LEFT_CONVERSATION={message:"#n has left the conversation",vars:["n"]},t.chat.agentIsTyping={message:"#strongStart #n #strongEnd is typing",vars:["n","strongStart","strongEnd"]},t.chat.mobileAgentIsTyping={message:"#n is typing..",vars:["n"]},t.chat.defaultName={message:"You (change name)"},t.chat.mobileEnterText={message:"Say something..."},t.chat.messageQueuedTitile={message:"message queued"},t.chat.live_chat={message:"Live Chat"},t.chat.notificationTitle={message:"notification"},t.chat.departmentIsOffline={message:"Department #strongStart #departmentName #strongEnd is currently offline. You might be served by another department.",vars:["departmentName","strongStart","strongEnd"]},t.chat.departmentIsAway={message:"Department #strongStart #departmentName #strongEnd is currently away.",vars:["departmentName","strongStart","strongEnd"]},t.chat.mobileName={message:"You"},t.chat.chatEnded={message:"Your chat has ended"},t.chat.newChat={message:"Start New Chat"},t.chat.newMessages={message:"New messages"},t.chat.say_something={message:"Type here and press enter.."},t.chat.downloadFile={message:"Download File"},t.chat.limit50={message:"The maximum file size is 50MB, please upload a smaller file."},t.chat.limit2={message:"The maximum file size is 2MB for mobile browsers, please upload a smaller file."},t.chat.generalUploadError={message:'Unable to upload file "#fileName", please try again.',vars:["fileName"]},t.chat.retry={message:"Retry."},t.chat.dragDropText={message:"Drop files here to upload"},t.chat.pasted_image_title={message:"Pasted image at #dateTime",vars:["dateTime"]},t.chat.chat_qm={message:"Chat?"},t.chat.we_are_live={message:"We are live and ready to chat with you now. Say something to start a live chat."},t.chat.profile_prechat_text={message:"Please fill out the form below to start chatting with me."},t.chat.incoming_call_message={message:"Incoming Call"},t.chat.accept_call={message:"Accept"},t.chat.decline_call={message:"Decline"},t.chat.video_call_error={message:"Video call is not available."},t.chat.voice_call_error={message:"Voice call is not available."},t.chat.screen_share_error={message:"Screen share is not available."},t.chat.message_too_long={message:"Message cannot exceed 5000 characters"},t.chat.message_not_delivered={message:"Message not delivered, click here to resend."},t.chat.visitor_ringing={message:"Calling..."},t.chat.agent_ringing={message:"Incoming Call"},t.chat.ongoing_call={message:"Ongoing Call"},t.chat.completed_call={message:"Call ended"},t.chat.missed_agent={message:"Your call was missed"},t.chat.missed_visitor={message:"You missed a call"},t.chat.rejected_call={message:"You rejected this call"},t.chat.call_end_details={message:"Started at #startedOn and lasted #duration",vars:["startedOn","duration"]},t.chat.call_started_on={message:"Started at #startedOn",vars:["startedOn"]},t.chat.error_title={message:"Error"},t.chat.call_error_load={message:"Unable to load call details."},t.status={},t.status.online={message:"Online"},t.status.away={message:"Away"},t.status.offline={message:"Offline"},t.months={},t.months[0]={message:"January"},t.months[1]={message:"February"},t.months[2]={message:"March"},t.months[3]={message:"April"},t.months[4]={message:"May"},t.months[5]={message:"June"},t.months[6]={message:"July"},t.months[7]={message:"August"},t.months[8]={message:"September"},t.months[9]={message:"October"},t.months[10]={message:"November"},t.months[11]={message:"December"},t.days={},t.days[0]={message:"Sunday"},t.days[1]={message:"Monday"},t.days[2]={message:"Tuesday"},t.days[3]={message:"Wednesday"},t.days[4]={message:"Thursday"},t.days[5]={message:"Friday"},t.days[6]={message:"Saturday"},t.menu={},t.menu.change_name={message:"Change Name"},t.menu.sound_on={message:"Sound On"},t.menu.sound_off={message:"Sound Off"},t.menu.about_tawk={message:"About this app"},t.menu.print_transcript={message:"Print Transcript"},t.menu.Options={message:"Options"},t.menu.CloseMenu={message:"Close menu"},t.menu.AgentList={message:"Agent List"},t.notifications={},t.notifications.maximum_size_upload_warning={message:"#strongStart Warning :#strongEnd Sorry, file transfer is limited to #strongStart#limitFileSize#strongEnd per file. Please compress the following file(s) and try again.",vars:["strongStart","strongEnd","limitFileSize"]},t.notifications.retry={message:"Retry"},t.chat=t.chat||{},t.chat.messageQueuedText={vars:["strongStart","strongEnd"],pluralVars:["t"],message:{one:"Estimated wait time is #strongStart #t minute #strongEnd",other:"Estimated wait time is #strongStart #t minutes #strongEnd"}},t.chat.newMessage={vars:[],pluralVars:["num"],message:{one:"#num new message",other:"#num new messages"}},t.chat.seconds={vars:[],pluralVars:["num"],message:{one:"#num second",other:"#num seconds"}},t.chat.minutes={vars:[],pluralVars:["num"],message:{one:"#num minute",other:"#num minutes"}},t.chat.hours={vars:[],pluralVars:["num"],message:{one:"#num hour",other:"#num hours"}},e.$_Tawk.language=t,e.$_Tawk.languageUpdater&&e.$_Tawk.languageUpdater(),"undefined"!=typeof window?i=window:void 0!==s?i=s:"undefined"!=typeof self&&(i=self),i.$__TawkEngine=function n(a,o,r){function s(i,e){if(!o[i]){if(!a[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(l)return l(i,!0);throw Error("Cannot find module '"+i+"'")}t=o[i]={exports:{}},a[i][0].call(t.exports,function(e){var t=a[i][1][e];return s(t||e)},t,t.exports,n,a,o,r)}return o[i].exports}for(var l="function"==typeof require&&require,e=0;e<r.length;e++)s(r[e]);return s}({debug:[function(e,t,i){t.exports=e("n9i2g6")},{}],n9i2g6:[function(e,t,i){t.exports=function(){return function(){}}},{}],3:[function(e,t,i){function r(){}t.exports=function(e,i,n){function a(e,t){if(a.count<=0)throw Error("after called too many times");--a.count,e?(o=!0,i(e),i=n):0!==a.count||o||i(null,t)}var o=!1;return n=n||r,0===(a.count=e)?i():a}},{}],4:[function(e,t,i){t.exports=function(e,t,i){var n=e.byteLength;if(t=t||0,i=i||n,e.slice)return e.slice(t,i);if(t<0&&(t+=n),i<0&&(i+=n),n<i&&(i=n),n<=t||i<=t||0===n)return new ArrayBuffer(0);e=new Uint8Array(e);for(var n=new Uint8Array(i-t),a=0;t<i;t++,a++)n[a]=e[t];return n.buffer}},{}],5:[function(e,t,i){var d;d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i.encode=function(e){var t,i=(e=new Uint8Array(e)).length,n="";for(t=0;t<i;t+=3)n+=d[e[t]>>2],n+=d[(3&e[t])<<4|e[t+1]>>4],n+=d[(15&e[t+1])<<2|e[t+2]>>6],n+=d[63&e[t+2]];return 2==i%3?n=n.substring(0,n.length-1)+"=":1==i%3&&(n=n.substring(0,n.length-2)+"=="),n},i.decode=function(e){var t,i,n,a,o=.75*e.length,r=e.length,s=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);for(var l=new ArrayBuffer(o),c=new Uint8Array(l),o=0;o<r;o+=4)t=d.indexOf(e[o]),i=d.indexOf(e[o+1]),n=d.indexOf(e[o+2]),a=d.indexOf(e[o+3]),c[s++]=t<<2|i>>4,c[s++]=(15&i)<<4|n>>2,c[s++]=(3&n)<<6|63&a;return l}},{}],6:[function(e,r,t){(function(e){function a(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.buffer instanceof ArrayBuffer){var n=i.buffer;if(i.byteLength!==n.byteLength){var a=new Uint8Array(i.byteLength);a.set(new Uint8Array(n,i.byteOffset,i.byteLength)),n=a.buffer}e[t]=n}}}var t,i,o=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder;try{t=2===new Blob(["hi"]).size}catch(e){t=!1}if(i=t)try{i=2===new Blob([new Uint8Array([1,2])]).size}catch(e){i=!1}var n=o&&o.prototype.append&&o.prototype.getBlob;e=t?i?e.Blob:function(e,t){return a(e),new Blob(e,t||{})}:n?function(e,t){t=t||{};var i=new o;a(e);for(var n=0;n<e.length;n++)i.append(e[n]);return t.type?i.getBlob(t.type):i.getBlob()}:void 0,r.exports=e}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t,i){},{}],8:[function(e,t,i){function n(e){if(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}}(t.exports=n).prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function i(){n.off(e,i),t.apply(this,arguments)}var n=this;return this._callbacks=this._callbacks||{},i.fn=t,this.on(e,i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var i=this._callbacks[e];if(!i)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var n,a=0;a<i.length;a++)if((n=i[a])===t||n.fn===t){i.splice(a,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),i=this._callbacks[e];if(i)for(var i=i.slice(0),n=0,a=i.length;n<a;++n)i[n].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],9:[function(e,t,i){t.exports=function(e,t){var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},{}],10:[function(e,t,i){t.exports=e("./lib/")},{"./lib/":11}],11:[function(e,t,i){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":12,"engine.io-parser":20}],12:[function(t,c,e){(function(n){function p(e,t){if(!(this instanceof p))return new p(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=s(e),t.hostname=e.host,t.secure="https"==e.protocol||"wss"==e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=s(t.host).host),this.secure=null!=t.secure?t.secure:n.location&&"https:"==location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||(n.location?location.hostname:"localhost"),this.port=t.port||(n.location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized;var i="object"==typeof n&&n;i.global===i&&t.extraHeaders&&0<Object.keys(t.extraHeaders).length&&(this.extraHeaders=t.extraHeaders),this.open()}var a=t("./transports"),e=t("component-emitter"),h=t("debug")("engine.io-client:socket"),o=t("indexof"),r=t("engine.io-parser"),s=t("parseuri"),i=t("parsejson"),l=t("parseqs");(c.exports=p).priorWebsocketSuccess=!1,e(p.prototype),p.protocol=r.protocol,(p.Socket=p).Transport=t("./transport"),p.transports=t("./transports"),p.parser=t("engine.io-parser"),p.prototype.createTransport=function(e){h('creating transport "%s"',e);var t,i=this.query,n={};for(t in i)i.hasOwnProperty(t)&&(n[t]=i[t]);return n.EIO=r.protocol,n.transport=e,this.id&&(n.sid=this.id),new a[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:n,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})},p.prototype.open=function(){var e;if(this.rememberUpgrade&&p.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},p.prototype.setTransport=function(e){h("setting transport %s",e.name);var t=this;this.transport&&(h("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),(this.transport=e).on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},p.prototype.probe=function(i){function e(){if(d.onlyBinaryUpgrades){var e=!this.supportsBinary&&d.transport.supportsBinary;c=c||e}c||(h('probe transport "%s" opened',i),l.send([{type:"ping",data:"probe"}]),l.once("packet",function(e){c||("pong"==e.type&&"probe"==e.data?(h('probe transport "%s" pong',i),d.upgrading=!0,d.emit("upgrading",l),l&&(p.priorWebsocketSuccess="websocket"==l.name,h('pausing current transport "%s"',d.transport.name),d.transport.pause(function(){c||"closed"==d.readyState||(h("changing transport and sending upgrade packet"),s(),d.setTransport(l),l.send([{type:"upgrade"}]),d.emit("upgrade",l),l=null,d.upgrading=!1,d.flush())}))):(h('probe transport "%s" failed',i),(e=Error("probe error")).transport=l.name,d.emit("upgradeError",e)))}))}function n(){c||(c=!0,s(),l.close(),l=null)}function t(e){var t=Error("probe error: "+e);t.transport=l.name,n(),h('probe transport "%s" failed because of error: %s',i,e),d.emit("upgradeError",t)}function a(){t("transport closed")}function o(){t("socket closed")}function r(e){l&&e.name!=l.name&&(h('"%s" works - aborting "%s"',e.name,l.name),n())}function s(){l.removeListener("open",e),l.removeListener("error",t),l.removeListener("close",a),d.removeListener("close",o),d.removeListener("upgrading",r)}h('probing transport "%s"',i);var l=this.createTransport(i,{probe:1}),c=!1,d=this;p.priorWebsocketSuccess=!1,l.once("open",e),l.once("error",t),l.once("close",a),this.once("close",o),this.once("upgrading",r),l.open()},p.prototype.onOpen=function(){if(h("socket open"),this.readyState="open",p.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){h("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},p.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(h('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(i(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else h('packet received with socket readyState "%s"',this.readyState)},p.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},p.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},p.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){h("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},p.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},p.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),(this.prevBufferLen=0)===this.writeBuffer.length?this.emit("drain"):this.flush()},p.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(h("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},p.prototype.write=p.prototype.send=function(e,t,i){return this.sendPacket("message",e,t,i),this},p.prototype.sendPacket=function(e,t,i,n){"function"==typeof t&&(n=t,t=void 0),"function"==typeof i&&(n=i,i=null),"closing"!=this.readyState&&"closed"!=this.readyState&&((i=i||{}).compress=!1!==i.compress,e={type:e,data:t,options:i},this.emit("packetCreate",e),this.writeBuffer.push(e),n&&this.once("flush",n),this.flush())},p.prototype.close=function(){function e(){n.onClose("forced close"),h("socket closing - telling transport to close"),n.transport.close()}function t(){n.removeListener("upgrade",t),n.removeListener("upgradeError",t),e()}function i(){n.once("upgrade",t),n.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var n=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?i():e()}):this.upgrading?i():e()}return this},p.prototype.onError=function(e){h("socket error %j",e),p.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},p.prototype.onClose=function(e,t){"opening"!=this.readyState&&"open"!=this.readyState&&"closing"!=this.readyState||(h('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},p.prototype.filterUpgrades=function(e){for(var t=[],i=0,n=e.length;i<n;i++)~o(this.transports,e[i])&&t.push(e[i]);return t}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./transport":13,"./transports":14,"component-emitter":8,debug:"n9i2g6","engine.io-parser":20,indexof:24,parsejson:26,parseqs:27,parseuri:28}],13:[function(e,t,i){function n(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var a=e("engine.io-parser");e=e("component-emitter"),t.exports=n,e(n.prototype),n.prototype.onError=function(e,t){var i=Error(e);return i.type="TransportError",i.description=t,this.emit("error",i),this},n.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},n.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},n.prototype.send=function(e){if("open"!=this.readyState)throw Error("Transport not open");this.write(e)},n.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},n.prototype.onData=function(e){e=a.decodePacket(e,this.socket.binaryType),this.onPacket(e)},n.prototype.onPacket=function(e){this.emit("packet",e)},n.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":8,"engine.io-parser":20}],14:[function(t,e,i){(function(a){var o=t("xmlhttprequest-ssl"),r=t("./polling-xhr"),s=t("./polling-jsonp"),e=t("./websocket");i.polling=function(e){var t=!1,i=!1,n=!1!==e.jsonp;if(a.location&&(i="https:"==location.protocol,(t=location.port)||(t=i?443:80),t=e.hostname!=location.hostname||t!=e.port,i=e.secure!=i),e.xdomain=t,e.xscheme=i,"open"in new o(e)&&!e.forceJSONP)return new r(e);if(!n)throw Error("JSONP disabled");return new s(e)},i.websocket=e}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling-jsonp":15,"./polling-xhr":16,"./websocket":18,"xmlhttprequest-ssl":19}],15:[function(r,s,e){(function(i){function n(){}function e(e){a.call(this,e),this.query=this.query||{},o||(i.___eio||(i.___eio=[]),o=i.___eio),this.index=o.length;var t=this;o.push(function(e){t.onData(e)}),this.query.j=this.index,i.document&&i.addEventListener&&i.addEventListener("beforeunload",function(){t.script&&(t.script.onerror=n)},!1)}var a=r("./polling"),t=r("component-inherit");s.exports=e;var o,c=/\n/g,d=/\\n/g;t(e,a),e.prototype.supportsBinary=!1,e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.iframe=this.form=null),a.prototype.doClose.call(this)},e.prototype.doPoll=function(){var t=this,e=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),e.async=!0,e.src=this.uri(),e.onerror=function(e){t.onError("jsonp poll error",e)};var i=document.getElementsByTagName("script")[0];i?i.parentNode.insertBefore(e,i):(document.head||document.body).appendChild(e),this.script=e,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},e.prototype.doWrite=function(e,t){function i(){n(),t()}function n(){if(a.iframe)try{a.form.removeChild(a.iframe)}catch(e){a.onError("jsonp polling iframe removal error",e)}try{o=document.createElement('<iframe src="javascript:0" name="'+a.iframeId+'">')}catch(e){(o=document.createElement("iframe")).name=a.iframeId,o.src="javascript:0"}o.id=a.iframeId,a.form.appendChild(o),a.iframe=o}var a=this;if(!this.form){var o,r=document.createElement("form"),s=document.createElement("textarea"),l=this.iframeId="eio_iframe_"+this.index;r.className="socketio",r.style.position="absolute",r.style.top="-1000px",r.style.left="-1000px",r.target=l,r.method="POST",r.setAttribute("accept-charset","utf-8"),s.name="d",r.appendChild(s),document.body.appendChild(r),this.form=r,this.area=s}this.form.action=this.uri(),n(),e=e.replace(d,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==a.iframe.readyState&&i()}:this.iframe.onload=i}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-inherit":9}],16:[function(d,p,e){(function(a){function t(){}function e(e){if(n.call(this,e),a.location){var t="https:"==location.protocol,i=location.port;i||(i=t?443:80),this.xd=e.hostname!=a.location.hostname||i!=e.port,this.xs=e.secure!=t}else this.extraHeaders=e.extraHeaders}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=null!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function i(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var r=d("xmlhttprequest-ssl"),n=d("./polling"),s=d("component-emitter"),l=d("component-inherit"),c=d("debug")("engine.io-client:polling-xhr");p.exports=e,p.exports.Request=o,l(e,n),e.prototype.supportsBinary=!0,e.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new o(e)},e.prototype.doWrite=function(e,t){var i=this.request({method:"POST",data:e,isBinary:"string"!=typeof e&&void 0!==e}),n=this;i.on("success",t),i.on("error",function(e){n.onError("xhr post error",e)}),this.sendXhr=i},e.prototype.doPoll=function(){c("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},s(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),i=this;try{c("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var n in t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(n)&&t.setRequestHeader(n,this.extraHeaders[n])}catch(e){}if(this.supportsBinary&&(t.responseType="arraybuffer"),"POST"==this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}"withCredentials"in t&&(t.withCredentials=!0),this.hasXDR()?(t.onload=function(){i.onLoad()},t.onerror=function(){i.onError(t.responseText)}):t.onreadystatechange=function(){4==t.readyState&&(200==t.status||1223==t.status?i.onLoad():setTimeout(function(){i.onError(t.status)},0))},c("xhr data %s",this.data),t.send(this.data)}catch(e){return void setTimeout(function(){i.onError(e)},0)}a.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=t:this.xhr.onreadystatechange=t,e)try{this.xhr.abort()}catch(e){}a.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var t;try{var i;try{i=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===i)t=this.xhr.response;else if(this.supportsBinary)try{t=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(e){var n=new Uint8Array(this.xhr.response);i=[];for(var a=0,o=n.length;a<o;a++)i.push(n[a]);t=String.fromCharCode.apply(null,i)}else t=this.xhr.responseText}catch(e){this.onError(e)}null!=t&&this.onData(t)},o.prototype.hasXDR=function(){return void 0!==a.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},a.document&&(o.requestsCount=0,o.requests={},a.attachEvent?a.attachEvent("onunload",i):a.addEventListener&&a.addEventListener("beforeunload",i,!1))}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./polling":17,"component-emitter":8,"component-inherit":9,debug:"n9i2g6","xmlhttprequest-ssl":19}],17:[function(e,t,i){function n(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),a.call(this,e)}var a=e("../transport"),o=e("parseqs"),r=e("engine.io-parser");i=e("component-inherit");var s=e("yeast"),l=e("debug")("engine.io-client:polling");t.exports=n;var c=null!=new(e("xmlhttprequest-ssl"))({xdomain:!1}).responseType;i(n,a),n.prototype.name="polling",n.prototype.doOpen=function(){this.poll()},n.prototype.pause=function(e){function t(){l("paused"),i.readyState="paused",e()}var i=this;if(this.readyState="pausing",this.polling||!this.writable){var n=0;this.polling&&(l("we are currently polling - waiting to pause"),n++,this.once("pollComplete",function(){l("pre-pause polling complete"),--n||t()})),this.writable||(l("we are currently writing - waiting to pause"),n++,this.once("drain",function(){l("pre-pause writing complete"),--n||t()}))}else t()},n.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},n.prototype.onData=function(e){var n=this;l("polling got data %s",e),r.decodePayload(e,this.socket.binaryType,function(e,t,i){if("opening"==n.readyState&&n.onOpen(),"close"==e.type)return n.onClose(),!1;n.onPacket(e)}),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},n.prototype.doClose=function(){function e(){l("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(l("transport open - closing"),e()):(l("transport not open - deferring close"),this.once("open",e))},n.prototype.write=function(e){var t=this;this.writable=!1;var i=function(){t.writable=!0,t.emit("drain")},t=this;r.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,i)})},n.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",i="";!1!==this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(i=":"+this.port),e.length&&(e="?"+e);var n=-1!==this.hostname.indexOf(":");return t+"://"+(n?"["+this.hostname+"]":this.hostname)+i+this.path+e}},{"../transport":13,"component-inherit":9,debug:"n9i2g6","engine.io-parser":20,parseqs:27,"xmlhttprequest-ssl":19,yeast:30}],18:[function(d,p,e){(function(o){function e(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,i.call(this,e)}var i=d("../transport"),r=d("engine.io-parser"),a=d("parseqs"),t=d("component-inherit"),s=d("yeast"),l=d("debug")("engine.io-client:websocket"),c=o.WebSocket||o.MozWebSocket,n=c;if(!n&&"undefined"==typeof window)try{n=d("ws")}catch(e){}p.exports=e,t(e,i),e.prototype.name="websocket",e.prototype.supportsBinary=!0,e.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent,perMessageDeflate:this.perMessageDeflate};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.ws=c?new n(e):new n(e,void 0,t),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},e.prototype.addEventListeners=function(){var t=this;this.ws.onopen=function(){t.onOpen()},this.ws.onclose=function(){t.onClose()},this.ws.onmessage=function(e){t.onData(e.data)},this.ws.onerror=function(e){t.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(e.prototype.onData=function(e){var t=this;setTimeout(function(){i.prototype.onData.call(t,e)},0)}),e.prototype.write=function(e){var n=this;this.writable=!1;for(var a=e.length,t=0,i=a;t<i;t++)!function(i){r.encodePacket(i,n.supportsBinary,function(e){if(!c){var t={};i.options&&(t.compress=i.options.compress),n.perMessageDeflate&&("string"==typeof e?o.Buffer.byteLength(e):e.length)<n.perMessageDeflate.threshold&&(t.compress=!1)}try{c?n.ws.send(e):n.ws.send(e,t)}catch(e){l("websocket closed before onclose event")}--a||(n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0))})}(e[t])},e.prototype.onClose=function(){i.prototype.onClose.call(this)},e.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},e.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",i="";this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(i=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e="?"+e);var n=-1!==this.hostname.indexOf(":");return t+"://"+(n?"["+this.hostname+"]":this.hostname)+i+this.path+e},e.prototype.check=function(){return!(!n||"__initialize"in n&&this.name===e.prototype.name)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../transport":13,"component-inherit":9,debug:"n9i2g6","engine.io-parser":20,parseqs:27,ws:7,yeast:30}],19:[function(e,t,i){var n=e("has-cors");t.exports=function(e){var t=e.xdomain,i=e.xscheme;e=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!i&&e)return new XDomainRequest}catch(e){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}},{"has-cors":23}],20:[function(u,e,f){(function(l){function t(e,t,i){var a=Array(e.length);i=r(e.length,i);for(var n=function(i,e,n){t(e,function(e,t){a[i]=t,n(e,a)})},o=0;o<e.length;o++)n(o,e[o],i)}var e=u("./keys"),o=u("has-binary"),d=u("arraybuffer.slice"),a=u("base64-arraybuffer"),r=u("after"),s=u("utf8"),i=navigator.userAgent.match(/Android/i),n=/PhantomJS/i.test(navigator.userAgent),c=i||n;f.protocol=3;var p=f.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},h=e(p),m={type:"error",data:"parser error"},g=u("blob");f.encodePacket=function(e,t,i,n){"function"==typeof t&&(n=t,t=!1),"function"==typeof i&&(n=i,i=null);var a=void 0===e.data?void 0:e.data.buffer||e.data;if(l.ArrayBuffer&&a instanceof ArrayBuffer){if(t){for(i=e.data,t=new Uint8Array(i),(i=new Uint8Array(1+i.byteLength))[0]=p[e.type],e=0;e<t.length;e++)i[e+1]=t[e];e=n(i.buffer)}else e=f.encodeBase64Packet(e,n);return e}return g&&a instanceof l.Blob?e=t?c?function(e,t,i){if(!t)return f.encodeBase64Packet(e,i);var n=new FileReader;return n.onload=function(){e.data=n.result,f.encodePacket(e,t,!0,i)},n.readAsArrayBuffer(e.data)}(e,t,n):((t=new Uint8Array(1))[0]=p[e.type],e=new g([t.buffer,e.data]),n(e)):f.encodeBase64Packet(e,n):a&&a.base64?n("b"+f.packets[e.type]+e.data.data):(t=p[e.type],void 0!==e.data&&(t+=i?s.encode(String(e.data)):String(e.data)),n(""+t))},f.encodeBase64Packet=function(t,i){var n,a="b"+f.packets[t.type];if(g&&t.data instanceof l.Blob){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];i(a+e)},o.readAsDataURL(t.data)}try{n=String.fromCharCode.apply(null,new Uint8Array(t.data))}catch(e){n=new Uint8Array(t.data);for(var r=Array(n.length),s=0;s<n.length;s++)r[s]=n[s];n=String.fromCharCode.apply(null,r)}return a+=l.btoa(n),i(a)},f.decodePacket=function(e,t,i){if("string"!=typeof e&&void 0!==e)return i=new Uint8Array(e)[0],e=d(e,1),g&&"blob"===t&&(e=new g([e])),{type:h[i],data:e};if("b"==e.charAt(0))return f.decodeBase64Packet(e.substr(1),t);if(i)try{e=s.decode(e)}catch(e){return m}return i=e.charAt(0),Number(i)==i&&h[i]?1<e.length?{type:h[i],data:e.substring(1)}:{type:h[i]}:m},f.decodeBase64Packet=function(e,t){var i=h[e.charAt(0)];if(!l.ArrayBuffer)return{type:i,data:{base64:!0,data:e.substr(1)}};var n=a.decode(e.substr(1));return"blob"===t&&g&&(n=new g([n])),{type:i,data:n}},f.encodePayload=function(e,i,n){"function"==typeof i&&(n=i,i=null);var a=o(e);return i&&a?g&&!c?f.encodePayloadAsBlob(e,n):f.encodePayloadAsArrayBuffer(e,n):e.length?void t(e,function(e,t){f.encodePacket(e,!!a&&i,!0,function(e){t(null,e.length+":"+e)})},function(e,t){return n(t.join(""))}):n("0:")},f.decodePayload=function(e,t,i){if("string"!=typeof e)return f.decodePayloadAsBinary(e,t,i);var n;if("function"==typeof t&&(i=t,t=null),""==e)return i(m,0,1);n="";for(var a,o,r=0,s=e.length;r<s;r++)if(":"!=(o=e.charAt(r)))n+=o;else{if(""==n||n!=(a=Number(n)))return i(m,0,1);if(o=e.substr(r+1,a),n!=o.length)return i(m,0,1);if(o.length){if(n=f.decodePacket(o,t,!0),m.type==n.type&&m.data==n.data)return i(m,0,1);if(!1===i(n,r+a,s))return}r+=a,n=""}return""!=n?i(m,0,1):void 0},f.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));t(e,function(e,t){f.encodePacket(e,!0,!0,function(e){return t(null,e)})},function(e,t){var i=t.reduce(function(e,t){var i;return i="string"==typeof t?t.length:t.byteLength,e+i.toString().length+i+2},0),a=new Uint8Array(i),o=0;return t.forEach(function(e){var t="string"==typeof e,i=e;if(t){for(var i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);i=i.buffer}for(a[o++]=t?0:1,e=i.byteLength.toString(),n=0;n<e.length;n++)a[o++]=parseInt(e[n]);for(a[o++]=255,i=new Uint8Array(i),n=0;n<i.length;n++)a[o++]=i[n]}),n(a.buffer)})},f.encodePayloadAsBlob=function(e,i){t(e,function(e,o){f.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);e=i.buffer,t[0]=0}for(var i=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(i.length+1),n=0;n<i.length;n++)a[n]=parseInt(i[n]);a[i.length]=255,g&&(e=new g([t.buffer,a.buffer,e]),o(null,e))})},function(e,t){return i(new g(t))})},f.decodePayloadAsBinary=function(e,i,n){"function"==typeof i&&(n=i,i=null);for(var t=[],a=!1;0<e.byteLength;){for(var o=new Uint8Array(e),r=0===o[0],s="",l=1;255!=o[l];l++){if(310<s.length){a=!0;break}s+=o[l]}if(a)return n(m,0,1);if(e=d(e,2+s.length),s=parseInt(s),o=d(e,0,s),r)try{o=String.fromCharCode.apply(null,new Uint8Array(o))}catch(e){for(r=new Uint8Array(o),o="",l=0;l<r.length;l++)o+=String.fromCharCode(r[l])}t.push(o),e=d(e,s)}var c=t.length;t.forEach(function(e,t){n(f.decodePacket(e,i,!0),t,c)})}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./keys":21,after:3,"arraybuffer.slice":4,"base64-arraybuffer":5,blob:6,"has-binary":22,utf8:29}],21:[function(e,t,i){t.exports=Object.keys||function(e){var t,i=[],n=Object.prototype.hasOwnProperty;for(t in e)n.call(e,t)&&i.push(t);return i}},{}],22:[function(e,t,i){(function(n){var a=e("isarray");t.exports=function(e){return function e(t){if(!t)return!1;if(n.Buffer&&n.Buffer.isBuffer(t)||n.ArrayBuffer&&t instanceof ArrayBuffer||n.Blob&&t instanceof Blob||n.File&&t instanceof File)return!0;if(a(t)){for(var i=0;i<t.length;i++)if(e(t[i]))return!0}else if(t&&"object"==typeof t)for(i in t.toJSON&&(t=t.toJSON()),t)if(Object.prototype.hasOwnProperty.call(t,i)&&e(t[i]))return!0;return!1}(e)}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{isarray:25}],23:[function(e,t,i){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){t.exports=!1}},{}],24:[function(e,t,i){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var i=0;i<e.length;++i)if(e[i]===t)return i;return-1}},{}],25:[function(e,t,i){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],26:[function(e,l,t){(function(t){var i=/^[\],:{}\s]*$/,n=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,a=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,r=/^\s+/,s=/\s+$/;l.exports=function(e){return"string"==typeof e&&e?(e=e.replace(r,"").replace(s,""),t.JSON&&JSON.parse?JSON.parse(e):i.test(e.replace(n,"@").replace(a,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(e,t,i){i.encode=function(e){var t,i="";for(t in e)e.hasOwnProperty(t)&&(i.length&&(i+="&"),i+=encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return i},i.decode=function(e){var t={};e=e.split("&");for(var i=0,n=e.length;i<n;i++){var a=e[i].split("=");t[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return t}},{}],28:[function(e,t,i){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,s="source protocol authority userInfo user password host port relative path directory file query anchor".split(" ");t.exports=function(e){var t=e,i=e.indexOf("["),n=e.indexOf("]");-1!=i&&-1!=n&&(e=e.substring(0,i)+e.substring(i,n).replace(/:/g,";")+e.substring(n,e.length)),e=r.exec(e||"");for(var a={},o=14;o--;)a[s[o]]=e[o]||"";return-1!=i&&-1!=n&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],29:[function(e,g,u){(function(m){!function(e){function r(e){for(var t,i,n=[],a=0,o=e.length;a<o;)55296<=(t=e.charCodeAt(a++))&&t<=56319&&a<o?56320==(64512&(i=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),a--):n.push(t);return n}function s(e){if(55296<=e&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function a(){if(c<=d)throw Error("Invalid byte index");var e=255&l[d];if(d++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function o(){var e,t,i,n;if(c<d)throw Error("Invalid byte index");if(d==c)return!1;if(e=255&l[d],d++,0==(128&e))return e;if(192==(224&e)){if(t=a(),128<=(e=(31&e)<<6|t))return e;throw Error("Invalid continuation byte")}if(224==(240&e)){if(t=a(),i=a(),2048<=(e=(15&e)<<12|t<<6|i))return s(e),e;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=a(),i=a(),n=a(),65536<=(e=(15&e)<<18|t<<12|i<<6|n)&&e<=1114111))return e;throw Error("Invalid UTF-8 detected")}var t="object"==typeof u&&u,i="object"==typeof g&&g&&g.exports==t&&g,n="object"==typeof m&&m;n.global!==n&&n.window!==n||(e=n);var l,c,d,p=String.fromCharCode,n={version:"2.0.0",encode:function(e){for(var t,i=(e=r(e)).length,n=-1,a="";++n<i;){if(0==(4294967168&(t=e[n])))t=p(t);else{var o="";0==(4294965248&t)?o=p(t>>6&31|192):0==(4294901760&t)?(s(t),o=p(t>>12&15|224),o+=p(t>>6&63|128)):0==(4292870144&t)&&(o=p(t>>18&7|240),o+=p(t>>12&63|128),o+=p(t>>6&63|128)),t=o+=p(63&t|128)}a+=t}return a},decode:function(e){l=r(e),c=l.length,d=0,e=[];for(var t;!1!==(t=o());)e.push(t);t=e.length;for(var i,n=-1,a="";++n<t;)65535<(i=e[n])&&(a+=p((i-=65536)>>>10&1023|55296),i=56320|1023&i),a+=p(i);return a}};if(t&&!t.nodeType)if(i)i.exports=n;else for(var h in e={}.hasOwnProperty,n)e.call(n,h)&&(t[h]=n[h]);else e.utf8=n}(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(e,t,i){function n(e){for(var t="";t=r[e%s]+t,0<(e=Math.floor(e/s)););return t}function a(){var e=n(+new Date);return e!==o?(c=0,o=e):e+"."+n(c++)}for(var o,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),s=64,l={},c=0,d=0;d<s;d++)l[r[d]]=d;a.encode=n,a.decode=function(e){var t=0;for(d=0;d<e.length;d++)t=t*s+l[e.charAt(d)];return t},t.exports=a},{}]},{},[10])(10),$_TAWK_JSON={},function(){function M(e,o){function r(e){if(r[e]!==y)return r[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=r("json-stringify")&&r("json-parse");else{var i;if("json-stringify"==e){var n="function"==typeof(t=o.stringify)&&d;if(n){(i=function(){return 1}).toJSON=i;try{n="0"===t(0)&&"0"===t(new s)&&'""'==t(new l)&&t(w)===y&&t(y)===y&&t()===y&&"1"===t(i)&&"[1]"==t([i])&&"[null]"==t([y])&&"null"==t(null)&&"[null,null,null]"==t([y,w,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==t({a:[i,!0,!1,null,"\0\b\n\f\r\t"]})&&"1"===t(null,i)&&"[\n 1,\n 2\n]"==t([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==t(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==t(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==t(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==t(new c(-1))}catch(e){n=!1}}t=n}if("json-parse"==e){if("function"==typeof(t=o.parse))try{if(0===t("0")&&!t(!1)){var a=5==(i=t('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}')).a.length&&1===i.a[0];if(a){try{a=!t('"\t"')}catch(e){}if(a)try{a=1!==t("01")}catch(e){}if(a)try{a=1!==t("1.")}catch(e){}}}}catch(e){a=!1}t=a}}return r[e]=!!t}e||(e=z.Object()),o||(o=z.Object());var s=e.Number||z.Number,l=e.String||z.String,t=e.Object||z.Object,c=e.Date||z.Date,i=e.SyntaxError||z.SyntaxError,f=e.TypeError||z.TypeError,n=e.Math||z.Math,a=e.JSON||z.JSON;"object"==typeof a&&a&&(o.stringify=a.stringify,o.parse=a.parse);var b,v,y,w=(t=t.prototype).toString,d=new c(-0xc782b5b800cec);try{d=-109252==d.getUTCFullYear()&&0===d.getUTCMonth()&&1===d.getUTCDate()&&10==d.getUTCHours()&&37==d.getUTCMinutes()&&6==d.getUTCSeconds()&&708==d.getUTCMilliseconds()}catch(e){}if(!r("json")){var p=r("bug-string-char-index");if(!d)var _=n.floor,h=[0,31,59,90,120,151,181,212,243,273,304,334],x=function(e,t){return h[t]+365*(e-1970)+_((e-1969+(t=+(1<t)))/4)-_((e-1901+t)/100)+_((e-1601+t)/400)};if((b=t.hasOwnProperty)||(b=function(e){var i,t={};return b=(t.__proto__=null,t.__proto__={toString:1},t).toString!=w?function(e){var t=this.__proto__;return e=e in(this.__proto__=null,this),this.__proto__=t,e}:(i=t.constructor,function(e){var t=(this.constructor||i).prototype;return e in this&&!(e in t&&this[e]===t[e])}),t=null,b.call(this,e)}),v=function(e,t){var i,o,n,a=0;for(n in(i=function(){this.valueOf=0}).prototype.valueOf=0,o=new i)b.call(o,n)&&a++;return i=o=null,(v=a?2==a?function(e,t){var i,n={},a="[object Function]"==w.call(e);for(i in e)a&&"prototype"==i||b.call(n,i)||!(n[i]=1)||!b.call(e,i)||t(i)}:function(e,t){var i,n,a="[object Function]"==w.call(e);for(i in e)a&&"prototype"==i||!b.call(e,i)||(n="constructor"===i)||t(i);(n||b.call(e,i="constructor"))&&t(i)}:(o="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),function(e,t){var i,n="[object Function]"==w.call(e),a=!n&&"function"!=typeof e.constructor&&A[typeof e.hasOwnProperty]&&e.hasOwnProperty||b;for(i in e)n&&"prototype"==i||!a.call(e,i)||t(i);for(n=o.length;i=o[--n];a.call(e,i)&&t(i));}))(e,t)},!r("json-stringify")){var m={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},k=function(e,t){return("000000"+(t||0)).slice(-e)},C=function(e){for(var t='"',i=0,n=e.length,a=!p||10<n,o=a&&(p?e.split(""):e);i<n;i++){var r=e.charCodeAt(i);switch(r){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=m[r];break;default:if(r<32){t+="\\u00"+k(2,r.toString(16));break}t+=a?o[i]:e.charAt(i)}}return t+'"'},E=function(e,t,i,n,a,o,r){var s,l,c,d,p,h,m,g,u;try{s=t[e]}catch(e){}if("object"==typeof s&&s)if("[object Date]"!=(l=w.call(s))||b.call(s,"toJSON"))"function"==typeof s.toJSON&&("[object Number]"!=l&&"[object String]"!=l&&"[object Array]"!=l||b.call(s,"toJSON"))&&(s=s.toJSON(e));else if(-1/0<s&&s<1/0){if(x){for(d=_(s/864e5),l=_(d/365.2425)+1970-1;x(l+1,0)<=d;l++);for(c=_((d-x(l,0))/30.42);x(l,c+1)<=d;c++);d=1+d-x(l,c),h=_((p=(s%864e5+864e5)%864e5)/36e5)%24,m=_(p/6e4)%60,g=_(p/1e3)%60,p%=1e3}else l=s.getUTCFullYear(),c=s.getUTCMonth(),d=s.getUTCDate(),h=s.getUTCHours(),m=s.getUTCMinutes(),g=s.getUTCSeconds(),p=s.getUTCMilliseconds();s=(l<=0||1e4<=l?(l<0?"-":"+")+k(6,l<0?-l:l):k(4,l))+"-"+k(2,c+1)+"-"+k(2,d)+"T"+k(2,h)+":"+k(2,m)+":"+k(2,g)+"."+k(3,p)+"Z"}else s=null;if(i&&(s=i.call(t,e,s)),null===s)return"null";if("[object Boolean]"==(l=w.call(s)))return""+s;if("[object Number]"==l)return-1/0<s&&s<1/0?""+s:"null";if("[object String]"==l)return C(""+s);if("object"==typeof s){for(e=r.length;e--;)if(r[e]===s)throw f();if(r.push(s),u=[],t=o,o+=a,"[object Array]"==l){for(c=0,e=s.length;c<e;c++)l=E(c,s,i,n,a,o,r),u.push(l===y?"null":l);e=u.length?a?"[\n"+o+u.join(",\n"+o)+"\n"+t+"]":"["+u.join(",")+"]":"[]"}else v(n||s,function(e){var t=E(e,s,i,n,a,o,r);t!==y&&u.push(C(e)+":"+(a?" ":"")+t)}),e=u.length?a?"{\n"+o+u.join(",\n"+o)+"\n"+t+"}":"{"+u.join(",")+"}":"{}";return r.pop(),e}};o.stringify=function(e,t,i){var n,a,o,r;if(A[typeof t]&&t)if("[object Function]"==(r=w.call(t)))a=t;else if("[object Array]"==r){o={};for(var s,l=0,c=t.length;l<c;s=t[l++],("[object String]"==(r=w.call(s))||"[object Number]"==r)&&(o[s]=1));}if(i)if("[object Number]"==(r=w.call(i))){if(0<(i-=i%1))for(n="",10<i&&(i=10);n.length<i;n+=" ");}else"[object String]"==r&&(n=i.length<=10?i:i.slice(0,10));return E("",((s={})[""]=e,s),a,o,n,"",[])}}if(!r("json-parse")){var g,u,T=l.fromCharCode,S={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},I=function(){throw g=u=null,i()},B=function(){for(var e,t,i,n,a,o=u,r=o.length;g<r;)switch(a=o.charCodeAt(g),a){case 9:case 10:case 13:case 32:g++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=p?o.charAt(g):o[g],g++,e;case 34:for(e="@",g++;g<r;)if((a=o.charCodeAt(g))<32)I();else if(92==a)switch(a=o.charCodeAt(++g),a){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=S[a],g++;break;case 117:for(t=++g,i=g+4;g<i;g++)48<=(a=o.charCodeAt(g))&&a<=57||97<=a&&a<=102||65<=a&&a<=70||I();e+=T("0x"+o.slice(t,g));break;default:I()}else{if(34==a)break;for(a=o.charCodeAt(g),t=g;32<=a&&92!=a&&34!=a;)a=o.charCodeAt(++g);e+=o.slice(t,g)}if(34==o.charCodeAt(g))return g++,e;I();default:if(t=g,45==a&&(n=!0,a=o.charCodeAt(++g)),48<=a&&a<=57){for(48==a&&(48<=(a=o.charCodeAt(g+1))&&a<=57)&&I();g<r&&(48<=(a=o.charCodeAt(g))&&a<=57);g++);if(46==o.charCodeAt(g)){for(i=++g;i<r&&(48<=(a=o.charCodeAt(i))&&a<=57);i++);i==g&&I(),g=i}if(101==(a=o.charCodeAt(g))||69==a){for(43!=(a=o.charCodeAt(++g))&&45!=a||g++,i=g;i<r&&(48<=(a=o.charCodeAt(i))&&a<=57);i++);i==g&&I(),g=i}return+o.slice(t,g)}if(n&&I(),"true"==o.slice(g,g+4))return g+=4,!0;if("false"==o.slice(g,g+5))return g+=5,!1;if("null"==o.slice(g,g+4))return g+=4,null;I()}return"$"},N=function(e){var t,i;if("$"==e&&I(),"string"==typeof e){if("@"==(p?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=B());i||(i=!0))i&&(","==e?"]"==(e=B())&&I():I()),","==e&&I(),t.push(N(e));return t}if("{"==e){for(t={};"}"!=(e=B());i||(i=!0))i&&(","==e?"}"==(e=B())&&I():I()),","!=e&&"string"==typeof e&&"@"==(p?e.charAt(0):e[0])&&":"==B()||I(),t[e.slice(1)]=N(B());return t}I()}return e},H=function(e,t,i){(i=R(e,t,i))===y?delete e[t]:e[t]=i},R=function(e,t,i){var n,a=e[t];if("object"==typeof a&&a)if("[object Array]"==w.call(a))for(n=a.length;n--;)H(a,n,i);else v(a,function(e){H(a,e,i)});return i.call(e,t,a)};o.parse=function(e,t){var i,n;return g=0,u=""+e,i=N(B()),"$"!=B()&&I(),g=u=null,t&&"[object Function]"==w.call(t)?R(((n={})[""]=i,n),"",t):i}}}return o.runInContext=M,o}var e="function"==typeof define&&define.amd,A={function:!0,object:!0},t=A[typeof exports]&&exports&&!exports.nodeType&&exports,z=A[typeof window]&&window||this,i=t&&A[typeof module]&&module&&!module.nodeType&&"object"==typeof s&&s;if(!i||i.global!==i&&i.window!==i&&i.self!==i||(z=i),t&&!e)var n=M(z,t);else{var a=z.JSON,o=z.JSON3,r=!1;n=M(z,z.JSON3={noConflict:function(){return r||(r=!0,z.JSON=a,z.JSON3=o,a=o=null),n}})}$_TAWK_JSON={parse:n.parse,stringify:n.stringify}}.call(this),function(e){"function"!=typeof Array.isArray&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1}),e=e.EventEmitter=function(){};var o=Array.isArray;e.prototype.emit=function(e){var t;if("error"===e&&(!this._events||!this._events.error||o(this._events.error)&&!this._events.error.length)){if(arguments[1]instanceof Error)throw arguments[1];throw Error("Uncaught, unspecified 'error' event.")}if(!this._events)return!1;if(!(i=this._events[e]))return!1;if("function"==typeof i){switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:t=Array.prototype.slice.call(arguments,1),i.apply(this,t)}return!0}if(o(i)){t=Array.prototype.slice.call(arguments,1);for(var i,n=0,a=(i=i.slice()).length;n<a;n++)i[n].apply(this,t);return!0}return!1},e.prototype.addListener=function(e,t){if("function"!=typeof t)throw Error("addListener only takes instances of Function");return this._events||(this._events={}),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,this},e.prototype.on=e.prototype.addListener,e.prototype.once=function(t,i){var n=this;n.on(t,function e(){n.removeListener(t,e),i.apply(this,arguments)})},e.prototype.removeListener=function(e,t){if("function"!=typeof t)throw Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var i=this._events[e];if(o(i)){var n=i.indexOf(t);if(n<0)return this;i.splice(n,1),0===i.length&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},e.prototype.removeAllListeners=function(e){return e?e&&this._events&&this._events[e]&&(this._events[e]=null):this._events={},this},e.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),o(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}}(window),function(n){function e(e,t){if(!t.engineIo)throw Error("You must specify engineIo");if(t.timestampRequests=!0,t.timestampParam="__t",this.__callbackIndex=0,this.__callbacks={},this.state=a.OPENING,this.socket=new t.engineIo(e,t),this.debug=!1,document.getElementById("tawk__dmz")){var i=this;n.getSocketTransport=function(){if(i.socket.transport)return i.socket.transport.name}}document.location&&"#!tawk-debug"===document.location.hash&&(this.debug=!0),EventEmitter.call(this),this.attachListeners()}var t,a={OPENING:"opening",OPEN:"open",CLOSING:"closing",CLOSED:"closed"};for(t in EventEmitter.prototype)"function"==typeof EventEmitter.prototype[t]&&Object.prototype.hasOwnProperty.call(EventEmitter.prototype,t)&&(e.prototype[t]=EventEmitter.prototype[t]);e.prototype.attachListeners=function(){var i=this;this.socket.on("open",function(){i.state=a.OPEN,i.emit("connect")}),this.socket.on("close",function(e,t){i.emit("disconnect",e,t),i.doClose()}),this.socket.on("error",function(e){i.emit("error",e)}),this.socket.on("message",function(e){i.onMessage(e)})},e.prototype.close=e.prototype.disconnect=function(){var e=this;this.state===a.OPENING&&setTimeout(function(){e.close()},1e3),this.state===a.OPEN&&(this.state=a.CLOSING,this.clearCallbacks(),this.socket.close())},e.prototype.doClose=function(){this.clearCallbacks(),this.state=a.CLOSED,this.socket.removeAllListeners(),this.removeAllListeners(),this.socket=null},e.prototype.clearCallbacks=function(){this.__callbacks={}},e.prototype.onMessage=function(e){(e=this.decode(e))&&("__callback__"===e.c?this.executeCallback(e):this.emit.apply(this,[e.c].concat(e.p)))},e.prototype.executeCallback=function(e){var t=this.__callbacks[e.cb];delete this.__callbacks[e.cb],t.apply(null,e.p)},e.prototype.decode=function(e){var t;this.debug&&console&&console.log&&(data=new Date,console.log("received "+data.toUTCString()+" : "+e));try{t=$_TAWK_JSON.parse(e)}catch(e){return void this.emit("error",e)}if(t.c)if("error"===t.c||"connect"===t.c||"disconnect"===t.c)this.emit("error",Error("server returned reserved command : `"+t.cmd+"`"));else if(t.p&&"[object Array]"!==Object.prototype.toString.call(t.p))this.emit("error",Error("data is expected to be an array"));else{if("__callback__"!==t.c)return t;if(e=parseInt(t.cb,10),isNaN(e))this.emit("error",Error("received callback command but there was no valid callback id(`"+e+"`"));else{if(this.__callbacks[e])return t.cb=e,t;this.emit("error",Error("received callback command but callback isnt present (`"+t.cb+"`)"))}}else this.emit("error",Error("no command was sent by the server"))},e.prototype.send=function(){var e=this.encode(arguments);this.debug&&console&&console.log&&(data=new Date,console.log("send "+data.toUTCString()+" : "+e)),this.state!==a.OPEN?this.emit("error",Error("Socket isnt open its state is `"+this.state+"` tried to send `"+e+"`")):e&&this.socket.send(e)},e.prototype.encode=function(e){var t={};if((e=Array.prototype.slice.call(e))[0]){var i;t.c=e[0],"function"==typeof e[e.length-1]&&(t.cb=this.enqueuCallback(e.pop())),t.p=e.slice(1);try{i=$_TAWK_JSON.stringify(t)}catch(e){return void this.emit("error",e)}return i}this.emit("error",Error("now command specified"))},e.prototype.enqueuCallback=function(e){return this.__callbacks[this.__callbackIndex]=e,this.__callbackIndex++},n.$__TawkSocket=e}(window),function(s){var c,d,o,u,r,l,n,a,p,h,m,g={},f=this,b=(new Date).getTime(),v=f.navigator,y={viewHandler:null};s.startTime=b.toString(),s.loaded=!1,s.connected=!1,s.ready=!1,"undefined"!=typeof Tawk_LoadStart&&($_Tawk_LoadStart=Tawk_LoadStart);try{y.ResetStyle="html,body,div,span,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,abbr,address,cite,code,del,dfn,em,img,ins,kbd,q,samp,small,strong,sub,sup,var,b,i,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,figcaption,figure,footer,header,hgroup,menu,nav,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}body{line-height:1}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}nav ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{background-color:#ff9;color:#000;text-decoration:none}mark{background-color:#ff9;color:#000;font-style:italic;font-weight:bold}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}table{border-collapse:collapse;border-spacing:0}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}html,body{height:100%;width:100%}body{background:transparent;height:100%;width:100%;font:13px Helvetica,Arial,sans-serif;position:relative}.clear{clear:both}.clearfix:after{content:'';display:block;height:0;clear:both;visibility:hidden}",y.MaximizedStyle=".rtl-direction{direction:rtl !important}#tawkchat-maximized-wrapper{width:100%;height:100%;position:relative}#borderWrapper{position:absolute;top:0;bottom:0;z-index:-10;background-color:#e1e1e1;width:100%;height:100%}.noCookies #borderWrapper{background-color:transparent}#innerWrapper{background:#fff;left:2px;position:absolute;right:2px;top:2px;bottom:0;*height:expression(this.parentNode.offsetHeight - 4+'px');*width:expression(this.parentNode.offsetWidth - 4+'px');-webkit-box-shadow:rgba(0,0,0,0.0980392) 0 0 1px 2px;-moz-box-shadow:rgba(0,0,0,0.0980392) 0 0 1px 2px;box-shadow:rgba(0,0,0,0.0980392) 0 0 1px 2px}.embedded #innerWrapper{left:0 !important;right:0 !important;top:0 !important;bottom:0 !important}#headerBoxWrapper{height:45px}#expandableLink{height:5px;width:100%;font-size:0;cursor:s-resize;visibility:hidden;position:absolute;top:56px;z-index:30}#expandableIcon{width:30px;height:4px;margin:0 auto;background:#a1a1a1}#expandableLink.expanded{cursor:n-resize}#headerBox{height:45px;position:relative;z-index:30}.noCookies #headerBox{-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box;border-radius:8px 8px 0 0 !important;-moz-border-radius:8px 8px 0 0 !important;-webkit-border-radius:8px 8px 0 0 !important}.noCookies.embed #headerBox{border-radius:0 !important;-moz-border-radius:0 !important;-webkit-border-radius:0 !important}#agentBar{position:absolute;bottom:32px;top:70px;width:100%;background-color:#eee;display:none;overflow:auto;z-index:10003}.noCookies #headerBoxControlsContainer{float:right;margin-left:0;width:28px}#headerBoxControlsContainer{height:45px;float:left;width:83px;margin-left:-83px}.embedded #headerBoxControlsContainer{display:none;width:30px;margin-left:-30px}.embedded #headerAccountState{margin-right:28px;margin-left:0}.embedded.rtl-direction #headerAccountState{margin-right:0;margin-left:28px}.rtl-direction #headerBoxControlsContainer{margin-left:-100%}#popupLink{float:right;display:inline;margin:15px 6px 0 0;background:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-repeat:no-repeat;background-position:-213px 0;width:20px;height:20px;cursor:pointer}.noCookies #minimizeChat{width:15px;margin:20px 0;cursor:pointer}.noCookies.white #minimizeChat{background-position:-95px 0}.noCookies.black #minimizeChat{background-position:-32px 0}#minimizeLink{display:inline;background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-188px 0;width:20px;height:20px;background-repeat:no-repeat;float:right;margin:15px 6px 0 0;cursor:pointer}#headerAccountStateContainer{float:left;width:100%;height:45px}#headerAccountState{vertical-align:baseline;font-size:17px;padding:0 15px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin-right:80px;margin-left:0;line-height:45px}.rtl-direction #headerAccountState{margin-right:0;margin-left:80px}#chatContainerWrapper{position:absolute;bottom:109px;top:3px;width:100%;background-color:#fcfcfc}#chatContainerWrapper.chat-ended{bottom:118px;*height:expression(this.parentNode.offsetHeight - 200+'px')}#chatContainer{overflow:auto;position:absolute;font-size:14px;font-family:Arial;color:#6c6c6c;min-width:270px;left:3px;right:3px;height:auto;overflow-x:hidden;top:0;bottom:0}#maxFileNotificationContainer,#maxSizeNotificationContainer{color:#8a6d3b;background-color:#fcf8e3;border:#faebcc 1px solid;margin:5px 10px;padding:5px 10px;border-radius:6px;font-size:13px}.closeButtonContainer{margin:10px auto auto auto;text-align:right}.closeNotification{cursor:pointer;text-transform:uppercase}#maxFileSizeList,#maxFileNumberList{margin:10px}#maxFileSizeList li,#maxFileNumberList li{word-wrap:break-word}#maxFileSizeList a,#maxFileNumberList a{color:#00E}#chatContainer .hidden{display:none}.actionRetry{cursor:pointer;float:right}#actionsContainer{z-index:99998;height:107px;background-color:#fff;border-top:2px solid #e1e1e1;position:absolute;bottom:0;width:100%}#status-message{font-weight:bold;font-style:normal}#resizeBox{width:52px;height:52px;position:absolute;top:0;background-color:#000;z-index:5}body.right #resizeBox{left:0;float:left;-webkit-border-top-left-radius:3px;-moz-border-radius-topleft:3px;border-top-left-radius:3px}body.left #resizeBox{right:0;float:right;-webkit-border-top-right-radius:3px;-moz-border-radius-topright:3px;border-top-right-radius:3px}#resizeInnerBox{background-color:#fefefe;width:47px;height:47px}body.right #resizeInnerBox{-webkit-border-top-left-radius:3px;-moz-border-radius-topleft:3px;border-top-left-radius:3px;margin:5px 0 0 5px}body.left #resizeInnerBox{-webkit-border-top-right-radius:3px;-moz-border-radius-topright:3px;border-top-right-radius:3px;margin:5px 5px 0 0}#pluginsBar{height:23px;background-color:#c2c2c2;min-width:278px}#ratingContainer{position:absolute;width:38px;margin:0;right:30px;top:10px}.rtl-direction #ratingContainer{right:auto;left:30px;-ms-transform:rotateY(180deg);-webkit-transform:rotateY(180deg);-moz-transform:rotateY(180deg);-o-transform:rotateY(180deg);transform:rotateY(180deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2)}#ratingContainer a{float:left;margin:0 5px 0 0;width:14px;height:13px;cursor:pointer;background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-repeat:no-repeat}.rtl-direction #ratingContainer a{margin:0 0 0 5px}#ratingContainer a:active,#ratingContainer a:focus{outline:0}#ratePositive{background-position:-145px 0}#rateNegative{background-position:-126px 0}#ratePositive:hover,#ratePositive.selected{background-position:-164px 0}#ratePositive:hover,#rateNegative:hover{transform:scale(1.5,1.5);// This is the enlarged size scale of the image. transition-duration:500ms;transition-timing-function:ease-out;-webkit-transform:scale(1.5,1.5);// This is the enlarged size scale of the image. -webkit-transition-duration:500ms;-webkit-transition-timing-function:ease-out;-moz-transform:scale(1.5,1.5);// This is the enlarged size scale of the image. -moz-transition-duration:500ms;-moz-transition-timing-function:ease-out;-ms-transform:scale(1.5,1.5);// This is the enlarged size scale of the image. -ms-transition-duration:500ms;-ms-transition-timing-function:ease-out;-o-transform:scale(1.5,1.5);// This is the enlarged size scale of the image. -o-transition-duration:500ms;-o-transition-timing-function:ease-out}#rateNegative:hover,#rateNegative.selected{background-position:-183px 0}.activeSound{background-position:0 0;background-repeat:no-repeat}.disabledSound{background-position:-21px 0;background-repeat:no-repeat}#textareaWrapper{display:block;background-color:#fff;position:relative}#textareaContainer{height:52px;padding:10px;padding-right:30px}.rtl-direction #textareaContainer{padding:10px;padding-left:30px}#chatTextarea{padding:0;margin:0;height:100%;width:100%;overflow:hidden;resize:none;border:0;vertical-align:top;font-size:14px !important;background-color:#fff;color:#000}#chatTextarea:active,#chatTextarea:focus{outline:0}#textareaContainer textarea::-webkit-input-placeholder{color:#b3b3b3;font-style:italic;font-family:Arial}#textareaContainer textarea::-moz-placeholder{color:#b3b3b3;font-style:italic;font-family:Arial}#textareaContainer textarea:-ms-input-placeholder{color:#b3b3b3;font-style:italic;font-family:Arial}#greetingsContainer{margin:7px 45px 0 45px;padding:5px;text-align:center;white-space:pre-wrap;word-wrap:break-word;color:black;font-size:15px !important}#formContainer #greetingsContainer{margin:0 !important}.embedded{width:100%;height:100%}.embedded #headerBox{-webkit-border-top-left-radius:0 !important;-moz-border-radius-topleft:0 !important;border-top-left-radius:0 !important;-webkit-border-top-right-radius:0 !important;-moz-border-radius-topright:0 !important;border-top-right-radius:0 !important}#agentBar.expanded{height:auto;overflow-y:auto;display:block;max-height:153px}#agentList{padding:0 5px}#agentList .agentWrapper{border-radius:0;margin:10px 0}#profileDetail .agentContainer{margin-left:50px}.agentContainer{height:50px}.rtl-direction #profileDetail .agentContainer{margin-right:50px;margin-left:0}#agentBar .agentContainer{height:50px;width:100%;float:left}.agentContainerNoImage{height:45px}.agentWrapper{width:100%;min-width:280px;clear:both;position:relative;-webkit-border-top-left-radius:10px;-webkit-border-top-right-radius:10px;-moz-border-radius-topleft:10px;-moz-border-radius-topright:10px;border-top-left-radius:10px;border-top-right-radius:10px}#headerBox .agentInformationContainer{padding:10px 0}#agentBar .agentInformationContainer{padding:10px 0;margin-left:50px;margin-right:0}.rtl-direction #agentBar .agentInformationContainer{margin-right:50px;margin-left:0}.agentInformationContainerNoImage{padding-top:13px;padding-bottom:13px;font-size:16px}.agentInformationContainer{font-size:14px}.position-label{font-size:12px}.agentNameCentered{margin-top:8px;font-weight:bold}.noImageAgentProfileDetail{padding-left:5px}.rtl-direction .noImageAgentProfileDetail{padding:0 5px 0 0}.agentInformationContainer p{height:16px;white-space:nowrap;overflow:hidden;box-sizing:border-box;text-overflow:ellipsis}.agentInformationContainer .agentName{font-weight:bold}#headerBox .alias-image{-moz-animation:profileShow .5 ease-in;-webkit-animation:profileShow .5s ease-in;-o-animation:profileShow .5 ease-in;-ms-animation:profileShow .5 ease-in;animation:profileShow .5s ease-in}@-ms-keyframes profileShow{0%{-ms-transform:scale(0)}6.25%{-ms-transform:scale(0.1)}12.5%{-ms-transform:scale(0.2)}18.75%{-ms-transform:scale(0.3)}25%{-ms-transform:scale(0.4)}31.25%{-ms-transform:scale(0.5)}37.5%{-ms-transform:scale(0.6)}43.75%{-ms-transform:scale(0.7)}50%{-ms-transform:scale(0.8)}56.25%{-ms-transform:scale(0.9)}62.5%{-ms-transform:scale(1)}68.75%{-ms-transform:scale(1.1)}75%{-ms-transform:scale(1.2)}81.25%{-ms-transform:scale(1.3)}87.5%{-ms-transform:scale(1.2)}93.75%{-ms-transform:scale(1.1)}100%{-ms-transform:scale(1)}}@-webkit-keyframes profileShow{0%{-webkit-transform:scale(0)}6.25%{-webkit-transform:scale(0.1)}12.5%{-webkit-transform:scale(0.2)}18.75%{-webkit-transform:scale(0.3)}25%{-webkit-transform:scale(0.4)}31.25%{-webkit-transform:scale(0.5)}37.5%{-webkit-transform:scale(0.6)}43.75%{-webkit-transform:scale(0.7)}50%{-webkit-transform:scale(0.8)}56.25%{-webkit-transform:scale(0.9)}62.5%{-webkit-transform:scale(1)}68.75%{-webkit-transform:scale(1.1)}75%{-webkit-transform:scale(1.2)}81.25%{-webkit-transform:scale(1.3)}87.5%{-webkit-transform:scale(1.2)}93.75%{-webkit-transform:scale(1.1)}100%{-webkit-transform:scale(1)}}@-moz-keyframes profileShow{0%{-moz-transform:scale(0)}6.25%{-moz-transform:scale(0.1)}12.5%{-moz-transform:scale(0.2)}18.75%{-moz-transform:scale(0.3)}25%{-moz-transform:scale(0.4)}31.25%{-moz-transform:scale(0.5)}37.5%{-moz-transform:scale(0.6)}43.75%{-moz-transform:scale(0.7)}50%{-moz-transform:scale(0.8)}56.25%{-moz-transform:scale(0.9)}62.5%{-moz-transform:scale(1)}68.75%{-moz-transform:scale(1.1)}75%{-moz-transform:scale(1.2)}81.25%{-moz-transform:scale(1.3)}87.5%{-moz-transform:scale(1.2)}93.75%{-moz-transform:scale(1.1)}100%{-moz-transform:scale(1)}}@-o-keyframes profileShow{0%{-o-transform:scale(0)}6.25%{-o-transform:scale(0.1)}12.5%{-o-transform:scale(0.2)}18.75%{-o-transform:scale(0.3)}25%{-o-transform:scale(0.4)}31.25%{-o-transform:scale(0.5)}37.5%{-o-transform:scale(0.6)}43.75%{-o-transform:scale(0.7)}50%{-o-transform:scale(0.8)}56.25%{-o-transform:scale(0.9)}62.5%{-o-transform:scale(1)}68.75%{-o-transform:scale(1.1)}75%{-o-transform:scale(1.2)}81.25%{-o-transform:scale(1.3)}87.5%{-o-transform:scale(1.2)}93.75%{-o-transform:scale(1.1)}100%{-o-transform:scale(1)}}@keyframes profileShow{0%{transform:scale(0)}6.25%{transform:scale(0.1)}12.5%{transform:scale(0.2)}18.75%{transform:scale(0.3)}25%{transform:scale(0.4)}31.25%{transform:scale(0.5)}37.5%{transform:scale(0.6)}43.75%{transform:scale(0.7)}50%{transform:scale(0.8)}56.25%{transform:scale(0.9)}62.5%{transform:scale(1)}68.75%{transform:scale(1.1)}75%{transform:scale(1.2)}81.25%{transform:scale(1.3)}87.5%{transform:scale(1.2)}93.75%{transform:scale(1.1)}100%{transform:scale(1)}}#agentBar .alias-image,#headerBox .alias-image{width:40px;height:40px;margin:0;background-repeat:no-repeat;border-radius:20px;margin:5px 0;background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-624px 0;float:left;margin-left:-100%}.rtl-direction #agentBar .alias-image,.rtl-direction #headerBox .alias-image{float:right}.agentChatContainer .messageBody{margin:-12px 0 0 0;max-width:100%}.rtl-direction .agentChatContainer .messageBody{float:right;margin:-12px 00px 0 0}.agentChatContainer .message{background:#eee;color:#333;margin-right:40px;margin-left:0;padding:5px 10px;border-radius:0 15px 15px 15px}.rtl-direction .agentChatContainer .message{margin:0 0 0 40px;border-radius:15px 0 15px 15px}.ie9.rtl-direction .agentChatContainer .message{border-radius:0 15px 15px 15px !important}.agentChatContainer .messageStatusContainer{margin-left:-40px;position:absolute;top:5px;left:100%}.rtl-direction .agentChatContainer .messageStatusContainer{margin:0 -40px 0 0;left:auto;right:100%}.messageContainer.agentChatContainer{margin:10px 0 10px 12px}.rtl-direction .messageContainer.agentChatContainer{margin:10px 8px 10px 0}.messageContainer.visitorChatContainer{margin:10px 12px 10px 0}.rtl-direction .messageContainer.visitorChatContainer{margin:10px 0 10px 12px}.visitorChatContainer .messageBody{margin:2px 0 0 0;float:right;max-width:100%}.rtl-direction .visitorChatContainer .messageBody{float:left}.visitorChatContainer .messageWrapper .message{color:#333;text-align:left;border-radius:15px 0 15px 15px;background:#e5e5e5;margin-left:40px}.rtl-direction .visitorChatContainer .messageWrapper .message{text-align:right;margin:0 30px 0 0;border-radius:0 15px 15px 15px}.ie9.rtl-direction .visitorChatContainer .messageWrapper .message{border-radius:15px 0 15px 15px !important}.visitorChatContainer .messageStatusContainer.errorInMessage{width:100%;position:relative;right:auto}.visitorChatContainer .messageStatusContainer.errorInMessage a{float:right;font-size:11px;text-decoration:none;color:#ec6368;width:100%;background:0;text-align:right;top:0;margin:0;line-height:10px}.rtl-direction .visitorChatContainer .messageStatusContainer.errorInMessage a{float:left;text-align:left}.visitorChatContainer .messageStatusContainer{position:absolute;right:100%;top:5px;margin-right:-40px}.rtl-direction .visitorChatContainer .messageStatusContainer.errorInMessage{left:auto;margin:0}.rtl-direction .visitorChatContainer .messageStatusContainer{right:auto;left:100%;margin:0 0 0 -40px}.messageHead{position:absolute;z-index:10001}.messageHeadLine{position:relative;top:10px;z-index:1}.messageContainer .messageHead .messageTitle{text-align:center;width:100%}.messageBody{line-height:1.5em;margin:5px 0 0 42px;float:left;position:relative}.notification{margin-left:0;width:100%}.ownerNameContainer,.notificationContainer{float:left}.rtl-direction .notificationContainer{direction:rtl !important;float:right}.notificationContainer .message{margin-right:40px;font-size:14px !important;font-style:italic}.rtl-direction .notificationContainer .message{margin:0 0 0 40px}.message{white-space:pre-wrap;word-wrap:break-word}.messageContainer .messageHead.agent .messageTime,.notificationTime{color:#b3b3b3}.notificationTime{width:40px;float:left;margin-left:-40px;text-align:right;font-size:12px !important}.rtl-direction .notificationTime{float:right;margin:0 -40px 0 0;text-align:left}.messageStatusContainer{position:relative;z-index:2;width:40px;float:left}.messageTime{padding:0 2px 0 8px;font-size:11px !important;color:#777;display:none}.rtl-direction .messageTime{padding:0 8px 0 2px}.messageTime.visitor{padding:0 8px 0 2px}.rtl-direction .messageTime.visitor{padding:0 2px 0 8px}.show-time .messageTime{display:block}.messageWrapper{background:0;position:relative;width:100%;float:left}.messageStatus{width:16px;height:16px}.messageStatus:active,.messageStatus:focus{outline:0}.messageStatusContainer.pending .messageStatus{background-image:url('https://static-v.tawk.to/a-v3-39/images/ajax-loader.gif');background-position:0 0;background-repeat:no-repeat;float:right;margin-top:5px;width:13px;height:13px;margin-right:5px}.messageWrapper.pending{font-style:italic}.messageWrapper.error{font-style:italic;color:red;cursor:pointer;float:right;width:auto}.rtl-direction .messageWrapper.error{max-width:100%;float:left}.messageWrapper.error .message{background-color:#ec6368 !important;color:#fff !important}.messageWrapper .message{font-size:14px !important;padding:5px 10px}.longFormContainer::-webkit-scrollbar-thumb,#chatContainer::-webkit-scrollbar-thumb{-webkit-border-radius:10px;border-radius:10px;background-color:#d4d4d4}.longFormContainer::-webkit-scrollbar,#chatContainer::-webkit-scrollbar{width:10px}.messageTitle span{text-transform:uppercase;font-weight:bold;padding:0 10px;color:#ccc;background-color:#fff;z-index:1;position:relative}#formContainer{position:absolute;z-index:20;display:none;left:0;right:0;bottom:32px;top:70px;overflow:hidden;background-color:#fcfcfc;*width:expression(this.parentNode.offsetWidth+'px');*height:expression(this.parentNode.offsetHeight - 102+'px');z-index:99999}.noCookies #formContainer{top:45px}.formMessageField{padding:10px 20px;line-height:1.2em;color:#616161;font-size:15px;text-align:center;word-wrap:break-word}.form{margin:0 20px;font-size:13px;color:#a1a1a1;height:100%}.form fieldset{padding:0}.longFormContainer{position:absolute;left:5px;right:5px;bottom:50px;top:0;overflow-y:auto;padding-bottom:10px}.longFormBottomContainer{position:absolute;bottom:0;left:0;right:0}.form .textareaFieldset{padding:0 33px 0 0;margin:0 0 7px 0;position:relative;-webkit-border-radius:3px;-moz-border-radius:3px;-ms-border-radius:3px;-o-border-radius:3px;border-radius:3px;background-color:#fff;border:1px solid #ccc}.rtl-direction .form .textareaFieldset{padding:0 0 0 33px}.form textarea{resize:none;display:block;height:40px;width:100%;overflow:auto;padding:0 15px;color:#707070;font-size:13px;font-weight:bold;border:0;background-color:#fff;font-family:Arial;margin:13px 0}.form textarea:active,.form textarea:focus,.inputContainer select:active,.inputContainer select:focus{outline:0}.inputContainer{padding:0 15px;border:1px solid #ccc;-webkit-border-radius:3px;-moz-border-radius:3px;-ms-border-radius:3px;-o-border-radius:3px;border-radius:3px;background-color:#fff;margin:0 0 7px 0;position:relative}.inputContainer input,.inputContainer select{width:100%;margin:0;border:0;display:block;line-height:1.2em;padding:10px 0;color:#707070;font-family:Arial;font-size:13px;font-weight:bold}.inputContainer input{padding:11px 0}.inputContainer.other-fix{padding:0}.inputContainer select{background-color:#fff;outline:0}#departmentFieldFieldset.safari-fix .inputContainer select{-webkit-appearance:none}#departmentFieldFieldset.safari-fix .inputContainer{position:relative}#departmentFieldFieldset.safari-fix .inputContainer:after{position:absolute;right:24px;top:12px;cursor:pointer;width:10px;height:10px;font-size:10px;padding:0;background:#fff;color:#000;content:'';pointer-events:none;cursor:pointer}.inputContainer.error,.form .textareaFieldset.error{border-color:#ef5656;color:#ef5656}.inputContainer.error input,.form .textareaFieldset.error textarea,.inputContainer.error select,.error .form-field-label{color:#ef5656}.inputContainer.error input::-webkit-input-placeholder,.form .textareaFieldset.error textarea::-webkit-input-placeholder{color:#ef5656}.inputContainer.valid,.form .textareaFieldset.valid{border-color:#92ed9d}.inputContainer.valid{padding-right:30px}.inputContainer.selection.valid{padding:0}.inputContainer input:active,.inputContainer input:focus{margin:0;border:0;outline:0}.inputContainer input:active+.form-field-label,.inputContainer input:focus+.form-field-label,.textareaFieldset textarea:active+.form-field-label,.textareaFieldset textarea:focus+.form-field-label{display:block}.inputContainer input:active::-webkit-input-placeholder,.inputContainer input:focus::-webkit-input-placeholder,.textareaFieldset textarea:active::-webkit-input-placeholder,.textareaFieldset textarea:focus::-webkit-input-placeholder{color:transparent !important}.inputContainer input:focus::-moz-placeholder,.inputContainer input:active::-moz-placeholder,.textareaFieldset textarea:focus::-moz-placeholder,.textareaFieldset textarea:active::-moz-placeholder{color:transparent !important;opacity:0 !important}.formErrorContainer{display:none;margin:0 0 7px 15px;color:#ef5656}.rtl-direction .formErrorContainer{margin:0 15px 7px 0}#preChatForm .formErrorContainer,#offlineForm .formErrorContainer{margin:-6px 15px 7px 0}.rtl-direction #preChatForm .formErrorContainer,.rtl-direction #offlineForm .formErrorContainer{margin:-6px 0 7px 15px}#formSavingStatus.errorMessage{color:#ef5656;border:0;visibility:visible}#formSavingStatus{font-size:13px;visibility:hidden;margin:0 auto;max-width:260px}#formSavingStatus img{margin:0 0 0 5px}.formButtonContainer{margin:20px 0 0 0}button{display:inline;zoom:1;vertical-align:baseline;outline:0 none;cursor:pointer;text-align:center;text-decoration:none;overflow:visible;margin:0;padding:7px 15px 8px 15px;font:bold 14px/100% Arial,sans-serif;background-color:#c1c1c1;color:#3d3d3d;border:0;float:left}button::-moz-focus-inner{border:0}button:focus{outline:0}button:active{background-color:#ddd}button:hover{background-color:#a9a9a9}.formButton{width:100%;height:50px}#agentTypingContainer .messageBody{font-size:16px !important;font-weight:bold;min-width:auto;line-height:normal}#offlineOverlay,#inactivityOverlay,#maintenanceOverlay{text-align:center;margin-top:100px;font-size:40px;font-weight:bold;height:auto}#greetingsOverlay{width:100%;height:100%}#greetingsOverlay #greetingsContainer{font-size:14px;color:#777;font-weight:bold}#greetingsWrapper{transform:translate(0%,-50%);-webkit-transform:translate(0%,-50%);-moz-transform:translate(0%,-50%);-ms-transform:translate(0%,-50%);-o-transform:translate(0%,-50%);top:50%;position:absolute;left:0;right:0;*position:static;*margin-top:expression(this.offsetHeight < this.parentNode.offsetHeight ? parseInt((this.parentNode.offsetHeight - this.offsetHeight) / 2)+'px':'0')}#embedArrow{background-position:-318px 0;width:22px;height:26px;background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-repeat:no-repeat;margin:5px auto}.cookieOff #formContainer{display:block;width:100%;height:100%;left:0;right:0;top:0}#formInnerHeight{margin:0 auto;max-width:260px}#tawktoLink{color:#000;font-size:15px;text-decoration:none;line-height:24px}#tawktoLink .thin{font-size:11px;font-weight:100}#bottomContainer{text-align:right;left:157px;position:absolute;bottom:0;height:30px;right:6px;background:#fff;z-index:100001;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:30px}.noCookies #bottomContainer{position:absolute;bottom:0;text-align:right;height:32px;line-height:32px;background-color:#fcfcfc;right:0;left:0;padding:0 6px;margin:auto;font-weight:700}.noCookies #shortMessage{display:inline-block;padding-left:15px;font-size:17px;line-height:45px}.noCookies #tawktoLink{color:#000;font-weight:700}.rtl-direction #bottomContainer{left:6px;right:157px;text-align:left}#headerBoxControlsContainer .icon{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');display:block}#endChat,#minimizeChat,#popoutChat{width:16px;height:16px;margin:14px 5px 15px 5px;display:inline-block}#endChat{margin-right:10px;margin-left:5px}.embedded #endChat{margin-right:6px;margin-left:6px}.rtl-direction #endChat{margin-right:5px;margin-left:10px}#endChat .icon{width:11px;height:11px;float:right;margin:2.5px}.black #endChat .icon{background-position:0 0}.white #endChat .icon{background-position:-63px 0}#minimizeChat .icon{width:11px;height:7px;margin:4.5px 2.5px}.black #minimizeChat .icon{background-position:-32px 0}.white #minimizeChat .icon{background-position:-95px 0}#popoutChat .icon{width:10px;height:10px;margin:3px}.black #popoutChat .icon{background-position:-48px 0}.white #popoutChat .icon{background-position:-111px 0}#openMenu{position:absolute;left:10px;bottom:0;color:#bdbdbd;font-size:13px;font-weight:700;text-decoration:none;line-height:28px;z-index:100001;cursor:pointer;*bottom:7px;text-transform:lowercase}.rtl-direction #openMenu{right:10px;left:auto}#options{height:32px;margin-left:110px;text-overflow:ellipsis}.rtl-direction #options{margin:0 110px 0 0}#closeMenu{position:absolute;left:10px;bottom:8px;display:none;cursor:pointer}.rtl-direction #closeMenu{right:10px;left:auto}#closeMenu span{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:0 0;width:11px;height:11px;float:right;margin:2px 5px}.rtl-direction #closeMenu span{float:left}.profileImageContainer .agentProfileImage{width:28px;height:28px;background-repeat:no-repeat;border-radius:14px;background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-566px 0;position:absolute;left:0;right:0;background-color:#fcfcfc}.profileImageContainer .visitorProfileImage{width:28px;height:28px;background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-202px 0;float:left;margin-left:-100%}#tawkToContent{display:none;position:absolute;top:45px;bottom:0;width:100%;background:#fcfcfc;z-index:100001}#tawkToContent .contentContainer{position:absolute;top:0;bottom:43px;width:auto;left:10%;right:10%;*bottom:100px}#tawkToContent .buttonContainer{position:absolute;height:50px;bottom:0;width:100%}#tawkToContent .buttonContainer button{width:50%;height:50px}#tawkHeader{font-size:22px;font-weight:bold;text-align:center;padding:20px 0 12px 0;color:#343434;border-bottom:2px solid #ddd;width:150px;margin:0 auto}#tawkContent{font-size:15px;text-align:center;color:#6c6c6c;margin:12px 30px 0 30px}#tawkImage{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-235px 0;width:78px;height:83px;margin:0 auto}#tawkToContent .wrapper{position:absolute;width:100%;margin:5px 0}#optionsContainer{position:absolute;left:0;width:155px;bottom:0;z-index:1000001;padding:3px;text-align:left}.rtl-direction #optionsContainer{left:auto;right:0}#optionsContainer .item{padding:0 3px;color:#696969;cursor:pointer;font-size:12px;font-weight:bold;line-height:30px;display:inline-block;vertical-align:middle;position:relative;height:30px}.rtl-direction #optionsContainer .item{float:right}#optionsContainer .tooltip{position:absolute;top:0;left:0;background:#333;color:#fff;padding:2px;transform:translate(-50%,-100%);min-width:100px;border-radius:3px;display:none;line-height:20px;position:absolute;left:50%;text-align:center}#soundOption .tooltip{left:0;transform:translate(0%,-100%)}#emailTranscriptOption .tooltip{left:-26px;transform:translate(0%,-100%)}#optionsContainer .item:hover .tooltip{display:block}#emailTranscriptForm,#changeNameForm,#endChatForm{position:absolute;width:100%;bottom:0;height:164px;margin:0}#endChatForm{height:109px}#emailTranscriptForm #formInnerHeight,#changeNameForm #formInnerHeight,#endChatForm #formInnerHeight{max-width:100%;width:100%;height:100%;background:#fff}#emailTranscriptForm .longFormBottomContainer,#changeNameForm .longFormBottomContainer,#endChatForm .longFormBottomContainer{bottom:0}#emailTranscriptForm .formButton,#changeNameForm .formButton,#endChatForm .formButton{width:50%}#emailTranscriptForm .inputContainer,#changeNameForm .inputContainer,#endChatForm .inputContainer{border:0;margin:0}#offlineForm #messageField{height:85px}#formContainer.success #offlineForm #overlayOfflineForm{display:block}#formContainer #offlineForm #overlayOfflineForm{position:absolute;top:0;bottom:0;left:0;right:0;display:none;z-index:1;background-color:#fff;color:#000;text-align:center;padding:30px 15px;font-size:15px}#formContainer #offlineForm #overlayOfflineForm #resendButton{margin-top:15px;padding:7px 12px;display:inline-block;font-weight:700;cursor:pointer}#emailTranscriptFormMessageContainer,#changeNameFormMessageContainer{background:#ddd;margin:0;padding:10px;text-align:left}.rtl-direction #emailTranscriptFormMessageContainer,.rtl-direction #changeNameFormMessageContainer{text-align:right}.rtl-direction .longFormBottomContainer #formCancel{float:right}.rtl-direction .longFormBottomContainer #formSubmit{float:left}#submitWrapper{position:absolute;bottom:50px;height:0;width:auto;right:0;background:#000;border-radius:4px 4px 0 0;color:#fff;-webkit-transition:height .25s ease;-moz-transition:height .25s ease;-ms-transition:height .25s ease;-o-transition:height .25s ease;transition:height .25s ease;*height:30px;*display:none}#submitWrapper.visible{height:30px;*display:block}#submitWrapper p{line-height:30px;padding:0 10px;float:left}.rtl-direction #submitWrapper p{float:right}#submitWrapper div{background-image:url('https://static-v.tawk.to/a-v3-39/images/ajax-loader-3.gif');width:16px;height:16px;float:right;margin:7px}#printIcon{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-418px 0;width:18px;height:17px;margin-top:4px}#emailIcon{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-418px 0;width:20px;height:14px;margin-top:9px}#soundOnIcon{background-repeat:no-repeat;background-position:0 0;width:20px;height:20px;margin-top:6px;background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png')}.activeSound #soundOnIcon{background-position:-370px 0}.disabledSound #soundOnIcon{background-position:-345px 0;height:18px;margin-top:7px}#videoCallIcon{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-820px 0;width:24px;height:12px;margin-top:8.5px}#voiceCallIcon{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');width:13px;height:21px;background-position:-849px 0;margin-top:4px}#screenShareIcon{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');width:22px;height:20px;background-position:-867px 0;margin-top:4px}.optionTitle{margin-left:35px}.rtl-direction .optionTitle{margin:0 35px 0 0}#agentProfileContainer{height:50px !important;cursor:pointer;position:relative;margin-right:80px;margin-left:0;padding-left:5px}.rtl-direction #agentProfileContainer,.rtl-direction #agentListBack{margin-left:80px;margin-right:0;padding:0 5px 0 0}#stickyIcon{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-459px 0;width:15px;height:16px;margin:4px}#waitTimeContainer{margin:20px 7px}#stickyContainer{position:absolute;margin-left:-14px;margin-top:-12px;background-color:#fcfcfc;width:23px;height:24px;padding:2px;top:50%}.rtl-direction #stickyContainer{margin-left:0;margin-right:-14px}#waitTimeContainer .messageWrapper{border:1px solid;border-radius:5px;text-align:center;margin:0 auto;float:none}#waitTimeContainer .message{margin:0;padding:12px 10px 12px 14px;font-size:15px !important;color:#7b7a7a;font-weight:bold}#waitTimeContainer .messageBody{width:100%;position:relative;margin:0;line-height:100%;float:none}#profileDetail{height:50px;position:static;width:100%;float:left}#profileDetailNoImage{height:45px;position:static;margin-left:0}#agentWrapper{height:0;display:none;float:left;width:100%;height:45px}#agentListBack{display:none;cursor:pointer;height:70px}#listBack{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-479px 0;width:7px;height:11px;margin-top:29px;float:left;margin-left:20px;margin-right:20px}.black #listBack{background-position:-491px 0}#agentListBack p{font-size:16px;font-weight:bold;margin-top:25px;float:left;height:20px;line-height:20px}.rtl-direction #listBack,.rtl-direction #agentListBack p{float:right}.rtl-direction #listBack{transform:rotate(180deg);-webkit-transform:rotate(180deg);-moz-transform:rotate(180deg);-ms-transform:rotate(180deg);-o-transform:rotate(180deg);filter:progid:DXImageTransform.Microsoft.BasicImage(rotation=2)}.message-success{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-503px 0;width:16px;height:15px;padding:0 8px}.messageStatusContainer.pending .message-success,.messageStatusContainer.pending .messageTime{display:none}.errorInMessage .messageStatus{display:block;float:right;margin-right:5px}#chatPanel{position:absolute;top:45px;bottom:0;width:100%;z-index:0}#chatEnded{position:absolute;left:0;bottom:32px;height:87px;width:100%;background:#fff;display:none;z-index:10}#chatEnded .title{text-align:center;font-size:14px;margin:10px 0}#chatEnded .buttonContainer{width:100%;height:50px}#newChat{width:50%;height:50px;padding:0;float:left;margin-left:-1px}.rtl-direction #newChat{float:right;margin:0 -1px 0 0}#emailTranscript{width:50%;height:50px;padding:0;float:right;margin-right:-1px}.rtl-direction #emailTranscript{float:left;margin:0 0 0 -1px}.validInputIcon{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-545px 0;width:16px;height:15px;display:none;position:absolute;right:10px;top:50%;margin-top:-7.5px}.rtl-direction .validInputIcon{right:auto;left:10px}#prechatButtonContainer{top:auto}.additionalPadding{padding-right:75px !important}.rtl-direction .additionalPadding{padding-right:10px !important;padding-left:50px !important}#newMessageDivider{margin-top:4px;font-size:.7rem;line-height:.6rem}#newMessageDividerLine{border-top:2px solid #e4c0b6;border-bottom:0;margin:0 0 -1px}#newMessageDividerLabel{background:#fcfcfc;margin:-0.3rem 0;float:right;padding:0 .5rem;color:#e4c0b6}.offlineMessageSuccess{color:#6db626}#newMessageContainer{position:relative;left:-50%;cursor:pointer;display:none}#newMessagesBar{position:absolute;bottom:33px;height:0;width:auto;left:50%;color:#fff;-webkit-transition:all .5s ease;-moz-transition:all .5s ease;-ms-transition:all .5s ease;-o-transition:all .5s ease;transition:all .5s ease;visibility:hidden;cursor:pointer;z-index:0}#newMessagesBar.theme-background-color{background-color:transparent !important}#notificationMessageText{font-weight:700}#newMessageArrowDown{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-778px 0;width:16px;height:6px;margin:-1px auto}#newMessagesNotificationLink{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-757px 0;width:16px;height:16px;float:left;margin:7px 7px auto auto}.rtl-direction #newMessagesNotificationLink{float:right;-ms-transform:rotateY(180deg);-webkit-transform:rotateY(180deg);transform:rotateY(180deg);margin:7px auto auto 7px}#newMessagesBar.visible{height:27px;z-index:99997;bottom:118px;visibility:visible}#newMessagesBar.visible #newMessageContainer{display:block}#newMessagesBar p{line-height:27px;padding:0 10px;text-align:center;background-color:#81bd1d;border-radius:5px}.uploaded-image{max-width:100%;max-height:220px;display:block}.download-file{color:#3276b1;text-decoration:none;margin-top:3px;display:block}.download-image{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-669px 0;width:16px;height:18px;padding:1px 8px;vertical-align:middle}.progress{height:14px;position:relative;background:#eee;box-shadow:0 1px 0 transparent,0 0 0 1px #e3e3e3 inset;width:200px;margin:5px 0;display:inline-block;vertical-align:middle}.progress-bar{display:block;height:100%;background-color:#71a06a;box-shadow:inset 0 2px 9px rgba(255,255,255,0.3),inset 0 -2px 6px rgba(0,0,0,0.4);position:relative;overflow:hidden;box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-transition:width .6s ease;-o-transition:width .6s ease;transition:width .6s ease}.upload-data{margin:7px 12px 0 20px;min-width:250px}.upload-data span{font-style:italic;margin-right:3px}#uploadFileIcon{background:url('https://static-v.tawk.to/a-v3-39/images/icons.png') no-repeat top left;background-position:-709px 0;vertical-align:middle;width:20px;height:21px;margin-top:5px}.image-loader{width:30px;height:30px;background:url('https://static-v.tawk.to/a-v3-39/images/image-load.gif');background-repeat:no-repeat;background-position:center}#nameIcon{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-734px 0;width:18px;height:19px;margin-top:3px}.upload-error{margin:5px}.upload-error span{font-size:16px;color:red;font-weight:bold;vertical-align:middle}.drag-over #textareaWrapper:before{text-align:center;margin:0;font-size:25px;height:auto;line-height:68px;color:#ccc;background:#fff;position:absolute;top:0;bottom:0;right:0;left:0;border:3px dashed #ccc;content:'';white-space:pre-line}#drop-text{text-align:center;font-size:25px;height:auto;color:#ccc;position:absolute;top:2px;bottom:2px;right:2px;left:2px;white-space:pre-line;display:none}.drag-over #drop-text{display:block}#drop-text span{display:block;vertical-align:middle;line-height:normal;top:50%;margin-top:-15px;position:relative}.drag-over .drop-text{display:block}.drag-over #ratingContainer{display:none !important}.drag-over #chatTextarea{opacity:0}#upload-form{position:absolute;top:-100000px}#uploadFileOption label{display:block;cursor:pointer}.form-field-label.small{color:#b3b3b3;padding:1px 0 0 0;display:none;font-size:10px;position:absolute;top:0;left:4px;font-weight:bold}.rtl-direction .form-field-label.small{left:auto;right:4px}.form-field-label{color:#707070;font-family:Arial;font-size:13px;font-weight:bold}.selection-label{vertical-align:middle;cursor:pointer}.selection-container{margin:3px}.selections-container{margin:3px 3px 7px 3px}.selections-container.error{border:1px solid #ef5656;border-radius:3px}.agentInfoNoImage{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.messageContainer,#agentTypingContainer{position:relative;margin:10px 12px}.messageContainer{clear:both}.profileImageContainer{height:28px;float:left;width:28px;margin-left:-100%}.ownerNameContainer{float:left;width:100%}.messageOwnerName{color:#a7a7a7;font-weight:bold;text-decoration:none;font-size:12px !important;margin:0;padding:0;line-height:14px;display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin-left:30px}.rtl-direction .messageOwnerName{margin-left:0;margin-right:30px}.messageOwnerName.visitor{text-align:right;margin-right:0;margin-left:0}.rtl-direction .messageOwnerName.visitor{text-align:left}#chatTableWrapper{display:table;height:100%;width:100%;table-layout:fixed}#chatRowWrapper{display:table-row;vertical-align:bottom}#chatCellWrapper{overflow:auto;position:relative;display:table-cell;vertical-align:bottom}.single-agent .profileImageContainer,.single-agent .agentChatContainer .ownerNameContainer{display:none}.single-agent .agentChatContainer .ownerNameContainer.trigger{display:block}.ownerNameContainer.trigger .messageOwnerName{margin-left:0;margin-right:0}.multi-agent .ownerNameContainer.trigger .messageOwnerName{margin-left:30px;margin-right:0}.multi-agent .agentChatContainer .message{margin-left:30px}.rtl-direction .multi-agent .agentChatContainer .message{margin-right:30px;margin-left:40px}.rtl-direction .multi-agent .ownerNameContainer.trigger .messageOwnerName{margin-right:30px;margin-left:0}.single-agent .visitorChatContainer .messageBody,.single-agent .messageOwnerName.visitor{margin-right:0;margin-left:0}.single-agent .visitorChatContainer .messageBody,.single-agent .agentChatContainer .messageBody.trigger{margin-top:2px}.single-agent .agentChatContainer .messageBody,.single-agent .agentChatContainer .ownerNameContainer{margin-left:0;margin-right:0;margin-top:0}#agentTypingContainer .agentChatContainer{margin-bottom:5px}.has-profile-image #headerBoxWrapper,.has-profile-image #headerBox,.has-profile-image #agentWrapper,.has-profile-image #headerBoxControlsContainer,.has-profile-image #agentListBack{height:50px}.has-profile-image #endChat,.has-profile-image #popoutChat,.has-profile-image #minimizeChat{margin-top:17px;margin-bottom:17px}.has-profile-image #agentBar,.has-profile-image #chatPanel,.has-profile-image #tawkToContent{top:50px}.has-profile-image #listBack{margin-top:21px}.has-profile-image #agentListLabel{margin-top:17px}.selection-container input{margin:0 3px 0 5px}@keyframes typing{0%{opacity:0}100%{opacity:1}}@-ms-keyframes typing{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes typing{0%{opacity:0}100%{opacity:1}}@-moz-keyframes typing{0%{opacity:0}100%{opacity:1}}@-o-keyframes typing{0%{opacity:0}100%{opacity:1}}.agentTypingIndicator span{-moz-animation:typing 1.2s infinite;-webkit-animation:typing 1.2s infinite;-o-animation:typing 1.2s infinite;-ms-animation:typing 1.2s infinite;animation:typing 1.2s infinite;animation-fill-mode:both;margin:0 1px;font-size:20px;line-height:0}.agentTypingIndicator span:nth-child(2){animation-delay:400ms;-webkit-animation-delay:400ms;-moz-animation-delay:400ms;-ms-animation-delay:400ms;-o-animation-delay:400ms}.agentTypingIndicator span:nth-child(3){animation-delay:800ms;-webkit-animation-delay:800ms;-moz-animation-delay:800ms;-ms-animation-delay:800ms;-o-animation-delay:800ms}.rtl-direction .message{min-width:45px !important}.message a{color:inherit}#formContainer .inputContainer.selection:before{content:\"\";position:absolute;right:14px;top:13px;width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #707070;z-index:0}#formContainer .inputContainer{background-color:#fff;overflow:hidden;position:relative;height:33px}#formContainer .inputContainer select{position:absolute;height:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:90%;background:transparent;font-family:Arial,Helvetica,sans-serif;font-size:13px;font-weight:600;line-height:1;-webkit-appearance:none;-moz-appearance:none;text-indent:.01px;text-overflow:'';-ms-appearance:none}#formContainer .inputContainer select::-ms-expand{display:none}#endChatOption{display:none}#viewEmoji{position:absolute;top:9px;right:10px;opacity:.4}.drag-over #viewEmoji{display:none}#viewEmoji.active{opacity:1}#viewEmoji .icon{background:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-repeat:no-repeat;background-position:-799px 0;width:16px;height:16px;display:block}#emoji-selection-container{position:absolute;bottom:100px;left:5px;right:5px;height:200px;background:#fff;border:1px solid #ddd;border-radius:3px;display:none;z-index:10001}#tabs-selection{border-bottom:1px solid #ddd;list-style:none}.open-tab{opacity:.4;float:left;margin-bottom:-1px;position:relative;display:block;cursor:pointer;width:11%;text-align:center}.open-tab.active{opacity:1}#tab-content{position:absolute;top:32px;bottom:0;overflow:auto;left:0;right:0;padding:10px}.header-title{text-align:center;margin:5px 0;font-weight:bold;font-size:14px}.emoji-select{display:inline-block;margin:9px}.emoji-select:hover .emojione{transform:scale(2);-ms-transform:scale(2);-webkit-transform:scale(2);-moz-transform:scale(2);-o-transform:scale(2)}.emoji-header{display:block;background-color:#fff;cursor:default;padding:5px 3px;cursor:pointer}.emoji-header:hover{background:#eee}.open-tab.active .emoji-header{-webkit-box-shadow:0 -2px 0 #57889c;-moz-box-shadow:0 -2px 0 #57889c;box-shadow:0 -2px 0 #57889c;border-top-width:0 !important;margin-top:1px !important;border:1px solid #ddd;border-bottom-color:transparent;border-radius:3px 3px 0 0;cursor:default}#people.open-tab.active .emoji-header{border-left:0}.open-tab.active .emoji-header:hover{background:#fff}.emojionly .emojione{height:4.5ex !important}.emojionly .messageWrapper .message{background:transparent !important}#emoji-selection-container .emojione{min-width:auto;min-height:auto;height:3.2ex}#emoji-selection-container .inputContainer{padding:0 6px}#emoji-selection-container .textInput{padding:6px 0}.rtl-direction #viewEmoji{position:absolute;top:9px;left:10px;right:auto;opacity:.4}#incoming-call-container{margin:0;text-align:center;background:#333;color:#fff;padding:5px 5px 10px 5px}#icoming-call-buttons{width:100%;text-align:center;height:42px}#decline-call{background:#f92222;color:#fff;display:inline-block;float:none;margin:0 5px;border-radius:50%;width:42px;height:42px;padding:0;box-shadow:inset 0 -2px 0 rgba(0,0,0,.05);-moz-box-shadow:inset 0 -2px 0 rgba(0,0,0,.05);-webkit-box-shadow:inset 0 -2px 0 rgba(0,0,0,.05);border:1px solid #b91717}#decline-call .icon{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-919px 0;width:32px;height:14px;margin:4px auto}#accept-call{background:#2e9c05;color:white;float:none;display:inline-block;margin:0 5px;border-radius:50%;width:42px;height:42px;padding:0;box-shadow:inset 0 -2px 0 rgba(0,0,0,.05);-moz-box-shadow:inset 0 -2px 0 rgba(0,0,0,.05);-webkit-box-shadow:inset 0 -2px 0 rgba(0,0,0,.05);border:1px solid #1f6b03}#accept-call .icon{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-894px 0;width:20px;height:20px;margin:1px auto}#tooLongMsgNotification{position:absolute;bottom:35px;z-index:100000;width:100%;text-align:center;display:none;color:red;font-size:12px}#tooLongMsgNotification.visible{display:block}.callInfoContainer,.callErrorContainer{border:1px solid #ddd;border-radius:5px;padding:10px 8px;display:none;background:#fff}.callIconContainer{display:table-cell;width:35px;vertical-align:middle}.callIconWrapper{width:35px;height:35px;background:#eee;border-radius:50%;vertical-align:middle;display:inline-block}.callIconContainer .voiceCallIcon{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');width:13px;height:21px;background-position:-849px 0;margin:7px auto}.callIconContainer .videoCallIcon{margin:11.5px auto;background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-820px 0;width:24px;height:12px}.callIconContainer .screenShareIcon{margin:8px auto;background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');width:22px;height:20px;background-position:-867px 0}.callDetailsContainer{display:table-cell;vertical-align:middle;padding-left:5px}.callTitle{font-size:15px;font-weight:bold}.callTitle.missed{color:#a90329}.callEndDetails{display:none}.callErrorContainer .callEndDetails{display:block}.callInfoWrapper{display:table}.callRetryContainer{padding-left:5px;vertical-align:middle;display:table-cell}.retry-load{float:none;background:#fafafa;color:#717171;border:1px solid #d3d3d3}#consentForm #formDecline,#consentForm #formSubmit{width:50%;height:50px}.embedded #consentForm #formDecline{display:none !important}.embedded #consentForm #formSubmit{width:100% !important}.popup #consentForm #formDecline{display:block !important}.popup #consentForm #formSubmit{width:50% !important}",y.MinifiedStyle="@font-face{font-family:'icomoon';src:url('https://static-v.tawk.to/a-v3-39/fonts/icomoon.eot?-7rca1q');src:url('https://static-v.tawk.to/a-v3-39/fonts/icomoon.eot?#iefix-7rca1q') format('embedded-opentype'),url('https://static-v.tawk.to/a-v3-39/fonts/icomoon.ttf?-7rca1q') format('truetype'),url('https://static-v.tawk.to/a-v3-39/fonts/icomoon.woff?-7rca1q') format('woff'),url('https://static-v.tawk.to/a-v3-39/fonts/icomoon.svg?-7rca1q#icomoon') format('svg');font-weight:normal;font-style:normal}.rtl-direction{direction:rtl}.rectangle #tawkchat-minified-wrapper{height:100%;width:100%;*width:expression(this.parentNode.offsetWidth+'px')}.round #tawkchat-minified-wrapper{z-index:999997;bottom:6px}.round #tawkchat-status-text-container{margin-left:1px;border-radius:50%;height:60px;width:60px;-webkit-box-shadow:0 4px 5px -1px rgba(0,0,0,0.5);-moz-box-shadow:0 4px 5px -1px rgba(0,0,0,0.5);box-shadow:0 4px 5px -1px rgba(0,0,0,0.5)}.round #tawkchat-status-icon.online:before,.round #tawkchat-status-icon.away:before{content:\"\\e96c\"}.round #tawkchat-status-icon.offline:before{font-size:38px;line-height:55px;content:\"\\e904\"}.round #tawkchat-status-icon:before{font-size:28px;font-weight:normal;font-family:'icomoon';display:inline-block;vertical-align:top;width:100%;text-align:center;line-height:60px}.round #tawkchat-status-text-container a#maximizeChat,.round #tawkchat-status-text-container a#maximizeChat #tawkchat-status-icon{height:100%;width:100%;color:inherit;text-decoration:none;outline:0}.round.center #tawkchat-minified-wrapper{position:absolute}#tawkchat-minified-border{margin:0;border:0 none;padding:0;background-color:#000;filter:alpha(opacity=40);opacity:.4;position:absolute;z-index:999998;border-radius:4px 4px 0 0;-moz-border-radius:4px 4px 0 0;-webkit-border-radius:4px 4px 0 0;width:100%;height:100%;right:0;bottom:0}#tawkchat-minified-container{margin:0;border:0 none;padding:0;cursor:pointer;z-index:999999;position:absolute;top:2px;bottom:0;width:auto;height:auto;left:2px;right:2px;border-bottom:0;-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box;-webkit-box-shadow:rgba(0,0,0,0.0980392) 0 0 1px 2px;-moz-box-shadow:rgba(0,0,0,0.0980392) 0 0 1px 2px;box-shadow:rgba(0,0,0,0.0980392) 0 0 1px 2px}#tawkchat-status-middle{border:0 none;margin:0 auto;font-size:17px;vertical-align:middle;position:absolute;top:50%;left:10px;right:10px;transform:translate(0%,-50%);-webkit-transform:translate(0%,-50%);-moz-transform:translate(0%,-50%);-ms-transform:translate(0%,-50%);-o-transform:translate(0%,-50%);*width:expression(this.parentNode.clientWidth - 20+'px');*top:0;*position:static;*margin-top:10px}#tawkchat-status-text-container{float:left;width:100%;*width:expression(this.parentNode.offsetWidth - 26+'px');*margin-top:expression(this.offsetHeight < this.parentNode.offsetHeight ? parseInt((this.parentNode.offsetHeight - this.offsetHeight) / 2)+'px':'0')}#tawkchat-status-message{border:0 none;margin:0 26px 0 0;padding:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:left;font-size:17px;*width:expression(this.parentNode.clientWidth+'px');*margin:0}.rtl-direction #tawkchat-status-message{margin:0 0 0 26px;text-align:right}#tawkchat-chat-bubble{border:0 none;padding:0;margin:0;width:190px;height:65px;position:absolute;top:0;display:none;right:32px}.left #tawkchat-chat-bubble{right:2px}#tawkchat-chat-bubble-text-container{border:0 none;padding:0;margin:0 0 0 -58px;width:111px;height:65px;position:absolute;z-index:10;font-family:Arial;font-style:italic;font-size:14px;top:5px;left:50%;right:auto;text-align:center;overflow:hidden;text-overflow:ellipsis;display:table}.rtl-direction #tawkchat-chat-bubble-text-container{right:50%;left:auto;margin:0 -58px 0 0}#tawkchat-chat-bubble-text{margin:0;display:table-cell;vertical-align:middle;*margin-top:expression(this.offsetHeight < this.parentNode.offsetHeight ? parseInt((this.parentNode.offsetHeight - this.offsetHeight) / 2)+'px':'0')}#tawkchat-chat-bubble-graphics-container{border:0 none;padding:0;margin:0;width:146px;height:85px}#tawkchat-chat-bubble-canvas{width:146px;height:85px;border:0 none;padding:0;margin:0}#tawkchat-minified-agent-container{float:left;width:100%;display:none}#tawkchat-minified-agent-information-wrapper{border:0 none;margin:0 88px 0 0;padding:0;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;text-align:left;font-size:17px;*width:100%}.hasImage #tawkchat-minified-agent-information-wrapper{margin-left:60px}#tawkchat-minified-agent-name{border:0 none;padding:0;margin:0;font-weight:bold}.agentNameCentered{margin-top:17px}.agentContainerNoImage{margin-right:26px;margin-left:0}.rtl-direction .agentContainerNoImage{margin-left:19px;margin-right:0}.agentContainer{margin:6px 20px 5px 45px}.rtl-direction .agentContainer{margin-right:45px;margin-left:20px}#tawkchat-minified-agent-position{border:0 none;padding:0;margin:0;font-style:italic}.bottom #tawkchat-chat-indicator{border:0 none;margin:0;position:absolute;top:0;left:26px;right:auto;z-index:1000000;display:none;background:#f77c76;padding:5px 10px;border-radius:15px}.round.left #tawkchat-chat-indicator{left:auto;right:0}.round.right #tawkchat-chat-indicator{right:auto;left:0}.round.bottom #tawkchat-chat-indicator,.round.center #tawkchat-chat-indicator,.round.top #tawkchat-chat-indicator{padding:2px;text-align:center;border-radius:50%;width:18px;height:18px}.rectangle.bottom #tawkchat-chat-indicator:after{content:'';position:absolute;right:48.5px;width:0;height:0;bottom:-8px;border-left:8px solid transparent;border-right:8px solid transparent;border-top:8px solid #f77c76}.rectangle.left #tawkchat-chat-indicator{left:auto;right:26px}.top #tawkchat-chat-indicator{border:0 none;margin:0;position:absolute;top:8px;left:26px;right:auto;z-index:1000000;display:none;background:#f77c76;padding:5px 10px;border-radius:15px}.rectangle.top #tawkchat-chat-indicator:before{content:'';position:absolute;right:48.5px;width:0;height:0;top:-8px;border-left:8px solid transparent;border-right:8px solid transparent;border-bottom:8px solid #f77c76}#tawkchat-chat-indicator.rtl-direction{left:auto;right:26px}#tawkchat-chat-indicator-text{border:0 none;padding:0;overflow:hidden;vertical-align:baseline;font-weight:bold;font-size:13px;font-family:Arial;text-align:center;color:white;z-index:1000001;display:block;margin:2px auto}.noCookies #tawkchat-minified-link-container{float:right}.noCookies #tawkchat-minified-link-container .icon{background-position:-16px 0}#tawkchat-minified-link-container{float:left;width:20px;margin-left:-20px;margin-top:3px;*margin-top:10px;*margin-right:5px}.rtl-direction #tawkchat-minified-link-container{margin-left:-100%}#tawkchat-minified-link-container .icon{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');display:block}#maximizeChat,#popoutChat{width:16px;height:16px;margin:0;z-index:100001}#maximizeChat .icon{width:11px;height:7px;margin:4.5px 2.5px}.black #maximizeChat .icon{background-position:-16px 0}.white #maximizeChat .icon{background-position:-79px 0}#popoutChat .icon{width:10px;height:10px;margin:3px}.black #popoutChat .icon{background-position:-48px 0}.white #popoutChat .icon{background-position:-111px 0}.alias-image{width:40px;height:40px;margin:0;background-repeat:no-repeat;border-radius:20px;margin:5px 0;background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:-624px 0;float:left;margin-left:-100%}.rtl-direction .alias-image{float:right}.small-image .alias-image{background-position:-589px 0;width:20px;height:20px;border-radius:10px}#profileDetail{position:static;width:100%;float:left}.agentInformationContainer p{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.position-label{font-size:12px}.agentInfoNoImage{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.image-bubble-close{background-image:url('https://static-v.tawk.to/a-v3-39/images/icons.png');background-position:0 0;width:11px;height:11px;float:right;margin:2.5px;cursor:pointer;display:block;visibility:hidden}#bubble-image{cursor:pointer}.image-canvas-close{border:0 none;padding:0;margin:0;width:10px;height:13px;position:absolute;right:6px;top:3px;font-size:12px;cursor:pointer;font-family:Arial;z-index:20}.rtl-direction .image-canvas-close{left:6px !important;right:auto !important}.no-border #tawkchat-minified-container{border:none !important;top:0 !important;left:0 !important;right:0 !important}.top .white #maximizeChat .icon{background-position:-95px 0}.top .black #maximizeChat .icon{background-position:-32px 0}.top #tawkchat-minified-container{top:0;border-bottom:1px solid #e3e0e7;border-top:0;border-radius:0 0 8px 8px;-moz-border-radius:0 0 8px 8px;-webkit-border-radius:0 0 8px 8px}.top #tawkchat-chat-indicator{bottom:0;top:auto}.rectangle.top #tawkchat-chat-indicator:after{bottom:auto;border-bottom:8px solid #f77c76;border-top:0;top:-8px}.top #tawkchat-chat-bubble-text-container{margin-top:10px !important}.top #tawkchat-chat-bubble-close{bottom:0 !important;right:0 !important;position:absolute !important}.default.top #tawkchat-chat-bubble-close{bottom:3px !important;right:6px !important;top:auto !important}",y.MinifiedMobileStyle="@font-face{font-family:'icomoon';src:url('https://static-v.tawk.to/a-v3-39/fonts/icomoon.eot?-7rca1q');src:url('https://static-v.tawk.to/a-v3-39/fonts/icomoon.eot?#iefix-7rca1q') format('embedded-opentype'),url('https://static-v.tawk.to/a-v3-39/fonts/icomoon.ttf?-7rca1q') format('truetype'),url('https://static-v.tawk.to/a-v3-39/fonts/icomoon.woff?-7rca1q') format('woff'),url('https://static-v.tawk.to/a-v3-39/fonts/icomoon.svg?-7rca1q#icomoon') format('svg');font-weight:normal;font-style:normal}body{position:relative;font-family:Verdana,Geneva,sans-serif !important;margin:0;font-size:16px;z-index:1000001}#tawkchat-minified-box{border:0 none;padding:0;margin:0;position:relative;width:100%;height:100%;z-index:999995;text-align:left;font-size:16px}.rectangle #tawkchat-minified-wrapper{width:107px;height:37px;bottom:5px}.round #tawkchat-minified-wrapper{bottom:6px;width:48px;height:48px}#tawkchat-minified-wrapper{border:0 none;margin:0;z-index:999997;position:absolute;cursor:pointer}.left #tawkchat-minified-wrapper.indicator-on{left:0 !important}.right #tawkchat-minified-wrapper.indicator-on{left:7px !important}.bottom.rectangle #tawkchat-minified-wrapper{bottom:15px !important}.round #tawkchat-status-text-container{padding:0;position:absolute;z-index:999998;width:100%;height:100%;border-radius:50%;border:0 none;-webkit-box-shadow:0 4px 5px -1px rgba(0,0,0,0.5);-moz-box-shadow:0 4px 5px -1px rgba(0,0,0,0.5);box-shadow:0 4px 5px -1px rgba(0,0,0,0.5)}.rectangle #tawkchat-status-text-container{padding:0;position:absolute;z-index:999998;width:100%;height:100%;border-radius:3px;border:0 none;-webkit-box-shadow:0 4px 5px -1px rgba(0,0,0,0.5);-moz-box-shadow:0 4px 5px -1px rgba(0,0,0,0.5);box-shadow:0 4px 5px -1px rgba(0,0,0,0.5)}#tawkchat-status-message{border:0 none;padding:0;text-decoration:none;height:30px;text-align:center;position:absolute;left:21px;right:21px;width:auto}#tawkchat-chat-indicator{border:0 none;margin:0;padding:0;line-height:1em;background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');position:absolute;z-index:1000000;display:none;left:0;background-position:-234px 0;width:25px;height:25px}.bottom #tawkchat-chat-indicator,.center #tawkchat-chat-indicator{top:auto}.center.rectangle #tawkchat-chat-indicator{bottom:27px}.bottom.rectangle #tawkchat-chat-indicator{bottom:35px}.round #tawkchat-chat-indicator{bottom:29px}.top #tawkchat-chat-indicator{top:auto}.top.rectangle #tawkchat-chat-indicator{bottom:27px}.left #tawkchat-chat-indicator{left:30px;right:auto}.left.rectangle #tawkchat-chat-indicator{left:82px}.right #tawkchat-chat-indicator{left:0;right:auto}#tawkchat-chat-indicator-text{border:0 none;padding:0;margin:0;overflow:hidden;vertical-align:baseline;font-weight:bold;font-size:16px;font-family:Arial;text-align:center;color:white;height:25px;width:25px;z-index:1000001;display:block;line-height:25px}#status-message{color:inherit;text-decoration:none;font-weight:bold;font-size:16px;vertical-align:middle;display:block;line-height:30px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin:0 5px}#popout{background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-repeat:no-repeat;background-position:-219px 0;width:10px;height:10px;margin:10px 0;position:absolute;right:8px}#status-indicator{background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');width:12px;height:12px;float:right;background-repeat:no-repeat}.rectangle #tawkchat-status-icon{margin:8px 13px}.round #tawkchat-status-icon{margin:13px}#tawkchat-status-icon{font-family:sans-serif,Verdana;speak:none;font-style:normal;font-weight:bold;font-variant:normal;text-transform:none;line-height:1;color:inherit;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-size:19px}#tawkchat-status-icon .text{display:inline-block;vertical-align:top;padding:2px 0 2px 7px}#tawkchat-status-icon:before{font-size:21px;font-weight:normal;font-family:'icomoon'}#tawkchat-status-icon.offline:before{font-size:22px}#tawkchat-status-icon.offline{margin:13px 13px 13px 10px}.rectangle #tawkchat-status-icon.offline{margin:8px 13px}#tawkchat-status-icon.offline .text{padding:2px 0 0 9px}#tawkchat-status-icon.offline:before{font-size:28px;line-height:18px;content:\"\\e904\"}#tawkchat-status-icon.online:before,#tawkchat-status-icon.away:before{content:\"\\e96c\"}",y.MaximizedMobileStyle="button{display:inline;zoom:1;vertical-align:baseline;outline:0 none;cursor:pointer;text-align:center;text-decoration:none;overflow:visible;margin:0;padding:7px 15px 8px 15px;font:bold 14px/100% Arial,sans-serif;background-color:#c1c1c1;color:#3d3d3d;border:0;float:left}button::-moz-focus-inner{border:0}button:focus{outline:0}button:active{background-color:#ddd}button:hover{background-color:#a9a9a9}.rtl-direction{direction:rtl !important}#tawkchat-container.maximized{height:100% !important;width:100% !important}#chatContainer{position:absolute;top:0;bottom:58px;left:0;right:0;background-color:#fcfcfc;overflow-y:auto;color:#6c6c6c}#chatContainer.chat-ended{bottom:87px}#maxFileNotificationContainer,#maxSizeNotificationContainer{color:#8a6d3b;background-color:#fcf8e3;border:#faebcc 1px solid;margin:5px 10px;padding:5px 10px;border-radius:6px;font-size:13px}.closeButtonContainer{margin:10px auto auto auto;text-align:right}.closeNotification{cursor:pointer;text-transform:uppercase}#maxFileSizeList,#maxFileNumberList{margin:10px}#maxFileSizeList li,#maxFileNumberList li{word-wrap:break-word}#maxFileSizeList a,#maxFileNumberList a{color:#00E}#chatContainer .hidden{display:none}.actionRetry{cursor:pointer;float:right}#actionsContainer{position:absolute;bottom:0;left:0;right:0;height:57px;border-top:1px solid #c4c4c4;background-color:#fff;border-bottom:1px solid #c4c4c4}#pluginsBar{height:38px;border-top:1px solid #c4c4c4;border-bottom:1px solid #c4c4c4;background-color:#e1e1e1}#ratingContainer{height:57px;position:absolute;z-index:2;width:88px;right:0}.rtl-direction #ratingContainer{-ms-transform:rotateY(180deg);-webkit-transform:rotateY(180deg);transform:rotateY(180deg);left:0;right:auto}#ratingContainer a{float:left;display:block;width:31px;height:30px;margin:3px 0 0 0}#ratingContainer div{background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-repeat:no-repeat;width:34px;height:37px;margin:3px 0 0 10px}#ratePositive div{background-position:-78px 0}#rateNegative div{background-position:0 0}#ratePositive.selected div{background-position:-117px 0}#rateNegative.selected div{background-position:-39px 0}#popOut .icon{margin:0 auto;background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-position:-831px 0;width:25px;height:25px}#emailTranscriptOption .icon{background-position:-156px 0;width:38px;height:25px;margin:0 auto;background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-repeat:no-repeat}#changeNameOption .icon{background-position:-667px 0;width:24px;height:25px;margin:0 auto;background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-repeat:no-repeat}#endChatOption .icon{background-position:-264px 0;width:25px;height:25px;margin:0 auto;background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-repeat:no-repeat}#menuOptions .label{margin-left:10px;line-height:25px;vertical-align:middle}.rtl-direction #menuOptions .label{margin:auto 10px auto 0}#formContainer{width:100%;height:auto;position:absolute;top:53px;bottom:30px;background-color:#f1f1f1;display:none;z-index:99999999}.form{font-size:13px;color:#a1a1a1;height:100%}.form fieldset{padding:0 25px 0 0}.rtl-direction .form fieldset{padding:0 0 0 25px}.form textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;resize:none;display:block;height:40px;width:100%;overflow:auto;padding:0 15px;color:#707070;font-size:13px;font-weight:bold;border:0;background:#fff;font-family:Arial;margin:13px 0}.form textarea:active,.form textarea:focus,.inputContainer select:active,.inputContainer select:focus{outline:0}.inputContainer{padding:0 15px;border:1px solid #ccc;-webkit-border-radius:3px;-moz-border-radius:3px;-ms-border-radius:3px;-o-border-radius:3px;border-radius:3px;background-color:#fff;margin:0 -25px 7px 0;position:relative}.rtl-direction .inputContainer{margin:0 0 7px -25px}.inputContainer input,.inputContainer select{outline:0 none transparent;background:#fff;width:100%;margin:0;border:0;display:block;line-height:1em;padding:13px 0;color:#707070;font-family:Arial;font-size:13px;font-weight:bold}.inputContainer.other-fix{padding:0}.inputContainer select{background-color:#fff;outline:0}#departmentFieldFieldset.safari-fix .inputContainer select{-webkit-appearance:none}#departmentFieldFieldset.safari-fix .inputContainer{position:relative}#departmentFieldFieldset.safari-fix .inputContainer:after{position:absolute;right:24px;top:12px;cursor:pointer;width:10px;height:10px;font-size:10px;padding:0;background:#fff;color:#000;content:'';pointer-events:none;cursor:pointer}.inputContainer.error,.form .textareaFieldset.error{border-color:#ef5656;color:#ef5656}.inputContainer.error input,.form .textareaFieldset.error textarea,.inputContainer.error select{color:#ef5656}.inputContainer.error input::-webkit-input-placeholder,.form .textareaFieldset.error textarea::-webkit-input-placeholder{color:#ef5656}.inputContainer input:active,.inputContainer input:focus{margin:0;border:0;outline:0 none transparent;border:0 none}.formErrorContainer{display:block;margin:-5px 0 5px 0;font-style:italic;color:#ef5656}.formMessageField{padding:20px;line-height:1.2em;color:#616161;font-size:15px;margin:0;word-wrap:break-word}#formSavingStatus.errorMessage{color:#ef5656;border:0;visibility:visible}#formSavingStatus{font-size:13px;visibility:hidden;padding:0 0 0 5px;position:absolute;bottom:55px;left:20px;right:20px}#formSavingStatus img{margin:0 0 0 5px}.formButtonContainer{margin:20px 0 0 0}.rtl-direction #formCancel{float:right}button{display:inline;zoom:1;vertical-align:baseline;outline:0 none;cursor:pointer;text-align:center;text-decoration:none;overflow:visible;margin:0;padding:7px 25px 8px 25px;font:bold 12px/100% Arial,sans-serif;outline:0 none transparent;background:#fafafa;color:#717171;border:1px solid #d3d3d3;border-radius:0}button::-moz-focus-inner{border:0}button:focus{outline:0}button:active{background-color:#ddd}.formButton{height:50px;width:50%}#textareaContainer{position:relative;height:57px}#textareaSubmitContainer{width:60px;height:56px;position:absolute;right:0;display:none}.rtl-direction #textareaSubmitContainer{left:0;right:auto}#textareaSubmitButton{width:0;height:0;border-top:15px solid transparent;border-bottom:15px solid transparent;border-left:15px solid #bfbfbf;position:absolute;right:15px;top:7px}#textareaWrapper{position:absolute;top:12px;left:35px;right:40px}#textareaContainer.symbianPadding #textareaSubmitButton{right:60px}#textareaContainer.symbianPadding #textareaWrapper{left:60px;right:100px}#chatTextarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:0 none;outline:0 none transparent;height:29px;resize:none;width:100%;background:#fff;padding:0;font-family:Arial}#chatTextarea:active,#chatTextarea:focus{outline:0 none transparent;border:0 none}#chatTextarea::-webkit-input-placeholder{color:#717171;font-style:italic}#chatTextarea::-moz-placeholder{color:#717171;font-style:italic}#chatTextarea:-ms-input-placeholder{color:#717171;font-style:italic}#chatTextarea:-moz-placeholder{color:#717171;font-style:italic}#chatTableContainer{display:table;height:100%;width:100%;table-layout:fixed}#chatTableContainer.breakWord{word-break:break-all}#chatRowContainer{display:table-row;vertical-align:bottom}#chatCellContainer{overflow:auto;position:relative;display:table-cell;vertical-align:bottom;white-space:pre-wrap;word-break:break-word}.chatLineContainer{margin:20px 0 0 0}.chatLineContainer p{display:block;text-align:center;font-size:13px;color:#999}.chatLineContainer span{z-index:2;position:relative;background:#f1f1f1;padding:0 10px;font-size:13px}.chatLineContainer div{position:relative;top:-6px;z-index:1;border-top:1px solid #fff}#greetingsContainer{margin:15px 40px 0 40px;padding:5px;text-align:center;white-space:pre-wrap;word-wrap:break-word;color:#777;font-size:16px;font-weight:bold}#embedArrow{background-position:-917px 0;width:22px;height:26px;background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-repeat:no-repeat;margin:5px auto}#estimatedWaitTimeHeaderText{text-transform:uppercase}#estimatedWaitTimeMessage{color:#707070;margin:15px 0 0 0;font-size:16px;text-align:center;padding:0 10px}#estimatedWaitTimeMessage span,#estimatedWaitTimeMessage b{font-weight:bold}#estimatedWaitTime{display:none}#pluginsBar a{-webkit-tap-highlight-color:rgba(255,255,255,0.5);text-decoration:none}#pluginsBar a.active{background:rgba(255,255,255,0.5)}#textareaWrapper{top:0 !important;bottom:0 !important;right:84px !important}.rtl-direction #textareaWrapper{left:84px !important;right:35px !important}#chatTextarea{height:37px !important;padding-top:18px !important;font-size:16px !important;margin:0}#textareaSubmitButton{border-top:22px solid transparent !important;border-bottom:22px solid transparent !important;border-left:22px solid #bfbfbf !important}.rtl-direction #textareaSubmitButton{border-top:22px solid transparent !important;border-bottom:22px solid transparent !important;border-right:22px solid #bfbfbf;border-left:none !important;right:auto;left:15px}#ratingContainer a{width:44px;height:44px;margin:3px 0 0 0}#ratingContainer div{margin:3px auto !important}#hideButtonContainer{left:103px;right:105px;width:auto}#greetingsWrapper,#formContainer #greetingsWrapper{transform:translate(0%,-50%);-webkit-transform:translate(0%,-50%);-moz-transform:translate(0%,-50%);-ms-transform:translate(0%,-50%);-o-transform:translate(0%,-50%);top:50%;position:absolute;left:0;right:0}#tawkchat-maximized-container-element-no-cookies #chatPanel{background-color:#fff;color:#000;font-size:20px;text-align:center;border-bottom:1px solid #c4c4c4}#tawkchat-maximized-container-element-no-cookies #greetingsWrapper{position:absolute;left:0;right:0;top:50%}#chatPanel{width:100%;position:absolute;bottom:30px;top:53px;overflow:hidden}#emailTranscriptForm,#offlineForm{height:100%}#formContainer.success #offlineForm #overlayOfflineForm{display:block}#formContainer #offlineForm #overlayOfflineForm{position:absolute;top:0;bottom:0;left:0;right:0;display:none;z-index:1;background-color:#fff;color:#000;text-align:center;padding:30px 15px;font-size:15px}#formContainer #offlineForm #overlayOfflineForm #resendButton{margin-top:15px;padding:7px 12px;display:inline-block;font-weight:700;cursor:pointer}#topBarContainer{border-top:1px solid #c4c4c4;border-bottom:1px solid #c4c4c4;height:51px !important;position:absolute;top:0;width:100%}#siteNameContainer{float:left;width:100%;height:51px}.rtl-direction #siteNameContainer{float:right}#siteName{margin:0 60px;line-height:51px;height:51px;text-align:center;font-size:16px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}#backButtonContainer{float:left;width:57px;height:51px;margin-left:-100%}.rtl-direction #backButtonContainer{float:right;margin:auto -100% auto auto}#backButton{background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-position:-861px 0;width:23px;height:15px;margin:18.5px 17px}.isPopout #backButton{background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-position:-199px 0;width:15px;height:23px;margin:14px 21px}.rtl-direction #backButton{-ms-transform:rotate(180deg);-webkit-transform:rotate(180deg);transform:rotate(180deg)}.black #backButton{background-position:-861px 0}.white #backButton{background-position:-889px 0}.isPopout.black #backButton{background-position:-647px 0}.isPopout.white #backButton{background-position:-598px 0}#menuButtonContainer{float:left;width:57px;height:51px;margin-left:-57px}.rtl-direction #menuButtonContainer{margin:0 -57px 0 0;float:right}#menuButton{background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');width:24px;height:24px;margin:14px 17px}.black #menuButton{background-position:-618px 0}.white #menuButton{background-position:-569px 0}#menuOptions{position:absolute;right:5px;top:53px;border-radius:10px;display:none;z-index:999999999;max-height:270px}.rtl-direction #menuOptions{right:auto;left:5px}#menuScrollable{background:#fff;overflow:auto;padding:5px;border:2px solid #e6e6e6;border-radius:10px;height:100%}#menuOptions ul{list-style:none}#menuOptions li{padding:10px;color:#696969;cursor:pointer;font-size:16px;font-weight:bold;line-height:25px;height:25px}#soundOption .icon{margin:0 auto;background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-repeat:no-repeat}#soundOption.on .icon{background-position:-294px 0;width:32px;height:25px}#soundOption.off .icon{background-position:-330px 0;width:18px;height:25px}#menuOptions .iconWrapper{width:40px;height:25px;float:left}.rtl-direction #menuOptions .iconWrapper{float:right;display:inline-block}#printOption .icon{margin:0 auto;background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-repeat:no-repeat;background-position:-353px 0;width:25px;height:25px}#submitWrapper{position:absolute;bottom:50px;height:0;width:auto;right:0;background:#000;border-radius:4px 4px 0 0;color:#fff;-webkit-transition:height .25s ease;-moz-transition:height .25s ease;-ms-transition:height .25s ease;-o-transition:height .25s ease;transition:height .25s ease;*height:30px;*display:none}#submitWrapper.visible{height:30px;*display:block}#submitWrapper p{line-height:30px;padding:0 10px;float:left}#submitWrapper div{background-image:url('https://static-v.tawk.to/a-v3-39/images/ajax-loader-3.gif');width:16px;height:16px;float:right;margin:7px}#emailTranscriptForm,#changeNameForm,#endChatForm{position:absolute;width:100%;height:100%;margin:0}#formInnerHeight{position:absolute;top:0;bottom:50px;width:auto;overflow:auto;left:10px;right:10px;padding:0 10px}#emailTranscriptForm #formInnerHeight,#changeNameForm #formInnerHeight,#endChatForm #formInnerHeight{width:auto;height:auto}#endChatForm #formInnerHeight{top:auto;text-align:center}#emailTranscriptForm .longFormBottomContainer,#changeNameForm .longFormBottomContainer,#endChatForm .longFormBottomContainer{bottom:0}#emailTranscriptForm .formButton,#changeNameForm .formButton,#endChatForm .formButton{width:50%}#emailTranscriptForm .inputContainer,#changeNameForm .inputContainer,#endChatForm .inputContainer{border:0;margin:0}.longFormBottomContainer{position:absolute;bottom:0;left:0;right:0}.longFormContainer{width:100%;height:100%;overflow:hidden;position:relative}#tawkToContent{display:none;position:absolute;top:53px;bottom:0;width:100%;background:#f1f1f1;z-index:10000000001}#tawkToContent .contentContainer{position:absolute;top:0;bottom:55px;width:auto;left:20px;right:20px;max-width:260px;margin:0 auto}#tawkToContent .buttonContainer{position:absolute;height:50px;bottom:0;width:100%}#tawkToContent .buttonContainer button{width:50%;height:50px}#tawkContent{font-size:15px;text-align:center;color:#6c6c6c;margin-top:12px;direction:ltr !important}#tawkImage{background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-position:-412px 0;width:78px;height:83px;margin:0 auto}#tawkToContent .wrapper{position:absolute;width:100%;transform:translate(0%,-50%);-webkit-transform:translate(0%,-50%);-moz-transform:translate(0%,-50%);-ms-transform:translate(0%,-50%);-o-transform:translate(0%,-50%);top:50%}#tawkHeader{font-size:22px;font-weight:bold;text-align:center;padding:20px 0 12px 0;color:#343434;border-bottom:2px solid #ddd;width:150px;margin:0 auto}#chatEnded{position:absolute;left:0;bottom:30px;height:86px;width:100%;background:#fff;display:none;z-index:10000001}#chatEnded .title{text-align:center;font-size:14px;margin:10px 0}#chatEnded .buttonContainer{width:100%;height:50px}#chatEnded button{width:50%;height:50px}.messageTime{padding:0;font-size:12px !important;color:#666}.messageStatusContainer{float:left;width:40px;margin-left:-40px;text-align:center}.messageBody{line-height:1.5em;margin:5px 0 0 42px;position:relative}.ownerNameContainer,.notificationContainer{width:100%}.notificationContainer{float:left}.rtl-direction .notificationContainer{float:right}.message{white-space:pre-wrap;word-wrap:break-word;padding:5px 10px}.messageWrapper{font-size:16px;width:100%;background:0;float:right}.message-success{background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-position:-515px 0;width:16px;height:15px;padding:0 8px;margin-top:6.5px}.messageStatusContainer.pending .message-success,.messageStatusContainer.pending .messageTime,.messageStatusContainer.errorInMessage .message-success{display:none}.messageStatusContainer.pending .messageStatus{background-image:url('https://static-v.tawk.to/a-v3-39/images/ajax-loader.gif');background-position:0 0;background-repeat:no-repeat;margin-top:2px;width:13px;height:13px;display:block;float:right}.visitorChatContainer .messageStatusContainer.errorInMessage{width:100%;float:right;right:0;margin-right:0;position:relative}.messageStatusContainer.errorInMessage .messageStatus{display:block;float:right;text-decoration:none;color:#ec6368}.rtl-direction .messageStatusContainer.errorInMessage .messageStatus{float:left}.ownerNameContainer .agentProfileImage{background-position:-748px 0;width:28px;height:28px;background-repeat:no-repeat;border-radius:14px;float:left;margin-left:-100%;background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png')}.ownerNameContainer .visitorProfileImage{width:28px;height:28px;background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-position:-536px 0;float:left;margin-left:-100%;*filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(src='https://static-v.tawk.to/a-v3-39/images/mobile-icons.png',sizingMethod='scale')}.notificationContainer .message{margin-right:40px;font-size:14px !important;font-style:italic;padding:0}.rtl-direction .notificationContainer .message{margin:0 0 0 40px}.notificationTime{width:40px;float:left;margin-left:-40px;text-align:right;font-size:12px !important}.rtl-direction .notificationTime{float:right;text-align:left;margin:0 -40px 0 0}.messageContainer .messageHead.agent .messageTime,.notificationTime{color:#b3b3b3}#agentTypingContainer .messageBody{font-size:16px !important;font-weight:bold;min-width:auto;line-height:normal;margin-top:-8px}.messageBody.notification{margin-left:0}#waitTimeContainer .messageBody{width:100%;position:relative;margin:0;line-height:100%}#waitTimeContainer .messageWrapper{border:1px solid;border-radius:5px;width:auto;left:50%;transform:translate(-50%,0);-webkit-transform:translate(-50%,0);-moz-transform:translate(-50%,0);-o-transform:translate(-50%,0);-ms-transform:translate(-50%,0);float:left;position:relative}#stickyContainer{position:absolute;margin-left:-14px;margin-top:-12px;background-color:#fcfcfc;width:23px;height:24px;padding:2px;top:50%}#stickyIcon{background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-position:-495px 0;width:15px;height:16px;margin:4px}#waitTimeContainer .message{margin:0;padding:12px 10px 12px 14px;font-size:15px !important;color:#7b7a7a;font-weight:bold}#waitTimeContainer{margin:20px}#prechatButtonContainer button{vertical-align:bottom;width:50%}.inputContainer.valid{padding-right:30px}.inputContainer.valid,.form .textareaFieldset div.valid textarea{border-color:#92ed9d}.validInputIcon{background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-position:-696px 0;width:16px;height:15px;float:right;display:none;position:absolute;bottom:10px;right:10px}.rtl-direction .validInputIcon{float:left;left:10px;right:auto}.download-file{color:#3276b1;text-decoration:none;margin-top:3px;display:block}.download-image{background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-position:-781px 0;width:16px;height:18px;padding:1px 8px;vertical-align:middle}.uploaded-image{max-width:90%;max-height:220px;display:block;margin:0 auto}#uploadFileOption .icon{margin:0 auto;background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-repeat:no-repeat;background-position:-802px 0;width:24px;height:25px}#uploadFileOption label{display:block;cursor:pointer}.progress{height:14px;position:relative;background:#eee;box-shadow:0 1px 0 transparent,0 0 0 1px #e3e3e3 inset;width:200px;margin:5px 0;display:inline-block;vertical-align:middle}.progress-bar{display:block;height:100%;background-color:#71a06a;box-shadow:inset 0 2px 9px rgba(255,255,255,0.3),inset 0 -2px 6px rgba(0,0,0,0.4);position:relative;overflow:hidden;box-shadow:inset 0 -1px 0 rgba(0,0,0,.15);-webkit-transition:width .6s ease;-o-transition:width .6s ease;transition:width .6s ease}.image-loader{width:30px;height:30px;background:url('https://static-v.tawk.to/a-v3-39/images/image-load.gif');background-repeat:no-repeat;background-position:center}.upload-error{margin:5px}.upload-error span{font-size:16px;color:red;font-weight:bold;vertical-align:middle}#upload-form{position:absolute;top:-100000px}.upload-data{margin:7px 12px 0 20px;min-width:250px}.upload-data span{font-style:italic;margin-right:3px}.agentChatContainer .messageBody{margin:-12px 0 0 30px;max-width:100%;float:left}.rtl-direction .agentChatContainer .messageBody{float:right}.agentChatContainer .message{border-radius:0 15px 15px 15px;background:#eee;color:#333;margin-right:50px}.rtl-direction .agentChatContainer .message{border-radius:15px 0 15px 15px;margin:auto auto auto 50px}.agentChatContainer .messageStatusContainer{margin-left:-47px;position:absolute;top:5px;left:100%}.rtl-direction .agentChatContainer .messageStatusContainer{left:auto;right:100%;margin:auto -47px auto auto}.messageContainer.agentChatContainer{margin:10px 0 10px 12px}.rtl-direction .messageContainer.agentChatContainer{margin:10px 12px 10px 0}.messageContainer.visitorChatContainer{margin:10px 12px 10px 0}.rtl-direction .messageContainer.visitorChatContainer{margin:10px 0 10px 12px}.visitorChatContainer .messageBody{margin:2px 0 0 0;float:right;max-width:100%}.rtl-direction .visitorChatContainer .messageBody{float:left}.visitorChatContainer .messageWrapper.error .message{background-color:#ec6368 !important;color:#fff !important;display:table;float:right}.visitorChatContainer .messageWrapper .message{color:#333;text-align:left;border-radius:15px 0 15px 15px;background:#e5e5e5;margin-left:50px}.rtl-direction .visitorChatContainer .messageWrapper .message{text-align:right;border-radius:0 15px 15px 15px;margin:auto 50px auto 0;float:left}.rtl-direction .visitorChatContainer .messageWrapper.error .message{float:left}.visitorChatContainer .messageStatusContainer{position:absolute;right:100%;top:2px;margin-right:-47px}.rtl-direction .visitorChatContainer .messageStatusContainer{left:100%;right:auto;margin:auto auto auto -47px}.rtl-direction .visitorChatContainer .messageStatusContainer.errorInMessage{left:0}.ownerNameContainer{float:left;width:100%}.messageOwnerName{color:#a7a7a7;text-decoration:none;font-size:12px !important;margin-left:42px;margin:0;padding:0;line-height:14px;display:block;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin-left:30px}.messageOwnerName.visitor{text-align:right;margin-right:0;margin-left:0}.single-agent .profileImageContainer,.single-agent .agentChatContainer .ownerNameContainer{display:none}.single-agent .visitorChatContainer .messageBody,.single-agent .messageOwnerName.visitor{margin-right:0}.single-agent .visitorChatContainer .messageBody{margin-top:2px}.single-agent .agentChatContainer .messageBody,.single-agent .agentChatContainer .ownerNameContainer,.single-agent #agentTypingContainer .messageBody{margin-left:0;margin-top:0}#agentTypingContainer .agentChatContainer{margin-bottom:5px}.profileImageContainer{height:28px;float:left;width:28px;margin-left:-100%}.profileImageContainer .agentProfileImage{width:28px;height:28px;background-repeat:no-repeat;border-radius:14px;background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-position:-748px 0;position:absolute;left:0;right:0;background-color:#fcfcfc}.messageContainer,#agentTypingContainer{position:relative;margin:10px 12px;white-space:normal}.inputContainer input:focus+.form-field-label,.textareaFieldset textarea:focus+.form-field-label{display:block}.inputContainer input:active::-webkit-input-placeholder,.inputContainer input:focus::-webkit-input-placeholder,.textareaFieldset textarea:active::-webkit-input-placeholder,.textareaFieldset textarea:focus::-webkit-input-placeholder{color:transparent !important}.inputContainer input:focus::-moz-placeholder,.inputContainer input:active::-moz-placeholder,.textareaFieldset textarea:focus::-moz-placeholder,.textareaFieldset textarea:active::-moz-placeholder{color:transparent !important;opacity:0 !important}.form-field-label.small{color:#b3b3b3;padding:1px 0 0 0;display:none;font-size:10px;position:absolute;top:0;left:4px;font-weight:bold}.rtl-direction .form-field-label.small{right:4px;left:auto}.form-field-label{color:#707070;font-family:Arial;font-size:13px;font-weight:bold}.form .textareaFieldset{padding:0 33px 0 0;margin:0 0 7px 0;position:relative;-webkit-border-radius:3px;-moz-border-radius:3px;-ms-border-radius:3px;-o-border-radius:3px;border-radius:3px;background-color:#fff;border:1px solid #ccc}.rtl-direction .form .textareaFieldset{padding:0 0 0 33px}.selection-label{vertical-align:middle;cursor:pointer}.selection-container{margin:3px}.selection-container input{margin:0 3px 0 5px}.selections-container{margin:3px 3px 7px 3px}.selections-container.error{border:1px solid #ef5656;border-radius:3px}@keyframes typing{0%{opacity:0}100%{opacity:1}}@-ms-keyframes typing{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes typing{0%{opacity:0}100%{opacity:1}}@-moz-keyframes typing{0%{opacity:0}100%{opacity:1}}@-o-keyframes typing{0%{opacity:0}100%{opacity:1}}.agentTypingIndicator span{-moz-animation:typing 1.2s infinite;-webkit-animation:typing 1.2s infinite;-o-animation:typing 1.2s infinite;-ms-animation:typing 1.2s infinite;animation:typing 1.2s infinite;animation-fill-mode:both;margin:0 1px;font-size:20px;line-height:0}.agentTypingIndicator span:nth-child(2){animation-delay:400ms;-webkit-animation-delay:400ms;-moz-animation-delay:400ms;-ms-animation-delay:400ms;-o-animation-delay:400ms}.agentTypingIndicator span:nth-child(3){animation-delay:800ms;-webkit-animation-delay:800ms;-moz-animation-delay:800ms;-ms-animation-delay:800ms;-o-animation-delay:800ms}.rtl-direction .message{min-width:45px !important}.message a{color:inherit}#newMessageDivider{margin-top:4px;font-size:.7rem;line-height:.6rem}#newMessageDividerLine{border-top:2px solid #e4c0b6;border-bottom:0;margin:0 0 -1px}#newMessageDividerLabel{background:#fcfcfc;margin:-0.3rem 0;float:right;padding:0 .5rem;color:#e4c0b6}#newMessageContainer{position:relative;left:-50%;cursor:pointer;display:none}#newMessagesBar{position:absolute;bottom:33px;height:0;width:auto;left:50%;color:#fff;-webkit-transition:all .5s ease;-moz-transition:all .5s ease;-ms-transition:all .5s ease;-o-transition:all .5s ease;transition:all .5s ease;visibility:hidden;cursor:pointer}#newMessagesBar.theme-background-color{background-color:transparent !important}#notificationMessageText{font-weight:700}#newMessageArrowDown{background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-position:-965px 0;width:16px;height:6px;margin:-1px auto}#newMessagesNotificationLink{background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-position:-944px 0;width:16px;height:16px;float:left;margin:7px 7px auto auto}#newMessagesBar.visible{height:27px;bottom:70px;visibility:visible}#newMessagesBar.visible #newMessageContainer{display:block}#newMessagesBar p{line-height:27px;padding:0 10px;text-align:center;background-color:#81bd1d;border-radius:5px}.rtl-direction #newMessagesNotificationLink{float:right;-ms-transform:rotateY(180deg);-webkit-transform:rotateY(180deg);transform:rotateY(180deg);margin:7px auto auto 7px}#bottomContainer{position:absolute;bottom:0;height:30px;line-height:30px;left:0;right:0;text-align:center;background-color:#fff;padding:0 25px;font-size:15px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}#tawktoLink{text-decoration:none;color:#000}#tawktoLink .thin{font-size:13px;font-weight:400}#formContainer .inputContainer.selection:before{content:\"\";position:absolute;right:14px;top:13px;width:0;height:0;border-left:7px solid transparent;border-right:7px solid transparent;border-top:7px solid #707070;z-index:0}#formContainer .inputContainer{background-color:#fff;overflow:hidden;position:relative;height:33px}#formContainer .inputContainer.selection select{padding:7px 0}#formContainer .inputContainer select{position:absolute;height:100%;-webkit-appearance:none;-moz-appearance:none;appearance:none;width:90%;background:transparent;font-family:Arial,Helvetica,sans-serif;font-size:13px;font-weight:600;line-height:1;-webkit-appearance:none;-moz-appearance:none;text-indent:.01px;text-overflow:'';-ms-appearance:none}#formContainer .inputContainer select::-ms-expand{display:none}#endChatOption{display:none}#viewEmoji{position:absolute;left:5px;top:14px;opacity:.4}.rtl-direction #viewEmoji{right:5px;left:auto}#viewEmoji .icon{background:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-repeat:no-repeat;background-position:-986px 0;height:24px;width:24px;display:block}#viewEmoji.active{opacity:1}#emoji-selection-container{position:absolute;bottom:50px;left:5px;right:5px;height:200px;background:#fff;border:1px solid #ddd;border-radius:3px;display:none;z-index:1}#tabs-selection{border-bottom:1px solid #ddd;list-style:none}.open-tab{opacity:.4;float:left;margin-bottom:-2px;position:relative;display:block;cursor:pointer;width:11%}.open-tab.active{opacity:1}#tab-content{position:absolute;top:39px;bottom:0;overflow:auto;left:0;right:0;padding:10px}.header-title{text-align:center;margin:5px 0;font-weight:bold;font-size:14px}.emoji-select{display:inline-block;margin:9px}.emoji-select:hover .emojione{transform:scale(2);-ms-transform:scale(2);-webkit-transform:scale(2);-moz-transform:scale(2);-o-transform:scale(2)}.emoji-header{display:block;background-color:#fff;cursor:default;padding:5px 3px;cursor:pointer}.emoji-header:hover{background:#eee}.open-tab.active .emoji-header{-webkit-box-shadow:0 -2px 0 #57889c;-moz-box-shadow:0 -2px 0 #57889c;box-shadow:0 -2px 0 #57889c;border-top-width:0 !important;margin-top:1px !important;border:1px solid #ddd;border-bottom-color:transparent;border-radius:3px 3px 0 0;cursor:default}#people.open-tab.active .emoji-header{border-left:0}.open-tab.active .emoji-header:hover{background:#fff}.emojionly .emojione{height:4.5ex !important}#emoji-selection-container .emojione{min-width:18px;min-height:18px;height:4ex;margin:0}#emoji-selection-container .inputContainer{padding:0 6px;margin:0}#emoji-selection-container .textInput{padding:6px 0}.emojionly .messageWrapper .message{background:transparent !important}#videoCallOption .icon{background:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-repeat:no-repeat;background-position:-1040px 0;width:32px;height:16px;margin-top:2px}#videoCallOption label{display:block;cursor:pointer}#voiceCallOption .icon{background:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-repeat:no-repeat;background-position:-1015px 0;width:20px;height:32px;margin:-5px auto 0 auto}#voiceCallOption label{display:block;cursor:pointer}#incoming-call-container{margin:0;text-align:center;background:#333;color:#fff;padding:5px 5px 10px 5px}#icoming-call-buttons{width:100%;text-align:center;height:42px}#decline-call{background:#f92222;color:#fff;display:inline-block;float:none;margin:0 8px;border-radius:50%;width:42px;height:42px;padding:0;box-shadow:inset 0 -2px 0 rgba(0,0,0,.05);-moz-box-shadow:inset 0 -2px 0 rgba(0,0,0,.05);-webkit-box-shadow:inset 0 -2px 0 rgba(0,0,0,.05);border:1px solid #b91717}#decline-call .icon{background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-position:-1176px 0;width:32px;height:14px;margin:4px auto}#accept-call{background:#2e9c05;color:white;float:none;display:inline-block;margin:0 8px;border-radius:50%;width:42px;height:42px;padding:0;box-shadow:inset 0 -2px 0 rgba(0,0,0,.05);-moz-box-shadow:inset 0 -2px 0 rgba(0,0,0,.05);-webkit-box-shadow:inset 0 -2px 0 rgba(0,0,0,.05);border:1px solid #1f6b03}#accept-call .icon{background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-position:-1151px 0;width:20px;height:20px;margin:1px auto}#tooLongMsgNotification{position:absolute;bottom:59px;padding:5px 0;z-index:100000;width:100%;text-align:center;background-color:#fff;display:none;color:red}#tooLongMsgNotification.visible{display:block}.callInfoContainer,.callErrorContainer{border:1px solid #ddd;border-radius:5px;padding:10px 8px;display:none;background:#fff}.callIconContainer{display:table-cell;width:35px;vertical-align:middle}.callIconWrapper{width:35px;height:35px;background:#eee;border-radius:50%;vertical-align:middle;display:inline-block}.callIconContainer .voiceCallIcon{margin:7px auto;background:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-repeat:no-repeat;background-position:-1077px 0;width:13px;height:21px}.callIconContainer .videoCallIcon{margin:11.5px auto;background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-position:-1095px 0;width:24px;height:12px}.callIconContainer .screenShareIcon{margin:8px auto;background-image:url('https://static-v.tawk.to/a-v3-39/images/mobile-icons.png');background-position:-1124px 0;width:22px;height:20px}.callDetailsContainer{display:table-cell;vertical-align:middle;padding-left:5px}.callTitle{font-size:15px;font-weight:bold}.callTitle.missed{color:#a90329}.callEndDetails{display:none}.callInfoWrapper{display:table}.callErrorContainer .callEndDetails{display:block}.callRetryContainer{padding-left:5px;vertical-align:middle;display:table-cell}.retry-load{float:none}#consentForm #formDecline,#consentForm #formSubmit{width:50%;height:50px}";var w={"chat-notification-container":'<div id="__MESSAGE_ID__" class="messageBody notification clearfix"><div class="notificationContainer"><div class="message">__MESSAGE__</div></div><div class="notificationTime">__TIME__</div><div class="clear"></div></div>',"chat-resend-link":'<a id="resendMessage-__MESSAGE_ID__" href="javascript:void(0);" class="messageStatus" title="Resend">__NOT_DELIVERED__</a>',"tawk-survey-wrapper":'<div class="surveyContainer"><div class="surveyQuestion">__QUESTION__</div><div class="survey-options-wrapper">__OPTIONS__</div></div>',departmentOfflineNotification:'<div class="messageBody notification"><div class="messageWrapper"><div class="message">__MESSAGE__</div></div><div class="clear"></div></div>',"chat-message-container":'__OWNER_TPL__<div class="clearfix"></div><div class="messageBody clearfix">__CONTENT__</div>',"chat-message-owner-agent":'<div class="ownerNameContainer"><div class="messageOwnerName agent">__NAME__</div></div><div class="profileImageContainer"><div class="agentProfileImage"></div><div style="background-image : __IMAGE_URL__; __IE_IMAGE_SCALE__;" class="agentProfileImage"></div></div>',"mobile-agent-typing":'<div id="agentTyping-__MESSAGE_ID__" class="agentChatContainer clearfix"><div class="ownerNameContainer"><div class="messageOwnerName agent">__NAME__</div></div><div class="profileImageContainer"><div class="agentProfileImage"></div><div style="background-image : __IMAGE_URL__; __IE_IMAGE_SCALE__;" class="agentProfileImage"></div></div><div class="clearfix"></div><div class="messageBody clearfix"><div class="message agentTypingIndicator"><span>.</span><span>.</span><span>.</span></div></div></div>',"chat-message-row":'<div class="messageWrapper __PENDING__"><div class="message">__MESSAGE__</div></div>__MESSAGE_STATUS_ROW__<div class="clear"></div>',"chat-message-success":'<span class="message-success"></span>',"chat-message-status-row":'    <div class="messageStatusContainer">        <span class="messageTime __TIME_CLASS__">__TIME__</span>    </div>',"chat-message-pending-row":'    <div class="messageStatusContainer pending">        <span class="messageStatus"></span>    </div>',"survey-option":'<input type="radio" id="__RADIO_ID__" name="__RADIO_NAME__" value="__RADIO_VALUE__" /><label for="__RADIO_ID__">__RADIO_VALUE__</label><br />',"file-upload":'<div>__FILE_DISPLAY__<a class="download-file" href="__DOWNLOAD_URL__" title="__DOWNLOAD_TEXT__" target="_blank"><p class="uploaded-file-name"><b>__FILE_NAME__</b></p><span class="download-image"> </span>__FILE_SIZE__ <span>__FILE_TYPE__</span></a></div>',"chat-divider":'    <hr id="newMessageDividerLine">    <span id="newMessageDividerLabel">__NEW_MESSAGES__</span>',"default-branding":'<span class="thin">Powered by</span> <b>tawk.to</b>',fileUploadProgress:'    <div id="upload-__HANDLE__" class="upload-data">        <span class="upload-icon"></span> <span>__FILE_NAME__</span>        <div class="progress">            <div class="progress-bar" role="progressbar" style="width: 0.5%"></div>        </div>    </div>',incomingCallRequest:'<div id="incoming-call-container""><p style="margin: 5px 0; font-size: 14px; font-weight: bold;">__INCOMING_CALL__</p><div id="icoming-call-buttons"><button id="decline-call"><div class="icon"></div></button><button id="accept-call"><div class="icon"></div></button></div><div class="clear"></div></div>',callInfo:'<div class="loader"><img alt="" title="loading" src="https://static-v.tawk.to/a-v3-39/images/ajax-loader.gif" /></div><div class="callInfoContainer"><div class="callInfoWrapper"><div class="callIconContainer"><div class="callIconWrapper"></div></div><div class="callDetailsContainer"><p class="callTitle"></p><p class="callEndDetails"></p></div></div></div>',callError:'<div class="callInfoWrapper"><div class="callDetailsContainer"><p class="callTitle missed">__HEADER__</p><p class="callEndDetails">__MESSAGE__</p></div><div class="callRetryContainer"><button class="retry-load">__ACTION__</button></div></div>',"emoji-selection":'<ul id="tabs-selection">__TAB_LIST__<li id="search" class="open-tab"><a href="javascript:void(0);" class="emoji-header"><img class="emojione only-emoji" alt="search" title=":mag:" src="https://cdn.jsdelivr.net/emojione/assets/png/1f50d.png?v=2.2.7" /></a></li><div class="clearfix"></div></ul><div id="tab-content"></div>',"emoji-tab-pane":'<div class="tab-pane"><div class="emoji-list">__EMOJIS__</div></div>',"emoji-search-pane":'<div class="tab-pane"><div class="inputContainer"><input id="search-emoji" type="text" class="textInput" placeholder="Search Emoji" /></div><div id="search-list"></div></div>',"emoji-tab-select":'<li class="open-tab" id="__ID__"><a href="javascript:void(0);" class="emoji-header">__IMAGE__</a></li>',"emoji-list":'<a href="javascript:void(0);" class="emoji-select" id="__SHORTNAME__" title="__SHORTNAME__">__IMAGE__</a>',changeNameForm:'<div id="formInnerHeight"><div id="changeNameFormMessageContainer" class="formMessageField">__TITLE__</div><fieldset><div class="inputContainer"><input type="text" id="nameField" value="__NAME__" title="__NAME_PLACEHOLDER__" class="textInput" maxlength="40" placeholder="__NAME_PLACEHOLDER__" /></div></fieldset><div id="nameFieldError" class="formErrorContainer"></div></div><div id="submitWrapper"><div></div></div><div id="formSavingStatus"><span id="savingStatus">__STATUS__</span></div><div class="longFormBottomContainer"><button id="formCancel" class="declineButton formButton">__CANCEL_BUTTON__</button><button id="formSubmit" class="approveButton formButton  theme-background-color theme-text-color">__SAVE_BUTTON__</button></div>',emailTranscriptForm:'<div id="formInnerHeight"><div id="emailTranscriptFormMessageContainer" class="formMessageField">Email transcript to:</div><fieldset><div class="inputContainer"><input type="email" id="transcriptEmailField" title="__TRANSCRIPTEMAIL_PLACEHOLDER__" value="__TRANSCRIPTEMAIL__" class="textInput" maxlength="150" placeholder="__TRANSCRIPTEMAIL_PLACEHOLDER__" /></div></fieldset><div id="transcriptEmailFieldError" class="formErrorContainer"></div><div class="clear"></div></div><div id="submitWrapper"><div></div></div><div id="formSavingStatus"><span id="savingStatus">__STATUS__</span></div><div class="longFormBottomContainer"><button id="formCancel" class="declineButton formButton">__CANCEL_BUTTON__</button><button id="formSubmit" class="approveButton formButton theme-background-color theme-text-color">__SEND_BUTTON__</button></div>',offlineForm:'<div id="overlayOfflineForm">__OFFLINE_MESSAGE_SUCCESSFULY_SENT__</br><div id="resendButton" class="theme-background-color theme-text-color">__SEND_AGAIN__</div></div><div class="longFormContainer"><div id="formInnerHeight"><div id="offlineFormMessageContainer" class="formMessageField">__TITLE__</div>__FIELDS__<div id="messageFieldError" class="formErrorContainer"></div><div class="clear"></div></div></div><div id="submitWrapper"><p>Submitting</p><div></div></div><div class="longFormBottomContainer">__CLOSE_BUTTON_CONTAINER__<button id="formSubmit" class="approveButton formButton theme-background-color theme-text-color">__SUBMIT_BUTTON__</button></div>',preChatForm:'<div class="longFormContainer"><div id="formInnerHeight"><div id="preChatFormMessageContainer" class="formMessageField">__TITLE__</div>__FIELDS__</div></div><div id="submitWrapper"><p>Submitting</p><div></div></div><div id="prechatButtonContainer" class="longFormBottomContainer">__CLOSE_BUTTON_CONTAINER__<button id="formSubmit" class="approveButton formButton theme-background-color theme-text-color">__START_CHAT_BUTTON__</button><div class="clear"></div></div>',departmentSelection:'<fieldset class="__SAFARI__"><label class="form-field-label">__REQUIRED__ __LABEL__</label><div class="inputContainer selection __NON_MODERN__"><select id="__ID__Field" title="__LABEL__">__VALUE__</select></div></fieldset><div id="__ID__FieldError" class="formErrorContainer"></div>',inputTextFieldType:'<fieldset><div class="inputContainer"><input type="__INPUT_TYPE__" id="__ID__Field" title="__LABEL__" value="__VALUE__" class="textInput" maxlength="__MAXLENGTH__"placeholder="__REQUIRED__ __LABEL__" /><label class="form-field-label small">__REQUIRED__ __LABEL__</label><span id="__ID__FieldValid" class="validInputIcon"></span></div></fieldset><div id="__ID__FieldError" class="formErrorContainer"></div>',textAreaFieldType:'<fieldset class="textareaFieldset"><textarea id="__ID__Field" title="__LABEL__" maxlength="__MAXLENGTH__" placeholder="__REQUIRED__ __LABEL__"></textarea><label class="form-field-label small">__REQUIRED__ __LABEL__</label><span id="__ID__FieldValid" class="validInputIcon"></span></fieldset><div id="__ID__FieldError" class="formErrorContainer"></div>',selectionsType:'<fieldset><label class="form-field-label">__REQUIRED__ __LABEL__</label><div><div class="selections-container" id="__ID__Container">__VALUE__</div></div></fieldset><div id="__ID__FieldError" class="formErrorContainer"></div>',checkboxSelectionType:'<div class="selection-container"><input type="checkbox" name="__FIELD_ID__group" id="__ID__" value="__VALUE__" /><label class="selection-label" for="__ID__">__VALUE__</label></div>',radioSelectionType:'<div class="selection-container"><input type="radio" name="__FIELD_ID__group" id="__ID__" value="__VALUE__" /><label class="selection-label" for="__ID__">__VALUE__</label></div>',"close-form-button":'<button id="formCloseChat" class="declineButton formButton">__CLOSE_BUTTON__</button>',inactivityOverlay:"<div>__OVERLAY__</div>",maintenanceOverlay:"<div>__OVERLAY__</div>",endChatForm:'<div id="formInnerHeight"><div id="endChatFormMessageContainer" class="formMessageField">__TITLE__</div></div><div id="submitWrapper"><div></div></div><div id="formSavingStatus"><span id="savingStatus">__STATUS__</span></div><div class="longFormBottomContainer"><button id="formCancel" class="declineButton formButton">__CANCEL_BUTTON__</button><button id="formSubmit" class="approveButton formButton theme-background-color theme-text-color">__END_CHAT_BUTTON__</button></div>',consentForm:'<div class="longFormContainer">        <div id="consentFormMessageContainer" class="formMessageField">        __TITLE__        </div><div id="formSavingStatus"><span id="savingStatus">__STATUS__</span></div></div><div id="submitWrapper"><p id="submitWrapperMessage">__SUBMITTING_INDICATOR__</p>        <div id="submitWrapperIcon"></div></div><div class="longFormBottomContainer__IE6__"><button id="formDecline" class="declineButton">__CUSTOM_CLOSE_BUTTON__</button><button id="formSubmit" class="approveButton theme-background-color theme-text-color">__CUSTOM_SUBMIT_BUTTON__</button><div class="clear"></div></div>',"tawkchat-minified-iframe-element-rectangle":'<div id="tawkchat-minified-wrapper"><div id="tawkchat-minified-container" class="theme-background-color border-corner"><div id="tawkchat-status-middle"><div id="tawkchat-status-text-container" class="theme-text-color"><p id="tawkchat-status-message"><span id="short-message"></span></p></div><div id="tawkchat-minified-agent-container" class="theme-text-color"><p id="tawkchat-minified-agent-information-wrapper"></p></div><div id="tawkchat-minified-link-container"><a href="javascript:void(0);" id="maximizeChat" title="__MAXIMIZE__"><div class="icon"></div></a></div></div></div></div>',"tawkchat-minified-iframe-element-round":'<div id="tawkchat-minified-box"><div id="tawkchat-minified-wrapper"><div id="tawkchat-status-text-container" class="theme-background-color theme-text-color"><a href="javascript:void(0);" id="maximizeChat" title="__MAXIMIZE__"><div id="tawkchat-status-icon" class="online"></div></a></div></div></div>',"tawkchat-chat-bubble-canvas":'<div id="tawkchat-chat-bubble-graphics-container"><canvas id="tawkchat-chat-bubble-canvas"></canvas></div><div id="tawkchat-chat-bubble-close" class="image-canvas-close"></div><div id="tawkchat-chat-bubble-text-container"><p id="tawkchat-chat-bubble-text" class="bubble-text-color"></p></div>',"tawkchat-chat-indicator":'<div id="tawkchat-chat-indicator"><p id="tawkchat-chat-indicator-text"></p></div>',"tawkchat-chat-bubble-gallery":'<span id="tawkchat-chat-bubble-close" class="image-bubble-close"></span><img src="images/profiles-chat-logo.png" id="bubble-image" />',"tawkchat-agent-details-default":'<p id="tawkchat-minified-agent-name"></p><p id="tawkchat-minified-agent-position"></p>',"tawkchat-agent-details":'<span id="tawkchat-minified-agent-name"></span><span id="tawkchat-minified-agent-position"></span>',"tawkchat-maximized-wrapper":'<div id="innerWrapper" class="border-corner"><div id="headerBoxWrapper"><div id="headerBox" class="theme-background-color theme-text-color border-corner"><div id="headerAccountStateContainer"><p id="headerAccountState"><span id="shortMessage"></span></p></div><div id="agentWrapper"><div id="agentProfileContainer"></div><div id="agentListBack"><div id="listBack"></div><p id="agentListLabel">__AGENT_LIST__</p></div></div><div id="headerBoxControlsContainer"><a id="minimizeChat" href="javascript:void(0);" title="__MINIMIZE__"><span class="icon"></span></a><a id="popoutChat" href="javascript:void(0);" title="__POPOUT__"><span class="icon"></span></a><a id="endChat" href="javascript:void(0);" title="__END__"><span class="icon"></span></a></div></div></div><div id="agentBar"><div id="agentList" class="__IE6__"></div></div><div id="chatPanel"><div id="chatContainerWrapper"><div id="chatContainer" class="__IE6__">__GREETINGS__<div id="chatTableWrapper"><div id="chatRowWrapper"><div id="chatCellWrapper"><div id="chatWrapper" class="single-agent"><div id="agentTypingContainer" class="__IE6__"></div></div></div></div></div><div id="maxFileNotificationContainer" class="hidden"><div id="maxFileNotificationMessage"></div><div id="maxFileNumberList"></div><div class="closeButtonContainer"><span id="closeNumberNotification" class="closeNotification"></span></div></div><div id="maxSizeNotificationContainer" class="hidden"><div id="maxSizeNotificationMessage"></div><div id="maxFileSizeList"></div><div class="closeButtonContainer"><span id="closeSizeNotification" class="closeNotification"></span></div></div></div></div><div id="tooLongMsgNotification">__TOO_LONG_MESSAGE__</div><div id="actionsContainer" class="__IE6__"><fieldset id="textareaWrapper"><div id="drop-text"><span></span></div><div id="ratingContainer"><a id="ratePositive" href="javascript:void(0);" title="__RATE_POSITIVE__"></a><a id="rateNegative" href="javascript:void(0);" title="__RATE_NEGATIVE__"></a></div><div id="textareaContainer" class="additionalPadding"></div><a href="javascript:void(0);" id="viewEmoji"><span class="icon"></span></a></fieldset><div id="optionsContainer" style="display: block;"><div class="item" id="soundOption" class="activeSound"><div id="soundOnIcon" class="icon"></div><div id="soundTitle" class="tooltip">Disable Sound</div></div><div class="item" id="emailTranscriptOption"><div id="emailIcon" class="icon"></div><div class="tooltip"></div></div><div class="item" id="uploadFileOption"><label for="fileInput"><div id="uploadFileIcon" class="icon"></div></label><div class="tooltip"></div></div><div id="videoCall" class="item" style="display: none;"><div id="videoCallIcon" class="icon"></div><div class="tooltip"></div></div><div id="voiceCall"  class="item" style="display: none;"><div id="voiceCallIcon" class="icon"></div><div class="tooltip"></div></div><div id="screenShare" class="item" style="display: none;"><div id="screenShareIcon" class="icon"></div><div class="tooltip"></div></div></div></div><form enctype="multipart/form-data" id="upload-form" method="post"><input type="file" class="hidden file-input" name="file[]" multiple="multiple" id="fileInput" /><label class="upload-file sprite-background" title="Upload File" for="test"></label></form></div><div id="emoji-selection-container"><img alt="" title="loading" src="https://static-v.tawk.to/a-v3-39/images/ajax-loader.gif" /></div><div id="formContainer"></div><div id="newMessagesBar"><div id="newMessageContainer"><p id="newMessagesNotification"><a id="newMessagesNotificationLink" title=""></a><span id="notificationMessageText"></span></p><div id="newMessageArrowDown"></div></div></div><div id="__BOTTOM_CONTAINER__"><a id="__TAWK_TO_LINK__" tabindex="-1"></a></div><div id="tawkToContent"><div class="longFormContainer"><div class="wrapper"><div id="tawkImage"></div><p id="tawkHeader">TAWK.TO</p><p id="tawkContent"></p></div></div><div class="buttonContainer"><button id="cancelTawkRedirect"></button><button id="tawkRedirect" class="theme-background-color theme-text-color"></button></div></div></div>',greetingsOverlay:'<div id="greetingsOverlay"><div id="greetingsWrapper"><div id="greetingsContainer"></div><div id="embedArrow"></div></div></div>',chatEnded:'<p class="title">__CHAT_ENDED__</p><div class="buttonContainer"><button id="newChat">__START_CHAT__</button><button id="emailTranscript">__EMAIL_TRANCRIPT__</button></div>',"mobile-bottom-opt":'<div id="tawkchat-minified-box" class="bottom-opt"><div id="tawkchat-chat-indicator"><span id="tawkchat-chat-indicator-text"></span></div><div id="tawkchat-minified-wrapper"><div id="tawkchat-status-text-container" class="theme-background-color"><div id="status-indicator" class="online"></div><div id="tawkchat-status-message" class="theme-text-color"><a id="status-message"></a></div><div id="popout"></div><div class="clear"></div></div></div></div>',"mobile-bottom-not-opt":'<div id="tawkchat-minified-box" class="bottom-not-opt"><div id="tawkchat-chat-indicator"><span id="tawkchat-chat-indicator-text"></span></div><div id="tawkchat-minified-wrapper"><div id="tawkchat-status-text-container" class="theme-background-color"><div id="status-indicator" class="online"></div><div id="tawkchat-status-message" class="theme-text-color"><a id="status-message"></a></div><div id="popout"></div><div class="clear"></div></div></div></div>',"mobile-side-not-opt-right":'<div id="tawkchat-minified-box" class="left-corner"><div id="tawkchat-chat-indicator" class="online"><span id="tawkchat-chat-indicator-text"></span></div><div id="tawkchat-minified-wrapper" class="theme-background-color"><div id="tawkchat-status-text-container"><div id="status-indicator"></div><div id="tawkchat-status-message" class="theme-text-color"><a id="status-message"></a></div><div id="popout"></div><div class="clear"></div></div></div></div>',"mobile-side-not-opt-left":'<div id="tawkchat-minified-box" class="right-corner"><div id="tawkchat-chat-indicator"><span id="tawkchat-chat-indicator-text"></span></div><div id="tawkchat-minified-wrapper" class="theme-background-color"><div id="tawkchat-status-text-container"><div id="popout"></div><div id="status-indicator" class="online"></div><div class="clear"></div><div id="tawkchat-status-message" class="theme-text-color"><a id="status-message"></a></div></div></div></div>',"mobile-side-ie9Less-not-opt":'<div id="tawkchat-minified-box" class="ie9Less"><div id="tawkchat-chat-indicator"><span id="tawkchat-chat-indicator-text"></span></div><div id="tawkchat-minified-wrapper" class="wrapperIE9Less theme-background-color"><div id="tawkchat-status-text-container" class="statusContainerIE9Less statusContainerIE9LessNOptimized"><div id="popout"></div><div id="status-indicator" class="online"></div><div id="tawkchat-status-message" class="theme-text-color statusMessageIE9Less statusMessageIE9LessNOptimized"><a id="status-message"></a></div><div class="clear"></div></div></div></div>',"mobile-side-ie9Less-opt":'<div id="tawkchat-minified-box" class="ie9Less"><div id="tawkchat-chat-indicator"><span id="tawkchat-chat-indicator-text"></span></div><div id="tawkchat-minified-wrapper" class="wrapperIE9Less theme-background-color"><div id="tawkchat-status-text-container" class="statusContainerIE9Less statusContainerIE9LessOptimized"><div id="popout"></div><div id="status-indicator" class="online"></div><div id="tawkchat-status-message" class="theme-text-color statusMessageIE9Less statusMessageIE9LessOptimized"><a id="status-message"></a></div></div></div></div>',"mobile-side-opt-right":'<div id="tawkchat-minified-box" class="opt-left-corner"><div id="tawkchat-chat-indicator"><span id="tawkchat-chat-indicator-text"></span></div><div id="tawkchat-minified-wrapper" class="theme-background-color"><div id="popout"></div><div id="tawkchat-status-text-container"><div id="status-indicator" class="online"></div><div id="tawkchat-status-message" class="theme-text-color"><a id="status-message"></a></div><div class="clear"></div></div></div></div>',"mobile-side-opt-left":'<div id="tawkchat-minified-box" class="opt-right-corner"><div id="tawkchat-chat-indicator"><span id="tawkchat-chat-indicator-text"></span></div><div id="tawkchat-minified-wrapper" class="theme-background-color"><div id="popout"></div><div id="tawkchat-status-text-container"><div id="status-indicator" class="online"></div><div id="tawkchat-status-message" class="theme-text-color"><a id="status-message"></a></div><div class="clear"></div></div></div></div>',"mobile-bottom-round":'<div id="tawkchat-minified-box"><div id="tawkchat-chat-indicator"><span id="tawkchat-chat-indicator-text"></span></div><div id="tawkchat-minified-wrapper"><div id="tawkchat-status-text-container" class="theme-background-color theme-text-color"><div id="tawkchat-status-icon" class="online"></div></div></div></div>',"mobile-bottom-rectangle":'<div id="tawkchat-minified-box"><div id="tawkchat-chat-indicator"><span id="tawkchat-chat-indicator-text"></span></div><div id="tawkchat-minified-wrapper"><div id="tawkchat-status-text-container" class="theme-background-color theme-text-color"><div id="tawkchat-status-icon" class="online"><div id="tawk-minified-mobile-text" class="text"></div></div></div></div></div>',"tawkchat-maximized-container-element":'<div id="topBarContainer" class="theme-background-color theme-text-color"><div id="siteNameContainer"><p id="siteName"></p></div><div id="backButtonContainer" class="button"><div id="backButton"></div></div><div id="menuButtonContainer" class="button"><div id="menuButton"></div></div></div><div id="menuOptions"><div id="menuScrollable"><ul><li id="soundOption"><div class="iconWrapper"><div class="icon"></div></div><span id="soundTitle" class="label"></span></li><li id="changeNameOption"><div class="iconWrapper"><div class="icon"></div></div><span class="label"></span></li><li id="emailTranscriptOption"><div class="iconWrapper"><div class="icon"></div></div><span class="label"></span></li><li id="uploadFileOption"><label for="fileInput"><div class="iconWrapper"><div class="icon"></div></div><span class="label"></span></label></li><li id="videoCallOption" style="display: none;"><div class="iconWrapper"><div class="icon"></div></div><span class="label"></span></li><li id="voiceCallOption" style="display: none;"><div class="iconWrapper"><div class="icon"></div></div><span class="label"></span></li><li id="popOut"><div class="iconWrapper"><div class="icon"></div></div><span class="label"></span></li><li id="endChatOption"><div class="iconWrapper"><div class="icon"></div></div><span class="label"></span></li></ul></div></div><div id="chatPanel"><form enctype="multipart/form-data" id="upload-form" method="post"><input type="file" class="hidden file-input" name="file[]" multiple="multiple" id="fileInput" /><label class="upload-file sprite-background" title="Upload File" for="test"></label></form><div id="chatContainer"><div id="chatTableContainer"><div id="chatRowContainer"><div id="chatCellContainer"><div id="greetingsWrapper"><div id="greetingsContainer"></div><div id="embedArrow"></div></div><div id="chatWrapper" class="single-agent"><div id="agentTypingContainer"></div></div></div></div></div><div id="maxFileNotificationContainer" class="hidden"><div id="maxFileNotificationMessage"></div><div id="maxFileNumberList"></div><div class="closeButtonContainer"><span id="closeNumberNotification" class="closeNotification"></span></div></div><div id="maxSizeNotificationContainer" class="hidden"><div id="maxSizeNotificationMessage"></div><div id="maxFileSizeList"></div><div class="closeButtonContainer"><span id="closeSizeNotification" class="closeNotification"></span></div></div></div><div id="tooLongMsgNotification">__TOO_LONG_MESSAGE__</div><div id="newMessagesBar"><div id="newMessageContainer"><p id="newMessagesNotification"><a id="newMessagesNotificationLink" title=""></a><span id="notificationMessageText"></span></p><div id="newMessageArrowDown"></div></div></div><div id="actionsContainer"><div id="textareaContainer"><a href="javascript:void(0);" id="viewEmoji"><span class="icon"></span></a><div id="emoji-selection-container"><img alt="" title="loading" src="https://static-v.tawk.to/a-v3-39/images/ajax-loader.gif" /></div><div id="textareaWrapper"><textarea id="chatTextarea" maxlength="5000"></textarea></div><div id="textareaSubmitContainer"><div id="textareaSubmitButton"></div></div><div id="ratingContainer"><a id="ratePositive" href="javascript:void(0);"><div class="touch"></div></a><a id="rateNegative" href="javascript:void(0);"><div class="touch"></div></a></div></div></div></div><div id="tawkToContent"><div class="contentContainer"><div class="wrapper"><div id="tawkImage"></div><p id="tawkHeader">TAWK.TO</p><p id="tawkContent"></p></div></div><div class="buttonContainer"><button id="cancelTawkRedirect"></button><button id="tawkRedirect" class="theme-background-color theme-text-color"></button></div></div><div id="formContainer"></div><div id="__BOTTOM_CONTAINER__"><a id="__TAWK_TO_LINK__" tabindex="-1" href="javascript:void(0);"></a></div>',"tawkchat-maximized-container-element-no-cookies":'<div id="topBarContainer" class="theme-background-color theme-text-color"><div id="siteNameContainer"><p id="siteName"></p></div><div id="backButtonContainer" class="button"><div id="backButton"></div></div></div><div id="chatPanel"></div><div id="tawkToContent"><div class="contentContainer"><div class="wrapper"><div id="tawkImage"></div><p id="tawkHeader">TAWK.TO</p><p id="tawkContent"></p></div></div><div class="buttonContainer"><button id="cancelTawkRedirect"></button><button id="tawkRedirect" class="theme-background-color theme-text-color"></button></div></div><div id="formContainer"></div><div id="__BOTTOM_CONTAINER__"><a id="__TAWK_TO_LINK__" tabindex="-1"></a></div>',estimatedWaitTime:'<div class="messageBody notification"><div class="messageWrapper"><div id="stickyContainer"><div id="stickyIcon"></div></div><div class="message">__MESSAGE__</div></div><div class="clear"></div></div>',"mobile-first-message-time":'<p id="firstMessageTimeContainer"><span id="firstMessageTime">__CONTENT__</span></p><div id="firstMessageTimeLine"></div>',"chat-message-owner-visitor":'<div class="ownerNameContainer"><a class="messageOwnerName visitor" href="#">__NAME__</a></div>',"agent-typing":'<div id="agentTyping-__MESSAGE_ID__" class="agentChatContainer clearfix"><div class="ownerNameContainer"><div class="messageOwnerName agent">__NAME__</div></div><div class="profileImageContainer"><div class="agentProfileImage"></div><div style="background-image : __IMAGE_URL__; __IE_IMAGE_SCALE__;" class="agentProfileImage"></div></div><div class="clearfix"></div><div class="messageBody clearfix"><div class="message agentTypingIndicator"><span>.</span><span>.</span><span>.</span></div></div></div>',"agent-profile":"__AGENT_PROFILE_DETAIL____AGENT_PROFILE_IMAGE__","agent-profile-image":'    <div class="alias-image"></div><div class="alias-image" style="__IMAGE_URL__; __IE_IMAGE_SCALE__;"></div>',"agent-profile-description":'<div class="agentContainer"><div class="agentInformationContainer"><p class="__POSITION_CLASS__">__NAME__</p><p class="position-label">__POSITION__</p></div></div>',"agent-profile-description-noimage":'<div class="agentContainerNoImage"><div class="agentInformationContainerNoImage"><p class="agentInfoNoImage"><b>__NAME__</b><i>__POSITION__</i></p></div></div>',"agent-profile-description-single":'<div class="agentContainer"><div class="agentInformationContainer"><p class="__POSITION_CLASS__">__NAME__&nbsp;-&nbsp;__POSITION__</p></div></div>',"wait-time-container":'<div class="messageBody notification"><div class="messageWrapper"><div id="stickyContainer"><div id="stickyIcon"></div></div><div class="message">__MESSAGE__</div></div><div class="clear"></div></div>',"extra-profile":'<div class="alias-image"></div><div class="overlay"></div><p id="totalExtra"></p>'};Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},a=function(){return i.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,a.prototype=new n,a}),Object.keys||(Object.keys=(a=Object.prototype.hasOwnProperty,p=!{toString:null}.propertyIsEnumerable("toString"),h="toString toLocaleString valueOf hasOwnProperty isPrototypeOf propertyIsEnumerable constructor".split(" "),m=h.length,function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var t,i=[];for(t in e)a.call(e,t)&&i.push(t);if(p)for(t=0;t<m;t++)a.call(e,h[t])&&i.push(h[t]);return i})),Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw new TypeError;var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var n=2<=arguments.length?arguments[1]:void 0,a=0;a<i;a++)a in t&&e.call(n,t[a],a,t)}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var i={undefined:1,boolean:1,number:1,string:1},_={exportProperty:function(e,t,i){e[t]=i}};_.dependencyDetection=(n=[],{begin:function(e){n.push(e&&{callback:e,distinctDependencies:[]})},end:function(){n.pop()},registerDependency:function(e){if(!_.isSubscribable(e))throw Error("Only subscribable things can act as dependencies");if(0<n.length){var t=n[n.length-1];!t||0<=_.utils.arrayIndexOf(t.distinctDependencies,e)||(t.distinctDependencies.push(e),t.callback(e))}},ignore:function(e,t,i){try{return n.push(null),e.apply(t,i||[])}finally{n.pop()}}}),_.observable=function(e){function t(){return 0<arguments.length?(t.equalityComparer&&t.equalityComparer(i,arguments[0])||(t.valueWillMutate(),i=arguments[0],t.valueHasMutated()),this):(_.dependencyDetection.registerDependency(t),i)}var i=e;return _.subscribable.call(t),t.peek=function(){return i},t.valueHasMutated=function(){t.notifySubscribers(i)},t.valueWillMutate=function(){t.notifySubscribers(i,"beforeChange")},_.utils.extend(t,_.observable.fn),_.exportProperty(t,"peek",t.peek),_.exportProperty(t,"valueHasMutated",t.valueHasMutated),_.exportProperty(t,"valueWillMutate",t.valueWillMutate),t},_.subscribable=function(){this._subscriptions={},_.utils.extend(this,_.subscribable.fn),_.exportProperty(this,"subscribe",this.subscribe),_.exportProperty(this,"getSubscriptionsCount",this.getSubscriptionsCount)},_.subscribable.fn={subscribe:function(e,t,i){i=i||"change",e=t?e.bind(t):e;var n=new _.subscription(this,e,function(){_.utils.arrayRemoveItem(this._subscriptions[i],n)}.bind(this));return this._subscriptions[i]||(this._subscriptions[i]=[]),this._subscriptions[i].push(n),n},notifySubscribers:function(e,t){if(t=t||"change",this.hasSubscriptionsForEvent(t)){var i,n=this._subscriptions[t];i=0;for(var a=this._subscriptions[t].length;i<a;++i)(n=(n=this._subscriptions[t].slice(0))[i])&&!0!==n.isDisposed&&n.callback(e)}},hasSubscriptionsForEvent:function(e){return this._subscriptions[e]&&this._subscriptions[e].length},getSubscriptionsCount:function(){var i=0;return _.utils.objectForEach(this._subscriptions,function(e,t){i+=t.length}),i},unsubscribe:function(e,t){_.utils.arrayRemoveItem(this._subscriptions[t||"change"],e)}},_.isSubscribable=function(e){return null!==e&&"function"==typeof e.subscribe&&"function"==typeof e.notifySubscribers},_.subscription=function(e,t,i){this.target=e,this.callback=t,this.disposeCallback=i,_.exportProperty(this,"dispose",this.dispose)},_.subscription.prototype.dispose=function(){this.isDisposed=!0,this.disposeCallback()},_.observable.fn={equalityComparer:function(e,t){return(null===e||typeof e in i)&&e===t}};var x=_.observable.protoProperty="__tw_proto__";if(_.observable.fn[x]=_.observable,_.hasPrototype=function(e,t){return null!=e&&void 0!==e[x]&&(e[x]===t||_.hasPrototype(e[x],t))},_.isObservable=function(e){return _.hasPrototype(e,_.observable)},_.utils={arrayIndexOf:function(e,t){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t);for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},extend:function(e,t){if(t)for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);return e},arrayRemoveItem:function(e,t){var i=_.utils.arrayIndexOf(e,t);0<=i&&e.splice(i,1)},objectForEach:function(e,t){for(var i in e)e.hasOwnProperty(i)&&t(i,e[i])}},function(e){function g(e){for(var t,i,n=[],a=0,o=e.length;a<o;)55296<=(t=e.charCodeAt(a++))&&t<=56319&&a<o?56320==(64512&(i=e.charCodeAt(a++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),a--):n.push(t);return n}function t(e){var t,i,n,a,o,r,s,l,c,d,p,h,m=[];for(d=(e=g(e)).length,t=128,o=72,r=i=0;r<d;++r)(c=e[r])<128&&m.push(b(c));for((n=a=m.length)&&m.push("-");n<d;){for(s=u,r=0;r<d;++r)t<=(c=e[r])&&c<s&&(s=c);if(s-t>f((u-i)/(p=n+1)))throw new RangeError(xr.overflow);for(i+=(s-t)*p,t=s,r=0;r<d;++r){if((c=e[r])<t&&++i>u)throw new RangeError(xr.overflow);if(c==t){for(l=i,s=36;!(l<(c=s<=o?1:o+26<=s?26:s-o));s+=36)h=l-c,l=36-c,m.push(b(c+h%l+22+75*(c+h%l<26)-0)),l=f(h/l);for(m.push(b(l+22+75*(l<26)-0)),o=p,s=0,i=n==a?f(i/700):i>>1,i+=f(i/o);455<i;s+=36)i=f(i/35);o=f(s+36*i/(i+38)),i=0,++n}}++i,++t}return m.join("")}var u=2147483647,i=/[^\x20-\x7E]/,r=/[\x2E\u3002\uFF0E\uFF61]/g,f=Math.floor,b=String.fromCharCode;e.punycode={version:"1.4.1",ucs2:{decode:g},encode:t,toASCII:function(e){return function(e,t){var i="";1<(n=e.split("@")).length&&(i=n[0]+"@",e=n[1]);for(var n,a=(n=(e=e.replace(r,".")).split(".")).length,o=[];a--;)o[a]=t(n[a]);return i+(n=o.join("."))}(e,function(e){return i.test(e)?"xn--"+t(e):e})}}}(y),f.$_Tawk=f.$_Tawk||{},f.Tawk_API=f.Tawk_API||{},"object"==typeof f.$_Tawk_API)for(var e in f.$_Tawk_API)f.$_Tawk_API.hasOwnProperty(e)&&(f.Tawk_API[e]=f.$_Tawk_API[e]);s.begin=function(e){y.main.begin(e)},s.init=function(e){y.main.init(e)},g={onLoad:function(){},onStatusChange:function(){},onBeforeLoad:function(){},onChatMaximized:function(){},onChatMinimized:function(){},onChatHidden:function(){},onChatStarted:function(){},onChatEnded:function(){},onPrechatSubmit:function(){},onOfflineSubmit:function(){},onChatMessageVisitor:function(){},onChatMessageAgent:function(){},onChatMessageSystem:function(){},onAgentJoinChat:function(){},onAgentLeaveChat:function(){},onChatSatisfaction:function(){},onVisitorNameChanged:function(){},onFileUpload:function(){}},s.maximize=Tawk_API.maximize=function(){s.ready&&y.sessionHandler.notifyWindowState("max")},s.minimize=Tawk_API.minimize=function(){s.ready&&y.sessionHandler.notifyWindowState("min")},s.toggle=Tawk_API.toggle=function(){s.ready&&y.viewHandler.toggleWidget()},s.popup=Tawk_API.popup=function(){s.ready&&y.viewHandler.popoutWidget()},s.getWindowType=Tawk_API.getWindowType=function(){if(s.ready)return P.isEmbedded?"embed":P.isPopup?"popup":"inline"},s.showWidget=Tawk_API.showWidget=function(){s.ready&&y.viewHandler.showWidget()},s.hideWidget=Tawk_API.hideWidget=function(){s.ready&&y.viewHandler.hideWidget()},s.toggleVisibility=Tawk_API.toggleVisibility=function(){s.ready&&y.viewHandler.toggleVisibility()},s.getStatus=Tawk_API.getStatus=function(){if(s.ready)return D.pageStatus()},s.isChatMaximized=Tawk_API.isChatMaximized=function(){if(s.ready)return"max"===D.chatWindowState()},s.isChatMinimized=Tawk_API.isChatMinimized=function(){if(s.ready)return"min"===D.chatWindowState()},s.isChatHidden=Tawk_API.isChatHidden=function(){if(s.ready)return y.viewHandler.isWidgetHidden()},s.isChatOngoing=Tawk_API.isChatOngoing=function(){if(s.ready)return y.chatHandler.isChatOngoing()},s.isVisitorEngaged=Tawk_API.isVisitorEngaged=function(){if(s.ready)return y.chatHandler.isVisitorEngaged()},s.endChat=Tawk_API.endChat=function(){s.ready&&y.chatHandler.triggerEndChat()},s.setForeignKey=Tawk_API.setForeignKey=function(e,t){y.sessionHandler.setForeignKey(e,t)},s.setConversion=Tawk_API.setConversion=function(e,t){y.sessionHandler.setConversionId(e,t)},s.addEvent=Tawk_API.addEvent=function(e,t,i){y.sessionHandler.addEvent(e,t,i)},s.setAttributes=Tawk_API.setAttributes=function(e,t){y.sessionHandler.setAttributes(e,!0,t)},s.addTags=Tawk_API.addTags=function(e,t){y.sessionHandler.addTags(e,t)},s.removeTags=Tawk_API.removeTags=function(e,t){y.sessionHandler.removeTags(e,t)};var k,C,E,T,S,I="",B=0,N=!1,H=!1,R=!1,M=null,A=null,z=!0,P={widgetId:"default",isPopup:!1,isEmbedded:!1,soundOn:_.observable(!0),showAgentBar:!0,showWaitTime:!0,showPreChatForm:!1,showOfflineForm:!0,hideWidget:!1,hideWidgetOnLoad:!1,hideWidgetOnOffline:!1,greetings:{},prechatOptions:{},headerBgColor:null,headerTxtColor:null,whiteLabel:_.observable(),mobileWidget:_.observable("round"),desktopWidget:_.observable("full"),chatBubble:_.observable(),chatPosition:_.observable("br"),maximizedDimensions:_.observable({width:0,height:0}),minimizedDimensions:_.observable({width:0,height:0,position:"br"}),onClickAction:"max",widgetVersion:0,locale:"en",schedule:null,scheduleTimezone:null,isTopPositioned:function(){return"tr"===this.chatPosition()||"tl"===this.chatPosition()},isBottomPositioned:function(){return"br"===this.chatPosition()||"bl"===this.chatPosition()},isCenterPositioned:function(){return"cr"===this.chatPosition()||"cl"===this.chatPosition()},isRightPositioned:function(){return"cr"===this.chatPosition()||"tr"===this.chatPosition()||"br"===this.chatPosition()},isLeftPositioned:function(){return"cl"===this.chatPosition()||"tl"===this.chatPosition()||"bl"===this.chatPosition()},isDesktopRectangle:function(){return"min"!==this.desktopWidget()},agentTextBgColor:null,agentTextColor:null,visitorTextBgColor:null,visitorTextColor:null,topCorner:null,bottomCorner:null,maxStyle:_.observable(),minStyle:_.observable(),mobMaxStyle:_.observable(),mobMinStyle:_.observable(),isRTL:_.observable(!1),webRTCSettings:_.observable(),brandingRedirect:_.observable()},O={uuid:null,uuidVer:0,visitorId:"",name:_.observable(),displayName:_.observable(),email:_.observable(),transcriptEmail:"",uuids:[]},L={pageId:null,tawkId:"",pageName:_.observable(),isStable:!0},F={chatSynced:!1,chatBuffer:[],chatVersion:0,chatDepartment:"any",agents:{},agentProfiles:{},profiles:{},rating:_.observable(0),chatHistory:[],chatOrder:0,chatEndVersion:1},D={transferKey:"",sessionKey:"",transferedSession:!1,currentVersion:588,criticalVersion:0,serverVersion:0,agentImgUrl:"https://s3.amazonaws.com/tawk-to-pi",visitorAppServer:"https://va.tawk.to",visitorSocketServer:"",chatWindowState:_.observable("min"),pageStatus:_.observable(),pageStatusVersion:0,prechatFormSubmitted:!1,waitTime:6e4,chatBubbleClosed:_.observable(!1),restarted:!1,departments:[]},W={chat_sound:"https://static-v.tawk.to/a-v3-39/audio/chat_sound.mp3"},U={chat_sound:"https://static-v.tawk.to/a-v3-39/audio/chat_sound.ogg"},V={chat_sound:"https://static-v.tawk.to/a-v3-39/audio/chat_sound.wav"},j={chat_sound:"https://static-v.tawk.to/a-v3-39/audio/chat_sound.aac"};!function(){var o=!1,r=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.TawkClass=function(){},TawkClass.extend=function(e){function t(){!o&&this.init&&this.init.apply(this,arguments)}var a=this.prototype;o=!0;var i=new this;for(var n in o=!1,e)i[n]="function"==typeof e[n]&&"function"==typeof a[n]&&r.test(e[n])?function(i,n){return function(){var e=this._super;this._super=a[i];var t=n.apply(this,arguments);return this._super=e,t}}(n,e[n]):e[n];return((t.prototype=i).constructor=t).extend=arguments.callee,t}}();var t=function(){this.br="<br/>",this.regAlphaNumeric=/^[a-z0-9\-]{1,50}$/i,this.regNameMach=/^V[0-9]{16}$/,this.regTrim=/^\s+|\s+$/g,this.regDate=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/,this.regEmail=/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/i,this.regSurvey=/\[option\](.*?)(<br\/>|$)/g,this.regSurveyQuestion=/^(.*?)\[option\]/g,this.regOption=/\[option\]/g,this.regBr=/<br\/>/,this.regMatchUrl=RegExp('(?:^(?:(?:[a-z]+:)?//)?(?:\\S+(?::\\S*)?@)?(?:localhost|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:[/?#][^\\s"]*)?$)',"i"),this.regMatchIp=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?\/([a-zA-Z0-9!$&'()*+.=-_~:@\/\?#]+)+)\b/gi,this.regEmailMatch=/^((mailto:){0,1}[a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]+)$/,this.regLineBreaks=/(\r\n|\n|\r)/gm,this.decodedAmp="&",this.decodedQuote='"',this.decodedApos="'",this.decodedLess="<",this.decodedGreat=">",this.encodedQuote="&quot;",this.encodedApos="&#39;",this.encodedLess="&lt;",this.encodedGreat="&gt;",this.encodedAmp="&amp;",this.rtlLangTab=["ar","he","fa"],this.decodedAmpRegex=RegExp(this.decodedAmp,"g"),this.decodedQuoteRegex=RegExp(this.decodedQuote,"g"),this.decodedAposRegex=RegExp(this.decodedApos,"g"),this.decodedLessRegex=RegExp(this.decodedLess,"g"),this.decodedGreatRegex=RegExp(this.decodedGreat,"g"),this.encodedQuoteRegex=RegExp(this.encodedQuote,"g"),this.encodedAposRegex=RegExp(this.encodedApos,"g"),this.encodedLessRegex=RegExp(this.encodedLess,"g"),this.encodedGreatRegex=RegExp(this.encodedGreat,"g"),this.encodedAmpRegex=RegExp(this.encodedAmp,"g"),this.connectionUrl="https://video.tawk.to"};t.prototype.createElement=function(e,t,i,n,a){var o;for(o in e=e.createElement(t),i=i||{})e[o]=i[o];return a&&"iframe"!==t&&(e.innerHTML=a),n&&(e.style.cssText=n),e},t.prototype.getDocument=function(e){return e.contentWindow?e.contentWindow.document:e.contentDocument?e.contentDocument:e.document?e.document:null},t.prototype.parseQueryString=function(e){var t,i,n,a={};for(n=(e?e.replace(/(.*)\?/,""):f.location.search.substring(1)).split("&"),e=0,t=n.length;e<t;e+=1)a[(i=n[e].split("="))[0]]=i[1];return a},t.prototype.createQueryString=function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return i.join("&")},t.prototype.getReloadedScript=function(){var e,t,i=document.getElementsByTagName("script"),n=null;for(e=0,t=i.length;e<t;e++)i[e].id&&-1!==i[e].id.indexOf("TawkScript")&&(n=i[e]);return n},t.prototype.parseApi=function(){var t=Tawk_API;"function"==typeof t.onBeforeLoad&&(g.onBeforeLoad=function(){"function"==typeof t.onBeforeLoad&&(t.onBeforeLoad(),delete t.onBeforeLoad)}),"function"==typeof t.onLoad&&(g.onLoad=function(){"function"==typeof t.onLoad&&(t.onLoad(),delete t.onLoad)}),"function"==typeof t.onStatusChange&&(g.onStatusChange=function(e){try{t.onStatusChange(e,y.languageParser.translate("status",e))}catch(e){}}),"function"==typeof t.onChatMaximized&&(g.onChatMaximized=function(){try{t.onChatMaximized()}catch(e){}}),"function"==typeof t.onChatMinimized&&(g.onChatMinimized=function(){try{t.onChatMinimized()}catch(e){}}),"function"==typeof t.onChatHidden&&(g.onChatHidden=function(){try{t.onChatHidden()}catch(e){}}),"function"==typeof t.onChatStarted&&(g.onChatStarted=function(){try{t.onChatStarted()}catch(e){}}),"function"==typeof t.onChatEnded&&(g.onChatEnded=function(){try{t.onChatEnded()}catch(e){}}),"function"==typeof t.onPrechatSubmit&&(g.onPrechatSubmit=function(e){try{t.onPrechatSubmit(e)}catch(e){}}),"function"==typeof t.onOfflineSubmit&&(g.onOfflineSubmit=function(e){try{t.onOfflineSubmit(e)}catch(e){}}),"function"==typeof t.onChatMessageVisitor&&(g.onChatMessageVisitor=function(e){try{t.onChatMessageVisitor(e)}catch(e){}}),"function"==typeof t.onChatMessageAgent&&(g.onChatMessageAgent=function(e){try{t.onChatMessageAgent(e)}catch(e){}}),"function"==typeof t.onChatMessageSystem&&(g.onChatMessageSystem=function(e){try{t.onChatMessageSystem(e)}catch(e){}}),"function"==typeof t.onAgentJoinChat&&(g.onAgentJoinChat=function(e){try{t.onAgentJoinChat(e)}catch(e){}}),"function"==typeof t.onAgentLeaveChat&&(g.onAgentLeaveChat=function(e){try{t.onAgentLeaveChat(e)}catch(e){}}),"function"==typeof t.onChatSatisfaction&&(g.onChatSatisfaction=function(e){try{t.onChatSatisfaction(e)}catch(e){}}),"function"==typeof t.onVisitorNameChanged&&(g.onVisitorNameChanged=function(e){try{t.onVisitorNameChanged(e)}catch(e){}}),"function"==typeof t.onFileUpload&&(g.onFileUpload=function(e){try{t.onFileUpload(e)}catch(e){}}),g.disableSound=!!t.disableSound,g.embedded=t.embedded||null,g.profileName=t.profileName||null,g.visitor=t.visitor||null,g.disableMobileBackHistory=!!t.disableMobileBackHistory,g.isPopup=!!t.isPopup},t.prototype.trim=function(e){return this.isString(e)?String.prototype.trim?e.trim().toString():e.replace(this.regTrim,""):null},t.prototype.isString=function(e){return void 0!==e&&"string"==typeof e},t.prototype.isEmail=function(e){return this.regEmail.test(e)},t.prototype.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.prototype.parseVisitorName=function(e){return this.isGeneratedName(e)?y.languageParser.translate("chat","defaultName"):e},t.prototype.generateRandomString=function(e){var t,i=[];for(e=e||6,t=0;t<e;t++)i.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random())));return i.join("")},t.prototype.computedStyle=function(e,t){var i;if(!e||!t)return null;if(e.currentStyle)i=e.currentStyle[t];else try{i=getComputedStyle(e,null).getPropertyValue(t)}catch(e){i="none"}return"width"===t&&"auto"===i&&(i=e.clientWidth),""+i},t.prototype.parseChatTime=function(e){var t=this.getDateFromUTC(e);return(e=t.getHours())<10&&(e="0"+e),(t=t.getMinutes())<10&&(t="0"+t),e+":"+t},t.prototype.getDateFromUTC=function(e){return e instanceof Date?e:(e=this.regDate.exec(e),new Date(Date.UTC(e[1],e[2]-1,e[3],e[4],e[5],e[6],e[7])))},t.prototype.rawEncode=function(e){return e.replace(this.decodedAmpRegex,this.encodedAmp).replace(this.decodedQuoteRegex,this.encodedQuote).replace(this.decodedAposRegex,this.encodedApos).replace(this.decodedLessRegex,this.encodedLess).replace(this.decodedGreatRegex,this.encodedGreat)},t.prototype.rawDecode=function(e){return e.replace(this.encodedQuoteRegex,this.decodedQuote).replace(this.encodedAposRegex,this.decodedApos).replace(this.encodedLessRegex,this.decodedLess).replace(this.encodedGreatRegex,this.decodedGreat).replace(this.encodedAmpRegex,this.decodedAmp)},t.prototype.getMilliseconds=function(e){return e instanceof Date||(e=this.regDate.exec(e),e=new Date(Date.UTC(e[1],e[2]-1,e[3],e[4],e[5],e[6],e[7]))),e.getTime()},t.prototype.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()},t.prototype.getDepartmentStatus=function(e){var t,i,n=D.departments,a="",o=!0,r="";if("any"===e)return{status:"",isOnline:!0,name:""};for(t=0,i=n.length;t<i;t++)if(n[t].did===e){o="online"===n[t].st,a=n[t].st,r=n[t].n;break}return{status:a,isOnline:o,name:r}},t.prototype.getElementsByClassName=function(e,t){var i,n,a,o;if(e.getElementsByClassName)return e.getElementsByClassName(t);for(o=[],i=0,n=(a=e.getElementsByTagName("*")).length;i<n;i++)-1!==a[i].className.indexOf(t)&&o.push(a[i]);return o},t.prototype.insertStaticIframe=function(e){var t=document.createElement("iframe");t.style.display="none",t.src=e,document.body&&document.body.appendChild(t)},t.prototype.insertScript=function(e,t,i){var n=document.getElementsByTagName("script")[0],a=document.createElement("script");a.async=!0,a.src=e,a.charset="UTF-8",a.setAttribute("crossorigin","*"),t&&(a.id=t),i?n.parentNode.insertBefore(a,n):n.parentNode.appendChild(a)},t.prototype.isPlaceholderSupported=function(){return"placeholder"in document.createElement("input")},t.prototype.togglePlaceholderText=function(e,t,i){y.eventHandler.listen(e,"focus",function(e){this.value===t&&(this.value="")},i+"inputfocus"),y.eventHandler.listen(e,"blur",function(){""===this.value&&(this.value=t)},i+"inputblur")},t.prototype.redraw=function(e){var t=e.style.display;e.style.display="none",e.style.display=t},t.prototype.isTouchDevice=function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},t.prototype.shadeColor=function(e,t){var i,n,a="#";for((e=String(e).replace(/[^0-9a-f]/gi,"")).length<6&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),t=t||0,n=0;n<6;n+=2)i=parseInt(e[n]+""+e[n+1],16),a+=("00"+(i=Math.round(Math.min(Math.max(0,i+i*t),255)).toString(16))).substring(i.length);return a},t.prototype.getContrast=function(e){return(e=e.replace("#","")).length<6&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),8388607.5<parseInt(e,16)?"white":"black"},t.prototype.getElementsByTagName=function(e,t){for(var i=[],n=e.getElementsByTagName(t),a=0;a<n.length;a++)i.push(n[a]);return i},t.prototype.chatElementInView=function(e){var t=y.viewHandler.chatContainer.getElementById("chatContainer");return e.offsetTop>=t.scrollTop&&e.offsetTop<=t.scrollTop+t.offsetHeight},t.prototype.formatFileSize=function(e){var t="Bytes KB MB GB TB PB EB ZB YB".split(" ");if(!(e=parseInt(e,10)))return"0Bytes";for(var i=1;i<t.length;i++)if(e<Math.pow(1024,i))return Math.round(e/Math.pow(1024,i-1)*100)/100+t[i-1];return e},t.prototype.isFileInputSupported=function(){if(v.userAgent.match(/(Android (1.0|1.1|1.5|1.6|2.0|2.1))|(Windows Phone (OS 7|8.0))|(XBLWP)|(ZuneWP)|(w(eb)?OSBrowser)|(webOS)|(Kindle\/(1.0|2.0|2.5|3.0))/))return!1;var e=document.createElement("input");return e.type="file",!e.disabled},t.prototype.escapeTemplateReplacement=function(e,t){for(var i=0;i<t.length;i++){var n=t[i],a=n.textReplace;"string"==typeof a&&(a=a.replace(/\$/g,"$$$")),e=e.replace(n.placeholder,a)}return e},t.prototype.getGenericStyle=function(e){return["outline                     : "+(e.outline?e.outline:"none")+" !important; ","visibility                  : "+(e.visibility?e.visibility:"visible")+" !important; ","resize                      : "+(e.resize?e.resize:"none")+" !important; ","box-shadow                  : "+(e.boxshadow?e.boxshadow:"none")+" !important; ","overflow                    : "+(e.overflow?e.overflow:"visible")+" !important; ","background                  : "+(e.background?e.background:"none")+" !important; ","opacity                     : "+(e.opacity?e.opacity:"1")+" !important; ","filter                      : alpha(opacity="+(e.opacity?100*e.opacity:"100")+") !important; ","-ms-filter                  : progid:DXImageTransform.Microsoft.Alpha(Opacity"+(e.opacity?e.opacity:"1")+") !important; ","-moz-opacity                : "+(e.opacity?e.opacity:"1")+" !important; ","-khtml-opacity              : "+(e.opacity?e.opacity:"1")+" !important; ","top                         : "+(e.top?e.top:"auto")+" !important; ","right                       : "+(e.right?e.right:"auto")+" !important; ","bottom                      : "+(e.bottom?e.bottom:"auto")+" !important; ","left                        : "+(e.left?e.left:"auto")+" !important; ","position                    : "+(e.position?e.position:"absolute")+" !important; ","border                      : "+(e.border?e.border:"0")+" !important; ","min-height                  : "+(e.minheight?e.minheight:"auto")+" !important; ","min-width                   : "+(e.minwidth?e.minwidth:"auto")+" !important; ","max-height                  : "+(e.maxheight?e.maxheight:"none")+" !important; ","max-width                   : "+(e.maxwidth?e.maxwidth:"none")+" !important; ","padding                     : "+(e.padding?e.padding:"0")+" !important; ","margin                      : "+(e.margin?e.margin:"0")+" !important; ","-moz-transition-property    : "+(e.transition?e.transition:"none")+" !important; ","-webkit-transition-property : "+(e.transition?e.transition:"none")+" !important; ","-o-transition-property      : "+(e.transition?e.transition:"none")+" !important; ","transition-property         : "+(e.transition?e.transition:"none")+" !important; ","transform                   : "+(e.transform?e.transform:"none")+" !important; ","-webkit-transform           : "+(e.transform?e.transform:"none")+" !important; ","-ms-transform               : "+(e.transform?e.transform:"none")+" !important; ","width                       : "+(e.width?e.width:"auto")+" !important; ","height                      : "+(e.height?e.height:"auto")+" !important; ","display                     : "+(e.display?e.display:"block")+" !important; ","z-index                     : "+(e.zindex?e.zindex:"none")+" !important; ","background-color            : "+(e.backgroundcolor?e.backgroundcolor:"transparent")+" !important; ","cursor                      : "+(e.cursor?e.cursor:"auto")+" !important; ","float                       : "+(e.float?e.float:"none")+" !important; "].join("")},t.prototype.isGeneratedName=function(e){return this.regNameMach.test(e)},t.prototype.getRotateStyling=function(e,t){var i="rotate("+e+"deg) translateZ(0px)";return{transform:i,"-moz-transform":i,"-webkit-transform":i,"-o-transform":i,"-ms-transform":i,"transform-origin":t,"-moz-transform-origin":t,"-webkit-transform-origin":t,"-o-transform-origin":t,"-ms-transform-origin":t}},t.prototype.blurElements=function(e){for(var t=0;t<e.length;t++)e[t].blur()},t.prototype.transformGreetings=function(e){for(var t,i,n=/\[([^)]+)\]/,a=/\(([^)]+)\)/,o=/\[[^\]\(\)]+\]\((\bhttp:\/\/\b|\bhttps:\/\/\b|\bmailto:\b){1}[^\]\(\)]+\)/i,r="_blank",s=e;null!==(t=o.exec(s))&&(i=n.exec(t[0]),(t=a.exec(t[0]))[0].indexOf("(mailto:")||(r="_top"),(s=s.replace(i[0]+t[0],'<a target="'+r+'" href="'+t[1]+'" class="link">'+i[1]+"</a>"))!==e););return s},t.prototype.checkWhiteLabelLink=function(e,t){var i,n,a=1e4*Math.random(),o=this,r=y.viewHandler.chatContainer;this.checkWhiteLabelRef=setTimeout(function(){(t.label!==e.innerHTML||t.url&&t.url!==e.href||!t.url&&e.href||t.id!==e.id||!r.getElementById(e.id)||t.cssText!==e.style.cssText)&&(o.whiteLabelUnexpectedIssueLogged||(y.loggingHandler.logIncident("White label element has changed unexpectedly",{pageId:O.uuid}),o.whiteLabelUnexpectedIssueLogged=!0),e.id=t.id,e.innerHTML=t.label,e.style.cssText=t.cssText,null!==t.url?e.href=t.url:e.removeAttribute("href"),!r.getElementById(t.parentElem.id)&&t.grandParentName&&(i=r.getElementById(t.grandParentName),t.siblingName&&(n=r.getElementById(t.siblingName))&&i&&i.insertBefore(t.parentElem,n)),i=r.getElementById(t.parentElem.id),!r.getElementById(e.id)&&i&&i.appendChild(e)),o.checkWhiteLabelLink(e,t)},a)},t.prototype.applyWhiteLabelSettings=function(e,t){clearTimeout(this.checkWhiteLabelRef),null===t.url?e.removeAttribute("href"):(e.href=t.url,t.url=e.href),P.whiteLabel()&&null!==t.url&&(e.target="_blank"),e.innerHTML=t.label,e.style.cssText+=";color:"+t.textColor+" !important",t.cssText=e.style.cssText,this.checkWhiteLabelLink(e,t)},t.prototype.transformLabel=function(n){var e;return(e=n.match(/_[^_]+_/gi))&&0<e.length&&e.forEach(function(e){var t;t=e.indexOf("_");var i=e.lastIndexOf("_");t=e.substring(0,t)+"<i>"+e.substring(t+1,i)+"</i>"+e.substring(i+1,e.length),n=n.replace(e,t)}),(e=n.match(/\*[^*]+\*/gi))&&0<e.length&&e.forEach(function(e){var t;t=e.indexOf("*");var i=e.lastIndexOf("*");t=e.substring(0,t)+"<b>"+e.substring(t+1,i)+"</b>"+e.substring(i+1,e.length),n=n.replace(e,t)}),n},t.prototype.getRandomName=function(){return"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(52*Math.random())+this.generateRandomString()+"-"+(new Date).getTime()},t.prototype.insertRandomTagsBeforeAndAfter=function(e,t,i){var n,a=Math.floor(3*Math.random()+1);for(n=0;n<a;n++){var o=document.createElement(i);o.id=q.getRandomName(),t.insertBefore(o,e)}for(a=Math.floor(3*Math.random()+1),n=0;n<a;n++)(e=document.createElement(i)).id=q.getRandomName(),t.appendChild(e)},t.prototype.getWebRTCToken=function(e,t,i){var n=this;e={video:e,screen:t},i=i||function(){},this.webrtcWin=f.open("",""),y.socketManager.sendToConnector("getWebRTCToken",e,function(e,t){if(e)return n.webrtcWin.close(),i(!0,e);n.webrtcWin.location.href=n.connectionUrl+"/v2/call?token="+t.data.token,i()})},t.prototype.rejectCall=function(e,i){var t={callId:e};i=i||function(){},y.socketManager.sendToConnector("declineCall",t,function(e,t){i()})},t.prototype.disconnectWebRTC=function(){this.webrtcWin&&this.webrtcWin.close()},t.prototype.isDescendent=function(e,t){for(var i=t.parentNode;null!==i;){if(i===e)return!0;i=i.parentNode||null}return!1},t.prototype.getTimeDifference=function(e,t){var i,n;return i=new Date(e),endTimeFmt=new Date(t),diff=endTimeFmt.getTime()-i.getTime(),n=36e5<=diff?(i=Math.round(diff/36e5),"hours"):6e4<=diff?(i=Math.round(diff/6e4),"minutes"):(i=Math.round(diff/1e3),"seconds"),y.languageParser.translate("chat",n,{num:i})},Inheritance_Manager={extend:function(e,t){function i(){}i.prototype=t.prototype,e.prototype=new i,(e.prototype.constructor=e).prototype.parent=t.prototype,e.baseConstructor=t,e.superClass=t.prototype}};var q=new t;"undefined"!=typeof module&&module.exports&&(module.exports.Utils=t);var G=[{string:v.userAgent,subString:"Edge",identity:"explorer",versionSearch:"Edge"},{string:v.userAgent,subString:"Trident/7.0",identity:"explorer",versionSearch:"rv"},{string:v.userAgent,subString:"(Opera|OPR)",identity:"opera",versionSearch:"Version"},{string:v.userAgent,subString:"Chrome",identity:"chrome",versionSearch:"Chrome"},{string:v.userAgent,subString:"Mobile Safari",identity:"android",versionSearch:"Version"},{string:v.userAgent,subString:"Firefox",identity:"firefox",versionSearch:"Firefox"},{string:v.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"},{string:v.userAgent,subString:"IEMobile",identity:"explorer",versionSearch:"IEMobile"},{string:v.userAgent,subString:"Safari",identity:"safari",versionSearch:"Version"},{string:v.userAgent,subString:"Gecko",identity:"mozilla",versionSearch:"rv"}],X=[{string:v.userAgent,subString:"Windows Phone",identity:"windows_phone"},{string:v.platform,subString:"Win",identity:"windows"},{string:v.platform,subString:"Mac",identity:"mac"},{string:v.userAgent,subString:"iPhone",identity:"iphone"},{string:v.userAgent,subString:"Android",identity:"android"},{string:v.platform,subString:"Linux",identity:"linux"},{string:v.userAgent,subString:"iPad",identity:"ipad"}],K={google:"q",yahoo:"p",baidu:"wd",yandex:"text",bing:"q",soso:"w",ask:"q",aol:"q",sogou:"query",mywebsearch:"searchfor",youdao:"q",lycos:"q",infospace:"q",blekko:"q",info:"q",dogpile:"q",duckduckgo:"q",webcrawler:"q"},Y={src:"about:blank",border:"0",cellspacing:"0",frameBorder:"0",scrolling:"no",horizontalscrolling:"no",verticalscrolling:"no",allowTransparency:"true",title:"chat widget"},J={nokia:[/(NokiaBrowser)\/(\d+)\.(\d+).(\d+)\.(\d+)/,/^(Nokia)/,/(NokiaBrowser)\/(\d+)\.(\d+).(\d+)/,/(NokiaBrowser)\/(\d+)\.(\d+)/,/(BrowserNG)\/(\d+)\.(\d+).(\d+)/,/(Series60)\/5\.0/,/(Series60)\/(\d+)\.(\d+)/,/(S40OviBrowser)\/(\d+)\.(\d+)\.(\d+)\.(\d+)/,/(Nokia)[EN]?(\d+)/],blackberry:[/(BB10);/,/(PlayBook).+RIM Tablet OS (\d+)\.(\d+)\.(\d+)/,/(Black[bB]erry).+Version\/(\d+)\.(\d+)\.(\d+)/,/(Black[bB]erry)\s?(\d+)/],chrome:[/(CrMo)\/(\d+)\.(\d+)\.(\d+)\.(\d+)/,/(CriOS)\/(\d+)\.(\d+)\.(\d+)\.(\d+)/,/(Android).*(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+) (Mobile)?/],ie:[/(IEMobile)[ \/](\d+)\.(\d+)/],firefox:[/Mobile.*(Firefox)\/(\d+)\.(\d+)/,/Tablet.*(Firefox)\/(\d+)\.(\d+)/],operamini:[/(Opera Mini)(?:\/att)?\/(\d+)\.(\d+)/],opera:[/(Opera Tablet).*Version\/(\d+)\.(\d+)(?:\.(\d+))?/,/(?:Mobile Safari).*(OPR)\/(\d+)\.(\d+)\.(\d+)'/,/(Opera)\/.+Opera Mobi.+Version\/(\d+)\.(\d+)/,/(Opera)\/(\d+)\.(\d+).+Opera Mobi/,/Opera Mobi.+(Opera)\/(\d+)\.(\d+)/,/Opera Mobi/,/(Opera)\/9.80.*Version\/(\d+)\.(\d+)(?:\.(\d+))?/],safari:[/(iPod|iPhone|iPad);.*CPU.*OS (\d+)(?:_\d+)?_(\d+).*Mobile/],uc:[/(UCBrowser)[ \/](\d+)\.(\d+)\.(\d+)/,/(UC Browser)[ \/](\d+)\.(\d+)\.(\d+)/,/(UC Browser|UCBrowser|UCWEB)(\d+)\.(\d+)\.(\d+)/],"android2.3":[/(Android) 2\.3(?:[.\-]([a-z0-9]+))?/],android2:[/(Android) 2\.(\d+)(?:[.\-]([a-z0-9]+))?/],android:[/Android[\- ][\d]+\.[\d]+; [A-Za-z]{2}\-[A-Za-z]{0,2}; WOWMobile (.+) Build/,/Android[\- ][\d]+\.[\d]+\-update1; [A-Za-z]{2}\-[A-Za-z]{0,2}; (.+) Build/,/Android[\- ][\d]+\.[\d]+\.[\d]+; [A-Za-z]{2}\-[A-Za-z]{0,2}; (.+) Build/,/Android[\- ][\d]+\.[\d]+\.[\d]+;[A-Za-z]{2}\-[A-Za-z]{0,2};(.+) Build/,/Android[\- ][\d]+\.[\d]+; [A-Za-z]{2}\-[A-Za-z]{0,2}; (.+) Build/,/Android[\- ][\d]+\.[\d]+\.[\d]+; (.+) Build/,/Android[\- ][\d]+\.[\d]+; (.+) Build/]},Z=function(){this.versionSearchString=this.browserObj=null,this.init()};Z.prototype.init=function(){var e=this.getBrowserVersion();A=this.getMobileBrowser(),B=e.version,I=e.vendor,k=this.hasHtmlAudio("mp3"),C=this.hasHtmlAudio("ogg"),E=this.hasHtmlAudio("wav"),T=this.hasHtmlAudio("aac"),S=void 0,S=k||C||E||T,z=q.isPlaceholderSupported(),"explorer"===I&&(N=!0,6===B?H=!0:8<=B&&B<9&&(R=!0))},Z.prototype.getBrowserVersion=function(){return this.browserObj?this.browserObj:this.browserObj={vendor:this.searchString(G)||"other",version:this.searchVersion(v.userAgent)||this.searchVersion(v.appVersion)||"other",os:this.searchString(X)||"other",plugins:this.getPlugins()}},Z.prototype.getPlugins=function(){var e,t,i=[];for(e=0,t=v.plugins.length;e<t;e++)v.plugins[e].name&&i.push(v.plugins[e].name);return i},Z.prototype.searchString=function(e){var t,i,n;for(t=0;t<e.length;t++)if(i=e[t].string,n=RegExp(e[t].subString),this.versionSearchString=e[t].versionSearch||e[t].identity,n.test(i))return e[t].identity},Z.prototype.searchVersion=function(e){var t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},Z.prototype.getMobileBrowser=function(){for(var e=!1,t=v.userAgent,i=Object.keys(J),n=0;!e&&n<i.length;){for(var a=i[n],o=0;o<J[a].length;o++)if(t.match(J[a][o])){e=a;break}n++}return e},Z.prototype.getReferredSearchEngine=function(){var e,t,i="";if(document.referrer&&(t=this.getHostname(document.referrer)))for(e in t=t.toLowerCase(),K)if(0<=t.indexOf(e)){queryString=this.getQuerystring(document.referrer,K[e]),"blekko"===e&&""===queryString&&(queryString=this.getQuerystring(document.referrer.replace("/ws/","/?q="),"q")),i=e;break}return i},Z.prototype.getQuerystring=function(e,t){var i;return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),null===(i=RegExp("[\\?&]"+t+"=([^&#]*)").exec(e))||!q.isArray(i)||i.length<2?null:i[1]?unescape(i[1].replace(/\+/g," ")):null},Z.prototype.getHostname=function(e){return null===(e=e.match(/^(?:f|ht)tp(?:s)?:\/\/([^/]+)/im))||!q.isArray(e)||e.length<2?null:e[1]?e[1].toString():null},Z.prototype.hasHtmlAudio=function(e){var t=document.createElement("audio");try{if(!t.canPlayType||"no"===t.canPlayType("audio/"+e)||""===t.canPlayType("audio/"+e))return!1}catch(e){return!1}return!0},y.browserData=new Z;var Q=function(){this.unloading=!1};Q.prototype.logPerformance=function(e){this.postForm("log-performance/v3",$_TAWK_JSON.stringify(e))},Q.prototype.logIncident=function(e,t){var i=u.getBrowserData();i.visitorId=O.visitorId||"",i.message=e,i.data=t,this.log("warning",i)},Q.prototype.log=function(e,t){var i;t&&e&&(t.uiVersion="v3",t.buildVersion="588",t.buildCommit="7403edfc2b3e6699d48e0b4c021226b369949e38",i={type:e,data:t},this.postForm("log",$_TAWK_JSON.stringify(i)))},Q.prototype.postForm=function(e,t){var i,n,a;if(n=document.createElement("iframe"),!document.body)return!1;n.src="about:blank",n.style.cssText=";display:none !important;",n.title="chat widget logging",document.body.appendChild(n);try{i=q.getDocument(n)}catch(e){return!1}N&&(i.open(),i.writeln('<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head><body><iframe name="form-receiver" id="form-receiver"></iframe></body></html>'),i.close()),(n=i.createElement("form")).method="POST",n.action="https://va.tawk.to/"+e,n.enctype="application/x-www-form-urlencoded",n.acceptCharset="UTF-8",(a=i.createElement("input")).type="text",a.name="logData",a.value=t,n.appendChild(a),N&&(n.target="form-receiver"),i.body.appendChild(n),n.submit(),n.parentNode.removeChild(n)},f.onbeforeunload=function(){this.unloading=!0},f.onunload=function(){this.unloading=!0};var ee=function(){this.originalErrorHandlerFn=f.onerror};ee.prototype.getBrowserData=function(){var e=y.browserData.getBrowserVersion();return{site:f.location.href,browser:e.vendor||"",version:e.version||"",os:e.os||"",plugins:e.plugins||""}},ee.prototype.handleError=function(e,t,i,n,a){var o;return!(!(t&&i||"Script error."!==e&&"Script error"!==e)||"string"!=typeof t||-1===t.indexOf("tawk.to")&&-1===t.indexOf("tawk.js"))&&((o=this.getBrowserData()).visitorId=O.visitorId||"",o.message=e||"",o.file=t||"",o.line=i||"",o.column=n||"",o.stack=a?JSON.stringify(a):"",o.stack=o.stack.replace(q.regLineBreaks,""),y.loggingHandler.log("error",o),!0)},u=new ee,f.onerror=function(){var e;return!!u&&(e=u.handleError.apply(this,arguments),"function"==typeof u.originalErrorHandlerFn?u.originalErrorHandlerFn.apply(this,arguments):e)};var te=function(){this.events={}};te.prototype.attachEvent=function(t,e,i){var n=this,a=function(e){i.call(t,n.getEvent(e))};return t.attachEvent("on"+e,a),a},te.prototype.listen=function(e,t,i,n){var a;if(n){if(this.events[n]&&(a=this.events[n],this.events[n]=null,this.removeEventHandler(a.element,a.eventName,a.eventListener)),e.addEventListener)e.addEventListener(t,i,!1);else{if(!document.attachEvent)return null;i=this.attachEvent(e,t,i)}return this.events[n]={element:e,eventName:t,eventListener:i},i}},te.prototype.cancelEvent=function(e){document.attachEvent&&(e=this.getEvent(e)),e.preventDefault?e.preventDefault():e.returnValue=!1},te.prototype.removeEventHandler=function(e,t,i){document.removeEventListener?e.removeEventListener(t,i,!1):e.detachEvent("on"+t,i)},te.prototype.getEvent=function(e){var t=e||f.event;if(!t)for(e=this.getEvent.caller;e&&(!(t=e.arguments[0])||Event!=t.constructor);)e=e.caller;return t},te.prototype.clearEvents=function(){var t=this;Object.keys(this.events).forEach(function(e){e=t.events[e],t.removeEventHandler(e.element,e.eventName,e.eventListener)}),this.events={}},te.prototype.getTargetElement=function(e){return document.attachEvent&&(e=this.getEvent(e)),3===(e=e.target||e.srcElement).nodeType&&(e=e.parentNode),e};var ie={keypressTimer:0,previousValue:0,initElement:function(t,i){var n=this;this.previousValue="",y.eventHandler.listen(t,"focus",function(e){n.startWatching(e,t,i)},t.id+"focus"),y.eventHandler.listen(t,"blur",function(e){n.stopWatching()},t.id+"blur"),y.eventHandler.listen(t,"keyup",function(e){n.detectChange(e,t,i)},t.id+"keyup")},startWatching:function(e,t,i){var n=this;this.stopWatching(),this.keypressTimer=setInterval(function(){n.detectChange(e,t,i)},100)},stopWatching:function(){0!=this.keypressTimer&&(clearInterval(this.keypressTimer),this.keypressTimer=0)},detectChange:function(e,t,i){if(t=t.value||"",this.previousValue===t)return!1;i(e,t),this.previousValue=t}},ne=function(){this.hasCORS=("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof XDomainRequest)&&function(){var e;if("undefined"!=typeof XDomainRequest)return"https"===location.protocol;try{e=new XMLHttpRequest}catch(e){return!1}return void 0!==e.withCredentials}()};ne.prototype.jsonpLoad=function(e,t,i){var n=document.getElementsByTagName("script")[0],a=document.createElement("script"),o=!1;return t=t||{},t="?"+q.createQueryString(t),a.src=e+t,a.async=!0,a.charset="UTF-8",a.onload=a.onreadystatechange=function(){o||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(o=!0,a.onload=a.onreadystatechange=null,a&&a.parentNode&&a.parentNode.removeChild(a))},a.onerror=function(){i(null,$_TAWK_JSON.stringify({error:"SERVER_DOWN"}))},n.parentNode.insertBefore(a,n),{type:"jsonp",req:a}},ne.prototype.jsonp=function(e,t,i){var n;return t=t||{},t="?"+q.createQueryString(t),n="$_Tawk_json"+ ++this.counter,i&&(f[n]=function(e){i(e);try{delete f[n]}catch(e){}f[n]=null}),this.jsonpLoad(e+t+(i?"callback="+n:""))},ne.prototype.xhrRequest=function(e,t,i){var n=this.getRequestObject();return n?(t=t||{},n.onerror=i,n.open("POST",e,!0),n.withCredentials=!0,n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){n.passed||4!==n.readyState||(n.passed=!0,i(null,n.responseText))},n.send(q.createQueryString(t)),{type:"xhr",req:n}):this.jsonpLoad(e,t,i)},ne.prototype.getRequestObject=function(){return"undefined"!=typeof XMLHttpRequest?new XMLHttpRequest:"undefined"!=typeof XDomainRequest?new XDomainRequest:void 0},ne.prototype.abort=function(e){e&&("xhr"===e.type?e.req.abort():(e=e.req)&&e.parentNode&&e.parentNode.removeChild(e))};var ae=new ne,oe=function(){this.isCookieEnabled=this.checkCookieEnabled(),this.alphaNumericReg=/[^0-9a-zA-Z]/g,this.hasSessionStorage=this.isCookieEnabled&&!!f.sessionStorage,this.checkLocalStorageUsage(),this.clearOldCookies("TawkCookie")};oe.prototype.checkLocalStorageUsage=function(){try{localStorage.setItem("exist_test","yes"),localStorage.removeItem("exist_test"),this.hasLocalStorage=!0}catch(e){this.hasLocalStorage=!1}},oe.prototype.setHTTPCookie=function(e,t,i,n){var a="";i||((i=new Date).setTime(i.getTime()+15552e6),a="; expires="+i.toGMTString()),document.cookie=e+"="+t+a+"; path=/"+(n?";domain="+n:"")},oe.prototype.getHTTPCookie=function(e){var t,i,n=[],a=e+"=",o=document.cookie.split(";");for(e=0,t=o.length;e<t;e++){for(i=o[e];" "===i.charAt(0);)i=i.substring(1,i.length);0===i.indexOf(a)&&n.push(i.substring(a.length,i.length))}return n},oe.prototype.setSessionStorage=function(e,t){if(this.hasSessionStorage&&sessionStorage.setItem)try{sessionStorage.setItem(e,t)}catch(e){}},oe.prototype.getSessionStorage=function(e){return this.hasSessionStorage&&sessionStorage.getItem?sessionStorage.getItem(e):null},oe.prototype.setLocalStorage=function(e,t){f.localStorage.setItem(e,t)},oe.prototype.getLocalStorage=function(e){return f.localStorage.getItem(e)},oe.prototype.setWindowName=function(e){f.name&&0!==f.name.indexOf("TawkWindowName-")||(f.name="TawkWindowName-"+e)},oe.prototype.getWindowName=function(){var e,t,i;if(!f.name)return null;if(0===f.name.indexOf("TawkWindowName-"))return f.name.substring(15,21);if((t=(i=f.name.substring(0,5)).length)<6)for(e=0,t=6-t;e<t;e++)i+="0";return i.replace(/[^0-9a-zA-Z]/g,"0").replace(" ","0")},oe.prototype.handleWindowId=function(){var e=this.getSessionStorage("TawkWindowName");"null"===e&&(e=null),e||this.hasSessionStorage||(e=this.getWindowName()),"null"===e&&(e=null),e||(e=q.generateRandomString(),this.hasSessionStorage?this.setSessionStorage("TawkWindowName",e):this.setWindowName(e)),M=e},oe.prototype.storeUUID=function(){var i=this;D.transferedSession||O.uuids&&0<O.uuids.length&&O.uuids.forEach(function(e){var t=(e.isExact?"e::":"p::")+e.domain+"::"+e.uuid+"::"+O.uuidVer;i.isCookieEnabled&&i.setHTTPCookie("__tawkuuid",t,!1,e.domain)}),this.handleWindowId(),this.storeSessionInformation()},oe.prototype.getSessionInformation=function(){var e;return this.sessionInformation&&(e=this.sessionInformation),this.hasLocalStorage&&(e=this.getLocalStorage("twk_"+L.pageId)),e||(e=this.getHTTPCookie("Tawk_"+L.pageId)[0]),this.parseSessionInformation(e)},oe.prototype.storeSessionInformation=function(e,t){var i,n=this.getSessionInformation();e&&!D.visitorSocketServer||(i=e?D.visitorSocketServer+"::"+y.viewHandler.indicator.unansweredMessages:(i=n[1]||0,y.main.previousSessionKey!==D.sessionKey&&(i=0),D.visitorSocketServer+"::"+i),t?i+="::cf":3===n.length&&(i+="::"+n[2]),this.hasLocalStorage?(this.setLocalStorage("twk_"+L.pageId,i),this.clearOldCookies("Tawk_"+L.pageId)):this.setHTTPCookie("Tawk_"+L.pageId,i,!1),this.sessionInformation=i)},oe.prototype.parseSessionInformation=function(e){var t=[];return e&&((t=e.split("::")).length<=1&&(t=e.split("||"))),t},oe.prototype.clearOldCookies=function(e){document.cookie=e+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},oe.prototype.checkCookieEnabled=function(){var e=!!v.cookieEnabled;return void 0!==v.cookieEnabled||e||(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie")),e},oe.prototype.getStoredUUID=function(){var e;return this.isCookieEnabled&&(e=this.getHTTPCookie("__tawkuuid")),e&&0<e.length?e:[]};var re=new oe,se=function(e){var t;this.play="symbian"===A?function(){}:("safari"===A?((t=document.createElement("audio")).src=e,t.style.cssText="position: absolute; position: absolute; width: 0px; height: 0px; top: -10000px; left: -10000px;",document.body.appendChild(t)):t=new Audio(e),t.addEventListener("timeupdate",function(){.2<=t.currentTime&&t.pause()},!1),t.load(),this.soundEl=t,function(){try{t.currentTime=0,t.autoplay=!0,t.load(),t.play()}catch(e){}})},le=function(e,t,i){this.sourcePath=e,this.buffer=null,this.name=t,this.audioPlayer=i,this.source=null,this.volume=1,this.play=function(){if(this.buffer){var e=this.audioPlayer.audioContext.createGain();e.gain.value=this.volume,this.source=this.audioPlayer.audioContext.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(e),e.connect(this.audioPlayer.audioContext.destination),this.source.start(0)}},this.loadBuffer=function(){var e=new XMLHttpRequest,t=this;e.open("GET",t.sourcePath,!0),e.responseType="arraybuffer",e.onload=function(){t.audioPlayer.audioContext.decodeAudioData(e.response,function(e){e&&(t.buffer=e,t.audioPlayer.isReadyForInit||(t.audioPlayer.eventUsedForInit=t.name,t.audioPlayer.isReadyForInit=!0))},function(e){throw Error(e)})},e.onerror=function(e){throw Error("BufferLoader: XHR error for "+t.sourcePath)},e.send()},this.loadBuffer()},ce=function(){this.sounds={},this.audioContext=null,this.isReadyForInit=!1,this.eventUsedForInit=null};ce.prototype.initAudioPlayer=function(){var e,t={};if(S){for(e in this.audioContext||/Firefox/.test(v.userAgent)||"undefined"==typeof AudioBuffer||void 0===f.AudioContext&&void 0===f.webkitAudioContext||(f.AudioContext=f.AudioContext||f.webkitAudioContext,this.audioContext=new AudioContext),C?t=U:k&&!/Edge/.test(v.userAgent)?t=W:T?t=j:E&&(t=V),t)this.sounds[e]=this.audioContext?new le(t[e],e,this):new se(t[e]);if(this.audioContext){var i,n=this;initSourceFunction=function(e){n.isReadyForInit&&n.eventUsedForInit&&!n.touchstartInited&&(n.sounds[n.eventUsedForInit].volume=0,n.sounds[n.eventUsedForInit].play(),n.sounds[n.eventUsedForInit].source.stop(0),n.sounds[n.eventUsedForInit].volume=1,f&&"function"==typeof f.removeEventListener&&f.removeEventListener("touchstart",initSourceFunction,!1),i&&"function"==typeof i.removeEventListener&&i.removeEventListener("touchstart",initSourceFunction,!1),n.touchstartInited=!0)},A&&"ontouchstart"in f&&((e=P.isPopup?y.viewHandler.chatContainer.elementReferrer:y.viewHandler.maximizedWidget.container.elementReferrer)&&(i=e.contentWindow?e.contentWindow:e.contentDocument.defaultView).addEventListener("touchstart",initSourceFunction,!1),f.addEventListener("touchstart",initSourceFunction,!1))}}},ce.prototype.play=function(e){g.disableSound||P.soundOn()&&this.sounds[e]&&this.sounds[e].play()};var de={init:function(){this.iframeContainerName=q.getRandomName(),y.languageParser.language=s.language,this.message='<div id="formContainer" style="display: block;"><div id="greetingsOverlay"><div id="greetingsWrapper"><div id="greetingsContainer">'+y.languageParser.translate("overlay","cookiesOff")+"</div></div></div></div>",A?this.showMobileFix():(this.showDesktopFix(),this.iframeContainer.restyle("display","block"))},showDesktopFix:function(){var e,t;e=q.getContrast(P.headerTxtColor);var i=this;if(this.iframeContainer=new ke(i.iframeContainerName,q.getGenericStyle({display:"none",right:"10px",bottom:"0px",zindex:"2000000000",position:"fixed"})),P.isEmbedded){var n,a="100%",o="100%";if(!(n=document.getElementById(g.embedded)))return;n.appendChild(this.iframeContainer.buildView()),P.maximizedDimensions().width||P.maximizedDimensions().height?(a=P.maximizedDimensions().width+"px",o=P.maximizedDimensions().height+"px"):((!(t=parseInt(q.computedStyle(n,"width").replace("px",""),10))||t<280)&&(a="280px"),(!(n=parseInt(q.computedStyle(n,"height").replace("px",""),10))||n<330)&&(o="330px")),this.iframeContainer.restyle("width",a),this.iframeContainer.restyle("height",o)}else document.body.appendChild(this.iframeContainer.buildView());P.isEmbedded||P.isPopup?(t='<div id="tawkchat-maximized-wrapper"><div id="borderWrapper"></div><div id="headerBoxWrapper"><div class="theme-background-color theme-text-color" id="headerBox"><div id="shortMessage">'+y.languageParser.translate("chat","live_chat")+"</div></div></div>"+this.message+'<div id="bottomContainer"><a id="tawktoLink" href="https://www.tawk.to/?utm_source=magento&utm_medium=link&utm_campaign=signup" target="_blank"><span class="thin">Powered by</span> tawk.to</a></div>',P.isPopup?(e=document.getElementsByTagName("head")[0],a=document.createDocumentFragment(),o=q.createElement(document,"style",{type:"text/css"}),n=document.createTextNode(y.ResetStyle+""+y.MaximizedStyle+P.maxStyle()),o.styleSheet?o.styleSheet.cssText=n.nodeValue:o.appendChild(n),a.appendChild(o),e.appendChild(a),this.maximizedContainer=new ke(q.getRandomName(),q.getGenericStyle({width:"100%",height:"100%"})),document.getElementById(this.iframeContainerName).appendChild(this.maximizedContainer.buildView()),this.maximizedContainer.elementReferrer.innerHTML=t,this.iframeContainer.restyle("width","100%"),this.iframeContainer.restyle("height","100%")):(this.maximizedContainer=new Ce(q.getRandomName(),q.getGenericStyle({zindex:"999999",height:"100%",width:"100%",position:"static"}),Y,"iframe"),document.getElementById(this.iframeContainerName).appendChild(this.maximizedContainer.buildView()),this.maximizedContainer.buildIframe(y.MaximizedStyle+P.maxStyle()),this.maximizedContainer.documentRef.body.classList.add("noCookies"),this.maximizedContainer.documentRef.body.classList.add(e),this.maximizedContainer.documentRef.body.classList.add("embed"),this.maximizedContainer.documentRef.body.innerHTML=t,this.iframeContainer.restyle("position","static"),g.onLoad())):(this.maximizedContainer=new Ce(q.getRandomName(),q.getGenericStyle({zindex:"999999",display:"none",height:"400px",width:"320px",position:"static"}),Y,"iframe"),this.minimizedContainer=new Ce(q.getRandomName(),q.getGenericStyle({zindex:"1000001",bottom:"0px",display:"none",height:"40px",width:"320px",maxheight:"40px",maxwidth:"320px",right:"0px",minheight:"40px",minwidth:"320px",position:"fixed"}),Y,"iframe"),this.minimizedContainer.template=w["tawkchat-minified-iframe-element-rectangle"],t='<div id="tawkchat-maximized-wrapper"><div id="borderWrapper"></div><div id="headerBoxWrapper"><div class="theme-background-color theme-text-color" id="headerBox"><div id="shortMessage">'+y.languageParser.translate("chat","live_chat")+'</div><div id="headerBoxControlsContainer"><div id="minimizeChat" class="icon"></div></div></div></div>'+this.message+'<div id="bottomContainer"><a id="tawktoLink" href="https://www.tawk.to/?utm_source=magento&utm_medium=link&utm_campaign=signup" target="_blank"><span class="thin">Powered by</span> tawk.to</a></div>',document.getElementById(this.iframeContainerName).appendChild(this.minimizedContainer.buildView()),document.getElementById(this.iframeContainerName).appendChild(this.maximizedContainer.buildView()),this.minimizedContainer.buildIframe(y.MinifiedStyle+P.minStyle()),this.maximizedContainer.buildIframe(y.MaximizedStyle+P.maxStyle()),this.maximizedContainer.documentRef.body.classList.add("noCookies"),this.maximizedContainer.documentRef.body.classList.add(e),this.minimizedContainer.documentRef.body.classList.add("noCookies"),this.minimizedContainer.documentRef.body.classList.add(e),this.maximizedContainer.documentRef.body.innerHTML=t,this.maximizedContainer.getElementById("formContainer").style.display="block",this.minimizedContainer.restyle("display","block"),this.minimizedContainer.attachUserEventListener("click",function(e){i.minimizedContainer.restyle("display","none"),i.maximizedContainer.restyle("display","block"),y.eventHandler.cancelEvent(e)},"tawkchat-minified-wrapper","minifiedclick"),this.maximizedContainer.attachUserEventListener("click",function(e){i.minimizedContainer.restyle("display","block"),i.maximizedContainer.restyle("display","none"),y.eventHandler.cancelEvent(e)},"minimizeChat","minlinkclick"),(e=this.minimizedContainer.getElementById("short-message"))&&(e.innerHTML=y.languageParser.translate("chat","live_chat")))},showMobileFix:function(){if(P.isPopup){var e=document.getElementsByTagName("head")[0],t=document.createDocumentFragment(),i=q.createElement(document,"style",{type:"text/css"}),n=document.createTextNode(y.ResetStyle+""+y.MaximizedMobileStyle);i.styleSheet?i.styleSheet.cssText=n.nodeValue:i.appendChild(n),t.appendChild(i),e.appendChild(t),this.iframeContainer=new ke(self.iframeContainerName,q.getGenericStyle({display:"block",right:"0px",bottom:"0px",zindex:"2000000000",position:"fixed"})),this.iframeContainer.restyle("width","100%"),this.iframeContainer.restyle("height","100%"),document.getElementById(this.iframeContainerName).innerHTML='<div id="mainContainer" style="display: block">'+this.message+"</div>"}else y.main.initRenderer(A),y.formHandler=new Be,y.viewHandler.begin(),y.viewHandler.show(),(e=y.viewHandler.chatContainer.getElementById("chatPanel"))&&(e.innerHTML='<div id="greetingsWrapper">'+y.languageParser.translate("overlay","cookiesOff")+"</div>")}},pe=function(){var i=this;this.uploads={},y.eventEmitter.on("fileUploadProgress",function(e){y.viewHandler.updateFileProgress(e)}),y.eventEmitter.on("fileUploadFinished",function(e){i.uploads[e.handle]&&(delete i.uploads[e.handle],y.viewHandler.fileUploaded(e.handle),y.chatHandler.sendFileMessage(e))}),y.eventEmitter.on("fileUploadError",function(e){var t=i.uploads[e.handle];t&&y.viewHandler.handleUploadError(null,t,e.handle)})};pe.prototype.getUploadHandler=function(i){var e,t="https://upload.tawk.to/upload/handle?_t="+(new Date).getTime();"XDomainRequest"in f&&null!==f.XDomainRequest?(e=new XDomainRequest).onload=function(){var e=new ActiveXObject("Microsoft.XMLDOM"),t=$.parseJSON(this.responseText);e.async=!1,null==t&&(t=$.parseJSON(this.firstChild.textContent)),i(t)}:(e=new XMLHttpRequest).onreadystatechange=function(){4===this.readyState&&(200<=this.status&&this.status<400?i(JSON.parse(this.responseText)):i(!0))},e.open("GET",t),e.onerror=function(){i(!0)},e.send(),e=null},pe.prototype.uploadFile=function(e,t,i,n,a){var o,r="https://upload.tawk.to/upload/visitor-chat/visitor?handle="+e+"&visitorSessionId="+D.sessionKey;if(this.uploads[e]=i,n){var s;e+="-iframe";try{s=document.createElement("iframe")}catch(e){return a(!0)}s.setAttribute("src","about:blank"),s.setAttribute("name",e),s.setAttribute("id",e),s.setAttribute("width","0"),s.setAttribute("height","0"),s.setAttribute("border","0"),s.setAttribute("style","width: 0; height: 0; border: none; display: none !important;"),t.setAttribute("target",e),t.setAttribute("action",r),document.body.appendChild(s);try{o=q.getDocument(s)}catch(e){return!1}"explorer"===I&&(o.open(),o.writeln('<!DOCTYPE html><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /></head><body></body></html>'),o.close()),t.submit()}else{if(52428800<t.size)return a(!0,"limit50");if(A&&2097152<t.size)return a(!0,"limit2");(o=new FormData).append("upload",t,t.name||t.filename),(t=ae.getRequestObject()).open("POST",r),t.onload=function(){return a($_TAWK_JSON.parse(this.responseText))},t.onerror=function(){return a(!0)},t.send(o)}};var he,me,ge,ue=0,fe={people:{header:":smiley:",content:":grinning: :grin: :joy: :rofl: :smiley: :smile: :sweat_smile: :laughing: :wink: :blush: :yum: :sunglasses: :heart_eyes: :kissing_heart: :kissing: :kissing_smiling_eyes: :kissing_closed_eyes: :relaxed: :slight_smile: :hugging: :thinking: :neutral_face: :expressionless: :no_mouth: :rolling_eyes: :smirk: :persevere: :disappointed_relieved: :open_mouth: :zipper_mouth: :hushed: :sleepy: :tired_face: :sleeping: :relieved: :nerd: :stuck_out_tongue: :stuck_out_tongue_winking_eye: :stuck_out_tongue_closed_eyes: :drooling_face: :unamused: :sweat: :pensive: :confused: :upside_down: :money_mouth: :astonished: :frowning2: :slight_frown: :confounded: :disappointed: :worried: :triumph: :cry: :sob: :frowning: :anguished: :fearful: :weary: :grimacing: :cold_sweat: :scream: :flushed: :dizzy_face: :rage: :angry: :innocent: :cowboy: :clown: :lying_face: :mask: :thermometer_face: :head_bandage: :nauseated_face: :sneezing_face: :smiling_imp: :imp: :japanese_ogre: :japanese_goblin: :skull: :ghost: :alien: :robot: :poop: :smiley_cat: :smile_cat: :joy_cat: :heart_eyes_cat: :smirk_cat: :kissing_cat: :scream_cat: :crying_cat_face: :pouting_cat: :boy: :boy_tone1: :boy_tone2: :boy_tone3: :boy_tone4: :boy_tone5: :girl: :girl_tone1: :girl_tone2: :girl_tone3: :girl_tone4: :girl_tone5: :man: :man_tone1: :man_tone2: :man_tone3: :man_tone4: :man_tone5: :woman: :woman_tone1: :woman_tone2: :woman_tone3: :woman_tone4: :woman_tone5: :older_man: :older_man_tone1: :older_man_tone2: :older_man_tone3: :older_man_tone4: :older_man_tone5: :older_woman: :older_woman_tone1: :older_woman_tone2: :older_woman_tone3: :older_woman_tone4: :older_woman_tone5: :baby: :baby_tone1: :baby_tone2: :baby_tone3: :baby_tone4: :baby_tone5: :angel: :angel_tone1: :angel_tone2: :angel_tone3: :angel_tone4: :angel_tone5: :cop: :cop_tone1: :cop_tone2: :cop_tone3: :cop_tone4: :cop_tone5: :spy: :spy_tone1: :spy_tone2: :spy_tone3: :spy_tone4: :spy_tone5: :guardsman: :guardsman_tone1: :guardsman_tone2: :guardsman_tone3: :guardsman_tone4: :guardsman_tone5: :construction_worker: :construction_worker_tone1: :construction_worker_tone2: :construction_worker_tone3: :construction_worker_tone4: :construction_worker_tone5: :man_with_turban: :man_with_turban_tone1: :man_with_turban_tone2: :man_with_turban_tone3: :man_with_turban_tone4: :man_with_turban_tone5: :person_with_blond_hair: :person_with_blond_hair_tone1: :person_with_blond_hair_tone2: :person_with_blond_hair_tone3: :person_with_blond_hair_tone4: :person_with_blond_hair_tone5: :santa: :santa_tone1: :santa_tone2: :santa_tone3: :santa_tone4: :santa_tone5: :mrs_claus: :mrs_claus_tone1: :mrs_claus_tone2: :mrs_claus_tone3: :mrs_claus_tone4: :mrs_claus_tone5: :princess: :princess_tone1: :princess_tone2: :princess_tone3: :princess_tone4: :princess_tone5: :prince: :prince_tone1: :prince_tone2: :prince_tone3: :prince_tone4: :prince_tone5: :bride_with_veil: :bride_with_veil_tone1: :bride_with_veil_tone2: :bride_with_veil_tone3: :bride_with_veil_tone4: :bride_with_veil_tone5: :man_in_tuxedo: :man_in_tuxedo_tone1: :man_in_tuxedo_tone2: :man_in_tuxedo_tone3: :man_in_tuxedo_tone4: :man_in_tuxedo_tone5: :pregnant_woman: :pregnant_woman_tone1: :pregnant_woman_tone2: :pregnant_woman_tone3: :pregnant_woman_tone4: :pregnant_woman_tone5: :man_with_gua_pi_mao: :man_with_gua_pi_mao_tone1: :man_with_gua_pi_mao_tone2: :man_with_gua_pi_mao_tone3: :man_with_gua_pi_mao_tone4: :man_with_gua_pi_mao_tone5: :person_frowning: :person_frowning_tone1: :person_frowning_tone2: :person_frowning_tone3: :person_frowning_tone4: :person_frowning_tone5: :person_with_pouting_face: :person_with_pouting_face_tone1: :person_with_pouting_face_tone2: :person_with_pouting_face_tone3: :person_with_pouting_face_tone4: :person_with_pouting_face_tone5: :no_good: :no_good_tone1: :no_good_tone2: :no_good_tone3: :no_good_tone4: :no_good_tone5: :ok_woman: :ok_woman_tone1: :ok_woman_tone2: :ok_woman_tone3: :ok_woman_tone4: :ok_woman_tone5: :information_desk_person: :information_desk_person_tone1: :information_desk_person_tone2: :information_desk_person_tone3: :information_desk_person_tone4: :information_desk_person_tone5: :raising_hand: :raising_hand_tone1: :raising_hand_tone2: :raising_hand_tone3: :raising_hand_tone4: :raising_hand_tone5: :bow: :bow_tone1: :bow_tone2: :bow_tone3: :bow_tone4: :bow_tone5: :face_palm: :face_palm_tone1: :face_palm_tone2: :face_palm_tone3: :face_palm_tone4: :face_palm_tone5: :shrug: :shrug_tone1: :shrug_tone2: :shrug_tone3: :shrug_tone4: :shrug_tone5: :massage: :massage_tone1: :massage_tone2: :massage_tone3: :massage_tone4: :massage_tone5: :haircut: :haircut_tone1: :haircut_tone2: :haircut_tone3: :haircut_tone4: :haircut_tone5: :walking: :walking_tone1: :walking_tone2: :walking_tone3: :walking_tone4: :walking_tone5: :runner: :runner_tone1: :runner_tone2: :runner_tone3: :runner_tone4: :runner_tone5: :dancer: :dancer_tone1: :dancer_tone2: :dancer_tone3: :dancer_tone4: :dancer_tone5: :man_dancing: :man_dancing_tone1: :man_dancing_tone2: :man_dancing_tone3: :man_dancing_tone4: :man_dancing_tone5: :dancers: :speaking_head: :bust_in_silhouette: :busts_in_silhouette: :couple: :two_men_holding_hands: :two_women_holding_hands: :couplekiss: :kiss_mm: :kiss_ww: :couple_with_heart: :couple_mm: :couple_ww: :family: :family_mwg: :family_mwgb: :family_mwbb: :family_mwgg: :family_mmb: :family_mmg: :family_mmgb: :family_mmbb: :family_mmgg: :family_wwb: :family_wwg: :family_wwgb: :family_wwbb: :family_wwgg: :muscle: :muscle_tone1: :muscle_tone2: :muscle_tone3: :muscle_tone4: :muscle_tone5: :selfie: :selfie_tone1: :selfie_tone2: :selfie_tone3: :selfie_tone4: :selfie_tone5: :point_left: :point_left_tone1: :point_left_tone2: :point_left_tone3: :point_left_tone4: :point_left_tone5: :point_right: :point_right_tone1: :point_right_tone2: :point_right_tone3: :point_right_tone4: :point_right_tone5: :point_up: :point_up_tone1: :point_up_tone2: :point_up_tone3: :point_up_tone4: :point_up_tone5: :point_up_2: :point_up_2_tone1: :point_up_2_tone2: :point_up_2_tone3: :point_up_2_tone4: :point_up_2_tone5: :middle_finger: :middle_finger_tone1: :middle_finger_tone2: :middle_finger_tone3: :middle_finger_tone4: :middle_finger_tone5: :point_down: :point_down_tone1: :point_down_tone2: :point_down_tone3: :point_down_tone4: :point_down_tone5: :v: :v_tone1: :v_tone2: :v_tone3: :v_tone4: :v_tone5: :fingers_crossed: :fingers_crossed_tone1: :fingers_crossed_tone2: :fingers_crossed_tone3: :fingers_crossed_tone4: :fingers_crossed_tone5: :vulcan: :vulcan_tone1: :vulcan_tone2: :vulcan_tone3: :vulcan_tone4: :vulcan_tone5: :metal: :metal_tone1: :metal_tone2: :metal_tone3: :metal_tone4: :metal_tone5: :call_me: :call_me_tone1: :call_me_tone2: :call_me_tone3: :call_me_tone4: :call_me_tone5: :hand_splayed: :hand_splayed_tone1: :hand_splayed_tone2: :hand_splayed_tone3: :hand_splayed_tone4: :hand_splayed_tone5: :raised_hand: :raised_hand_tone1: :raised_hand_tone2: :raised_hand_tone3: :raised_hand_tone4: :raised_hand_tone5: :ok_hand: :ok_hand_tone1: :ok_hand_tone2: :ok_hand_tone3: :ok_hand_tone4: :ok_hand_tone5: :thumbsup: :thumbsup_tone1: :thumbsup_tone2: :thumbsup_tone3: :thumbsup_tone4: :thumbsup_tone5: :thumbsdown: :thumbsdown_tone1: :thumbsdown_tone2: :thumbsdown_tone3: :thumbsdown_tone4: :thumbsdown_tone5: :fist: :fist_tone1: :fist_tone2: :fist_tone3: :fist_tone4: :fist_tone5: :punch: :punch_tone1: :punch_tone2: :punch_tone3: :punch_tone4: :punch_tone5: :left_facing_fist: :left_facing_fist_tone1: :left_facing_fist_tone2: :left_facing_fist_tone3: :left_facing_fist_tone4: :left_facing_fist_tone5: :right_facing_fist: :right_facing_fist_tone1: :right_facing_fist_tone2: :right_facing_fist_tone3: :right_facing_fist_tone4: :right_facing_fist_tone5: :raised_back_of_hand: :raised_back_of_hand_tone1: :raised_back_of_hand_tone2: :raised_back_of_hand_tone3: :raised_back_of_hand_tone4: :raised_back_of_hand_tone5: :wave: :wave_tone1: :wave_tone2: :wave_tone3: :wave_tone4: :wave_tone5: :clap: :clap_tone1: :clap_tone2: :clap_tone3: :clap_tone4: :clap_tone5: :writing_hand: :writing_hand_tone1: :writing_hand_tone2: :writing_hand_tone3: :writing_hand_tone4: :writing_hand_tone5: :open_hands: :open_hands_tone1: :open_hands_tone2: :open_hands_tone3: :open_hands_tone4: :open_hands_tone5: :raised_hands: :raised_hands_tone1: :raised_hands_tone2: :raised_hands_tone3: :raised_hands_tone4: :raised_hands_tone5: :pray: :pray_tone1: :pray_tone2: :pray_tone3: :pray_tone4: :pray_tone5: :handshake: :handshake_tone1: :handshake_tone2: :handshake_tone3: :handshake_tone4: :handshake_tone5: :nail_care: :nail_care_tone1: :nail_care_tone2: :nail_care_tone3: :nail_care_tone4: :nail_care_tone5: :ear: :ear_tone1: :ear_tone2: :ear_tone3: :ear_tone4: :ear_tone5: :nose: :nose_tone1: :nose_tone2: :nose_tone3: :nose_tone4: :nose_tone5: :footprints: :eyes: :eye: :tongue: :lips: :kiss: :zzz: :eyeglasses: :dark_sunglasses: :necktie: :shirt: :jeans: :dress: :kimono: :bikini: :womans_clothes: :purse: :handbag: :pouch: :school_satchel: :mans_shoe: :athletic_shoe: :high_heel: :sandal: :boot: :crown: :womans_hat: :tophat: :mortar_board: :helmet_with_cross: :lipstick: :ring: :closed_umbrella: :briefcase:".split(" ")},nature:{header:":four_leaf_clover:",content:":see_no_evil: :hear_no_evil: :speak_no_evil: :sweat_drops: :dash: :monkey_face: :monkey: :gorilla: :dog: :dog2: :poodle: :wolf: :fox: :cat: :cat2: :lion_face: :tiger: :tiger2: :leopard: :horse: :racehorse: :deer: :unicorn: :cow: :ox: :water_buffalo: :cow2: :pig: :pig2: :boar: :pig_nose: :ram: :sheep: :goat: :dromedary_camel: :camel: :elephant: :rhino: :mouse: :mouse2: :rat: :hamster: :rabbit: :rabbit2: :chipmunk: :bat: :bear: :koala: :panda_face: :feet: :turkey: :chicken: :rooster: :hatching_chick: :baby_chick: :hatched_chick: :bird: :penguin: :dove: :eagle: :duck: :owl: :frog: :crocodile: :turtle: :lizard: :snake: :dragon_face: :dragon: :whale: :whale2: :dolphin: :fish: :tropical_fish: :blowfish: :shark: :octopus: :shell: :crab: :shrimp: :squid: :butterfly: :snail: :bug: :ant: :bee: :beetle: :spider: :spider_web: :scorpion: :bouquet: :cherry_blossom: :rosette: :rose: :wilted_rose: :hibiscus: :sunflower: :blossom: :tulip: :seedling: :evergreen_tree: :deciduous_tree: :palm_tree: :cactus: :ear_of_rice: :herb: :shamrock: :four_leaf_clover: :maple_leaf: :fallen_leaf: :leaves: :mushroom: :chestnut: :earth_africa: :earth_americas: :earth_asia: :new_moon: :waxing_crescent_moon: :first_quarter_moon: :waxing_gibbous_moon: :full_moon: :waning_gibbous_moon: :last_quarter_moon: :waning_crescent_moon: :crescent_moon: :new_moon_with_face: :first_quarter_moon_with_face: :last_quarter_moon_with_face: :sunny: :full_moon_with_face: :sun_with_face: :star: :star2: :cloud: :partly_sunny: :thunder_cloud_rain: :white_sun_small_cloud: :white_sun_cloud: :white_sun_rain_cloud: :cloud_rain: :cloud_snow: :cloud_lightning: :cloud_tornado: :fog: :wind_blowing_face: :umbrella2: :umbrella: :zap: :snowflake: :snowman2: :snowman: :comet: :fire: :droplet: :ocean: :jack_o_lantern: :christmas_tree: :sparkles: :tanabata_tree: :bamboo:".split(" ")},food:{header:":hamburger:",content:":grapes: :melon: :watermelon: :tangerine: :lemon: :banana: :pineapple: :apple: :green_apple: :pear: :peach: :cherries: :strawberry: :kiwi: :tomato: :avocado: :eggplant: :potato: :carrot: :corn: :hot_pepper: :cucumber: :peanuts: :bread: :croissant: :french_bread: :pancakes: :cheese: :meat_on_bone: :poultry_leg: :bacon: :hamburger: :fries: :pizza: :hotdog: :taco: :burrito: :stuffed_flatbread: :egg: :cooking: :shallow_pan_of_food: :stew: :salad: :popcorn: :bento: :rice_cracker: :rice_ball: :rice: :curry: :ramen: :spaghetti: :sweet_potato: :oden: :sushi: :fried_shrimp: :fish_cake: :dango: :icecream: :shaved_ice: :ice_cream: :doughnut: :cookie: :birthday: :cake: :chocolate_bar: :candy: :lollipop: :custard: :honey_pot: :baby_bottle: :milk: :coffee: :tea: :sake: :champagne: :wine_glass: :cocktail: :tropical_drink: :beer: :beers: :champagne_glass: :tumbler_glass: :fork_knife_plate: :fork_and_knife: :spoon:".split(" ")},objects:{header:":bulb:",content:":skull_crossbones: :love_letter: :bomb: :hole: :shopping_bags: :prayer_beads: :gem: :knife: :amphora: :map: :barber: :frame_photo: :bellhop: :door: :sleeping_accommodation: :bed: :couch: :toilet: :shower: :bathtub: :hourglass: :hourglass_flowing_sand: :watch: :alarm_clock: :stopwatch: :timer: :clock: :thermometer: :beach_umbrella: :balloon: :tada: :confetti_ball: :dolls: :flags: :wind_chime: :ribbon: :gift: :joystick: :postal_horn: :microphone2: :level_slider: :control_knobs: :radio: :iphone: :calling: :telephone: :telephone_receiver: :pager: :fax: :battery: :electric_plug: :computer: :desktop: :printer: :keyboard: :mouse_three_button: :trackball: :minidisc: :floppy_disk: :cd: :dvd: :movie_camera: :film_frames: :projector: :tv: :camera: :camera_with_flash: :video_camera: :vhs: :mag: :mag_right: :microscope: :telescope: :satellite: :candle: :bulb: :flashlight: :izakaya_lantern: :notebook_with_decorative_cover: :closed_book: :book: :green_book: :blue_book: :orange_book: :books: :notebook: :ledger: :page_with_curl: :scroll: :page_facing_up: :newspaper: :newspaper2: :bookmark_tabs: :bookmark: :label: :moneybag: :yen: :dollar: :euro: :pound: :money_with_wings: :credit_card: :envelope: :e-mail: :incoming_envelope: :envelope_with_arrow: :outbox_tray: :inbox_tray: :package: :mailbox: :mailbox_closed: :mailbox_with_mail: :mailbox_with_no_mail: :postbox: :ballot_box: :pencil2: :black_nib: :pen_fountain: :pen_ballpoint: :paintbrush: :crayon: :pencil: :file_folder: :open_file_folder: :dividers: :date: :calendar: :notepad_spiral: :calendar_spiral: :card_index: :chart_with_upwards_trend: :chart_with_downwards_trend: :bar_chart: :clipboard: :pushpin: :round_pushpin: :paperclip: :paperclips: :straight_ruler: :triangular_ruler: :scissors: :card_box: :file_cabinet: :wastebasket: :lock: :unlock: :lock_with_ink_pen: :closed_lock_with_key: :key: :key2: :hammer: :pick: :hammer_pick: :tools: :dagger: :crossed_swords: :gun: :shield: :wrench: :nut_and_bolt: :gear: :compression: :alembic: :scales: :link: :chains: :syringe: :pill: :smoking: :coffin: :urn: :moyai: :oil: :crystal_ball: :shopping_cart: :triangular_flag_on_post: :crossed_flags: :flag_black: :flag_white: :rainbow_flag:".split(" ")},activity:{header:":football:",content:":space_invader: :levitate: :fencer: :horse_racing: :horse_racing_tone1: :horse_racing_tone2: :horse_racing_tone3: :horse_racing_tone4: :horse_racing_tone5: :skier: :snowboarder: :golfer: :surfer: :surfer_tone1: :surfer_tone2: :surfer_tone3: :surfer_tone4: :surfer_tone5: :rowboat: :rowboat_tone1: :rowboat_tone2: :rowboat_tone3: :rowboat_tone4: :rowboat_tone5: :swimmer: :swimmer_tone1: :swimmer_tone2: :swimmer_tone3: :swimmer_tone4: :swimmer_tone5: :basketball_player: :basketball_player_tone1: :basketball_player_tone2: :basketball_player_tone3: :basketball_player_tone4: :basketball_player_tone5: :lifter: :lifter_tone1: :lifter_tone2: :lifter_tone3: :lifter_tone4: :lifter_tone5: :bicyclist: :bicyclist_tone1: :bicyclist_tone2: :bicyclist_tone3: :bicyclist_tone4: :bicyclist_tone5: :mountain_bicyclist: :mountain_bicyclist_tone1: :mountain_bicyclist_tone2: :mountain_bicyclist_tone3: :mountain_bicyclist_tone4: :mountain_bicyclist_tone5: :cartwheel: :cartwheel_tone1: :cartwheel_tone2: :cartwheel_tone3: :cartwheel_tone4: :cartwheel_tone5: :wrestlers: :wrestlers_tone1: :wrestlers_tone2: :wrestlers_tone3: :wrestlers_tone4: :wrestlers_tone5: :water_polo: :water_polo_tone1: :water_polo_tone2: :water_polo_tone3: :water_polo_tone4: :water_polo_tone5: :handball: :handball_tone1: :handball_tone2: :handball_tone3: :handball_tone4: :handball_tone5: :juggling: :juggling_tone1: :juggling_tone2: :juggling_tone3: :juggling_tone4: :juggling_tone5: :circus_tent: :performing_arts: :art: :slot_machine: :bath: :bath_tone1: :bath_tone2: :bath_tone3: :bath_tone4: :bath_tone5: :reminder_ribbon: :tickets: :ticket: :military_medal: :trophy: :medal: :first_place: :second_place: :third_place: :soccer: :baseball: :basketball: :volleyball: :football: :rugby_football: :tennis: :8ball: :bowling: :cricket: :field_hockey: :hockey: :ping_pong: :badminton: :boxing_glove: :martial_arts_uniform: :goal: :dart: :golf: :ice_skate: :fishing_pole_and_fish: :running_shirt_with_sash: :ski: :video_game: :game_die: :musical_score: :microphone: :headphones: :saxophone: :guitar: :musical_keyboard: :trumpet: :violin: :drum: :clapper: :bow_and_arrow:".split(" ")},travel:{header:":red_car:",content:":race_car: :motorcycle: :japan: :mountain_snow: :mountain: :volcano: :mount_fuji: :camping: :beach: :desert: :island: :park: :stadium: :classical_building: :construction_site: :homes: :cityscape: :house_abandoned: :house: :house_with_garden: :office: :post_office: :european_post_office: :hospital: :bank: :hotel: :love_hotel: :convenience_store: :school: :department_store: :factory: :japanese_castle: :european_castle: :wedding: :tokyo_tower: :statue_of_liberty: :church: :mosque: :synagogue: :shinto_shrine: :kaaba: :fountain: :tent: :foggy: :night_with_stars: :sunrise_over_mountains: :sunrise: :city_dusk: :city_sunset: :bridge_at_night: :milky_way: :carousel_horse: :ferris_wheel: :roller_coaster: :steam_locomotive: :railway_car: :bullettrain_side: :bullettrain_front: :train2: :metro: :light_rail: :station: :tram: :monorail: :mountain_railway: :train: :bus: :oncoming_bus: :trolleybus: :minibus: :ambulance: :fire_engine: :police_car: :oncoming_police_car: :taxi: :oncoming_taxi: :red_car: :oncoming_automobile: :blue_car: :truck: :articulated_lorry: :tractor: :bike: :scooter: :motor_scooter: :busstop: :motorway: :railway_track: :fuelpump: :rotating_light: :traffic_light: :vertical_traffic_light: :construction: :anchor: :sailboat: :canoe: :speedboat: :cruise_ship: :ferry: :motorboat: :ship: :airplane: :airplane_small: :airplane_departure: :airplane_arriving: :seat: :helicopter: :suspension_railway: :mountain_cableway: :aerial_tramway: :rocket: :satellite_orbital: :stars: :rainbow: :fireworks: :sparkler: :rice_scene: :checkered_flag:".split(" ")},symbols:{header:":hash:",content:":100: :1234: :eye_in_speech_bubble: :cupid: :heart: :heartbeat: :broken_heart: :two_hearts: :sparkling_heart: :heartpulse: :blue_heart: :green_heart: :yellow_heart: :purple_heart: :black_heart: :gift_heart: :revolving_hearts: :heart_decoration: :heart_exclamation: :anger: :boom: :dizzy: :speech_balloon: :speech_left: :anger_right: :thought_balloon: :white_flower: :globe_with_meridians: :hotsprings: :octagonal_sign: :clock12: :clock1230: :clock1: :clock130: :clock2: :clock230: :clock3: :clock330: :clock4: :clock430: :clock5: :clock530: :clock6: :clock630: :clock7: :clock730: :clock8: :clock830: :clock9: :clock930: :clock10: :clock1030: :clock11: :clock1130: :cyclone: :spades: :hearts: :diamonds: :clubs: :black_joker: :mahjong: :flower_playing_cards: :mute: :speaker: :sound: :loud_sound: :loudspeaker: :mega: :bell: :no_bell: :musical_note: :notes: :chart: :currency_exchange: :heavy_dollar_sign: :atm: :put_litter_in_its_place: :potable_water: :wheelchair: :mens: :womens: :restroom: :baby_symbol: :wc: :passport_control: :customs: :baggage_claim: :left_luggage: :warning: :children_crossing: :no_entry: :no_entry_sign: :no_bicycles: :no_smoking: :do_not_litter: :non-potable_water: :no_pedestrians: :no_mobile_phones: :underage: :radioactive: :biohazard: :arrow_up: :arrow_upper_right: :arrow_right: :arrow_lower_right: :arrow_down: :arrow_lower_left: :arrow_left: :arrow_upper_left: :arrow_up_down: :left_right_arrow: :leftwards_arrow_with_hook: :arrow_right_hook: :arrow_heading_up: :arrow_heading_down: :arrows_clockwise: :arrows_counterclockwise: :back: :end: :on: :soon: :top: :place_of_worship: :atom: :om_symbol: :star_of_david: :wheel_of_dharma: :yin_yang: :cross: :orthodox_cross: :star_and_crescent: :peace: :menorah: :six_pointed_star: :aries: :taurus: :gemini: :cancer: :leo: :virgo: :libra: :scorpius: :sagittarius: :capricorn: :aquarius: :pisces: :ophiuchus: :twisted_rightwards_arrows: :repeat: :repeat_one: :arrow_forward: :fast_forward: :track_next: :play_pause: :arrow_backward: :rewind: :track_previous: :arrow_up_small: :arrow_double_up: :arrow_down_small: :arrow_double_down: :pause_button: :stop_button: :record_button: :eject: :cinema: :low_brightness: :high_brightness: :signal_strength: :vibration_mode: :mobile_phone_off: :recycle: :name_badge: :fleur-de-lis: :beginner: :trident: :o: :white_check_mark: :ballot_box_with_check: :heavy_check_mark: :heavy_multiplication_x: :x: :negative_squared_cross_mark: :heavy_plus_sign: :heavy_minus_sign: :heavy_division_sign: :curly_loop: :loop: :part_alternation_mark: :eight_spoked_asterisk: :eight_pointed_black_star: :sparkle: :bangbang: :interrobang: :question: :grey_question: :grey_exclamation: :exclamation: :wavy_dash: :copyright: :registered: :tm: :hash: :asterisk: :zero: :one: :two: :three: :four: :five: :six: :seven: :eight: :nine: :keycap_ten: :capital_abcd: :abcd: :symbols: :abc: :a: :ab: :b: :cl: :cool: :free: :information_source: :id: :m: :new: :ng: :o2: :ok: :parking: :sos: :up: :vs: :koko: :sa: :u6708: :u6709: :u6307: :ideograph_advantage: :u5272: :u7121: :u7981: :accept: :u7533: :u5408: :u7a7a: :congratulations: :secret: :u55b6: :u6e80: :black_small_square: :white_small_square: :white_medium_square: :black_medium_square: :white_medium_small_square: :black_medium_small_square: :black_large_square: :white_large_square: :large_orange_diamond: :large_blue_diamond: :small_orange_diamond: :small_blue_diamond: :small_red_triangle: :small_red_triangle_down: :diamond_shape_with_a_dot_inside: :radio_button: :black_square_button: :white_square_button: :white_circle: :black_circle: :red_circle: :blue_circle: :regional_indicator_z: :regional_indicator_y: :regional_indicator_x: :regional_indicator_w: :regional_indicator_v: :regional_indicator_u: :regional_indicator_t: :regional_indicator_s: :regional_indicator_r: :regional_indicator_q: :regional_indicator_p: :regional_indicator_o: :regional_indicator_n: :regional_indicator_m: :regional_indicator_l: :regional_indicator_k: :regional_indicator_j: :regional_indicator_i: :regional_indicator_h: :regional_indicator_g: :regional_indicator_f: :regional_indicator_e: :regional_indicator_d: :regional_indicator_c: :regional_indicator_b: :regional_indicator_a:".split(" ")},flags:{header:":flag_black:",content:":flag_ac: :flag_ad: :flag_ae: :flag_af: :flag_ag: :flag_ai: :flag_al: :flag_am: :flag_ao: :flag_aq: :flag_ar: :flag_as: :flag_at: :flag_au: :flag_aw: :flag_ax: :flag_az: :flag_ba: :flag_bb: :flag_bd: :flag_be: :flag_bf: :flag_bg: :flag_bh: :flag_bi: :flag_bj: :flag_bl: :flag_bm: :flag_bn: :flag_bo: :flag_bq: :flag_br: :flag_bs: :flag_bt: :flag_bv: :flag_bw: :flag_by: :flag_bz: :flag_ca: :flag_cc: :flag_cd: :flag_cf: :flag_cg: :flag_ch: :flag_ci: :flag_ck: :flag_cl: :flag_cm: :flag_cn: :flag_co: :flag_cp: :flag_cr: :flag_cu: :flag_cv: :flag_cw: :flag_cx: :flag_cy: :flag_cz: :flag_de: :flag_dg: :flag_dj: :flag_dk: :flag_dm: :flag_do: :flag_dz: :flag_ea: :flag_ec: :flag_ee: :flag_eg: :flag_eh: :flag_er: :flag_es: :flag_et: :flag_eu: :flag_fi: :flag_fj: :flag_fk: :flag_fm: :flag_fo: :flag_fr: :flag_ga: :flag_gb: :flag_gd: :flag_ge: :flag_gf: :flag_gg: :flag_gh: :flag_gi: :flag_gl: :flag_gm: :flag_gn: :flag_gp: :flag_gq: :flag_gr: :flag_gs: :flag_gt: :flag_gu: :flag_gw: :flag_gy: :flag_hk: :flag_hm: :flag_hn: :flag_hr: :flag_ht: :flag_hu: :flag_ic: :flag_id: :flag_ie: :flag_il: :flag_im: :flag_in: :flag_io: :flag_iq: :flag_ir: :flag_is: :flag_it: :flag_je: :flag_jm: :flag_jo: :flag_jp: :flag_ke: :flag_kg: :flag_kh: :flag_ki: :flag_km: :flag_kn: :flag_kp: :flag_kr: :flag_kw: :flag_ky: :flag_kz: :flag_la: :flag_lb: :flag_lc: :flag_li: :flag_lk: :flag_lr: :flag_ls: :flag_lt: :flag_lu: :flag_lv: :flag_ly: :flag_ma: :flag_mc: :flag_md: :flag_me: :flag_mf: :flag_mg: :flag_mh: :flag_mk: :flag_ml: :flag_mm: :flag_mn: :flag_mo: :flag_mp: :flag_mq: :flag_mr: :flag_ms: :flag_mt: :flag_mu: :flag_mv: :flag_mw: :flag_mx: :flag_my: :flag_mz: :flag_na: :flag_nc: :flag_ne: :flag_nf: :flag_ng: :flag_ni: :flag_nl: :flag_no: :flag_np: :flag_nr: :flag_nu: :flag_nz: :flag_om: :flag_pa: :flag_pe: :flag_pf: :flag_pg: :flag_ph: :flag_pk: :flag_pl: :flag_pm: :flag_pn: :flag_pr: :flag_ps: :flag_pt: :flag_pw: :flag_py: :flag_qa: :flag_re: :flag_ro: :flag_rs: :flag_ru: :flag_rw: :flag_sa: :flag_sb: :flag_sc: :flag_sd: :flag_se: :flag_sg: :flag_sh: :flag_si: :flag_sj: :flag_sk: :flag_sl: :flag_sm: :flag_sn: :flag_so: :flag_sr: :flag_ss: :flag_st: :flag_sv: :flag_sx: :flag_sy: :flag_sz: :flag_ta: :flag_tc: :flag_td: :flag_tf: :flag_tg: :flag_th: :flag_tj: :flag_tk: :flag_tl: :flag_tm: :flag_tn: :flag_to: :flag_tr: :flag_tt: :flag_tv: :flag_tw: :flag_tz: :flag_ua: :flag_ug: :flag_um: :flag_us: :flag_uy: :flag_uz: :flag_va: :flag_vc: :flag_ve: :flag_vg: :flag_vi: :flag_vn: :flag_vu: :flag_wf: :flag_ws: :flag_xk: :flag_ye: :flag_yt: :flag_za: :flag_zm: :flag_zw:".split(" ")}},be=function(e){var t=e.getElementsByTagName("head")[0],i=e.createElement("script");e=e.createElement("link"),i.type="text/javascript",i.src="https://cdn.jsdelivr.net/emojione/2.2.7/lib/js/emojione.min.js",i.async=!0,e.type="text/css",e.rel="stylesheet",e.href="https://cdn.jsdelivr.net/emojione/2.2.7/assets/css/emojione.min.css",t.appendChild(e),t.appendChild(i),ve()},ve=function(){var e;clearTimeout(ge),void 0===(e=!A&&P.isPopup?f:(e=A?P.isPopup?y.viewHandler.chatContainer.elementId:y.viewHandler.maximizedWidget.container.elementId:c.container.elementId,(e=document.getElementById(e)).contentWindow||e.contentDocument||e)).emojione?20===++ue?(clearTimeout(ge),ue=0):ge=setTimeout(function(){ve()},20):(clearTimeout(ge),ue=0,(me=e.emojione).ascii=!0)},ye=function(t){var e,i="";e=w["emoji-selection"];var n=w["emoji-tab-select"];if(he)he.style.display="block";else if(t.style.display="block",void 0===me)20===ue?t.innerHTML="Unable to load emojis":(0===ue&&ve(),setTimeout(function(){ye(t)},20));else{clearTimeout(ge),he=t,Object.keys(fe).forEach(function(e,t){i+=n.replace(/__ID__/,e).replace(/__IMAGE__/,me.shortnameToImage(fe[e].header)).replace(/__IS_ACTIVE__/,"")}),e=e.replace(/__TAB_LIST__/,i),t.innerHTML=e,e=q.getElementsByClassName(t,"open-tab"),we(t,{target:e[0]});for(var a=0;a<e.length;a++)y.eventHandler.listen(e[a],y.viewHandler.clickEvent,function(e){e.stopPropagation(),we(t,e)},e[a].id+"OpenTab")}},we=function(e,t){var i,n,a="",o=w["emoji-tab-pane"],r=w["emoji-list"];if(tabElements=q.getElementsByClassName(e,"open-tab"),n=A?P.isPopup?y.viewHandler.chatContainer.getElementById("tab-content"):y.viewHandler.maximizedWidget.container.getElementById("tab-content"):c.container.getElementById("tab-content")){i=(i="open-tab"===t.target.className?t.target:t.target.offsetParent).id;for(var s=0;s<tabElements.length;s++)tabElements[s].className=tabElements[s].id===i?"open-tab active":"open-tab";"search"===i?(n.innerHTML=w["emoji-search-pane"],n=A?P.isPopup?y.viewHandler.chatContainer.getElementById("search-emoji"):y.viewHandler.maximizedWidget.container.getElementById("search-emoji"):c.container.getElementById("search-emoji"),y.eventHandler.listen(n,"keyup",function(e){var t=y.eventHandler.getTargetElement(e).value.trim().toLowerCase(),i=w["emoji-list"];if(results="",shortnames=me.shortnames.split("|"),e=A?P.isPopup?y.viewHandler.chatContainer.getElementById("search-list"):y.viewHandler.maximizedWidget.container.getElementById("search-list"):c.container.getElementById("search-list")){if(t)for(var n=0;n<shortnames.length;n++){var a=shortnames[n];-1!==a.indexOf(t)&&(results+=i.replace(/__IMAGE__/,me.shortnameToImage(a)).replace(/__SHORTNAME__/g,a))}e.innerHTML=results,_e()}},"searchEmojiKeyup")):(i=fe[i])&&(i.content.forEach(function(e){a+=r.replace(/__IMAGE__/,me.shortnameToImage(e)).replace(/__SHORTNAME__/g,e)}),n.innerHTML=o.replace(/__EMOJIS__/,a).replace(/__ID__/,"people"),_e())}},_e=function(){for(var e=q.getElementsByClassName(he,"emoji-select"),t=0;t<e.length;t++)y.eventHandler.listen(e[t],y.viewHandler.clickEvent,function(e){e=y.eventHandler.getTargetElement(e),e=me.shortnameToUnicode(e.title),A?P.isPopup?y.viewHandler.addEmojiToInput(e):y.viewHandler.maximizedWidget.addEmojiToInput(e):c.addEmojiToInput(e)},e[t].id+"SelectEmoji")},xe=function(){this.chatWindowStates={min:!0,max:!0},this.selfOrigin=this.socket=null,this.forceDisconnected=this.banned=this.ready=this.disconnect=!1,this.clearRegisterRetryTimeout=null};(xe.prototype=new EventEmitter).init=function(){var e,t=!1,n=this,a=(new Date).getTime();this.forceDisconnected=this.disconnect=s.connected=!1,this.removeAllListeners(),this.socket&&(this.socket.removeAllListeners(),this.socket.disconnect()),null===M&&re.handleWindowId(),null!==M&&"null"!==M||y.loggingHandler.logIncident("windowId is null",{windowId:M,type:typeof M}),("symbian"===A||"android"===A||"safari"===A&&B<7||N&&B<=9&&"https"!==location.protocol)&&(t=!0),(e={k:D.sessionKey,u:O.uuid,uv:O.uuidVer,a:L.pageId,cver:F.chatVersion,pop:P.isPopup,w:M,jv:D.currentVersion,asver:D.pageStatusVersion,ust:$_Tawk_Unstable,p:P.isPopup?L.pageName():document.title,r:document.referrer}).p&&255<e.p.length&&(e.p=e.p.substring(0,255)),this.socket=new $__TawkSocket("wss://"+D.visitorSocketServer+"/",{engineIo:$__TawkEngine,path:"/s",query:e,forceJSONP:t}),this.socket.on("disconnect",function(){n.disconnectHandler()}),this.socket.on("error",function(e){var t,i="socket on error";if(e instanceof Error){if(t={toString:e.toString(),stack:e.stack,lineNumber:e.lineNumber,fileName:e.fileName},y.loggingHandler.unloading&&-1===t.toString.indexOf("post"))return;"TransportError"===e.type&&(t.description=e.description),-1!==t.toString.indexOf("post")&&(i="socket post error")}else t=e;y.loggingHandler.logIncident(i,t),n.socket.disconnect(),n.disconnectHandler()}),this.socket.on("connect",function(){n.disconnect=!1}),this.socket.on("ready",function(e,t,i){if(!y)return n.disconnectSocket();n.selfOrigin=e,s.connected=!0,n.ready||(s.loaded=!0,"undefined"!=typeof $_Tawk_LoadStart&&y.loggingHandler.logPerformance({socket:(new Date).getTime()-a,register:r.registerTime,widget:(new Date).getTime()-$_Tawk_LoadStart,script:(new Date).getTime()-b,download:b-$_Tawk_LoadStart})),n.ready=!0;try{y.eventEmitter.emit("syncConversation",t)}catch(e){u.handleError("Unable to emit syncConversation",e.fileName,e.lineNumber,e.stack)}try{y.eventEmitter.emit("pageStatusUpdated",i)}catch(e){u.handleError("Unable to emit pageStatusUpdated",e.fileName,e.lineNumber,e.stack)}try{y.eventEmitter.emit("socketReady")}catch(e){u.handleError("Unable to emit socketReady",e.fileName,e.lineNumber,e.stack)}clearTimeout(n.clearRegisterRetryTimeout),n.clearRegisterRetryTimeout=setTimeout(function(){n.disconnect||r.resetRetryCount(),n.clearRegisterRetryTimeout=null},5e3)}),this.socket.on("remoteDisconnect",function(e){if("BANNED"===(e=e||{}).msg){n.banned=!0;try{n.socket.disconnect()}catch(e){u.handleError("Unable to emit disconnect socket on ban",e.fileName,e.lineNumber,e.stack)}y.main.hideWidget()}else n.socket.disconnect(),n.disconnectHandler()}),this.addEventListeners()},xe.prototype.addEventListeners=function(){function t(t,i){try{y.eventEmitter.emit(t,i)}catch(e){u.handleError("Unable to emit socket event : "+t+" with data : "+$_TAWK_JSON.stringify(i),e.fileName,e.lineNumber,e.stack)}}var i=this;this.socket.on("visitorChatWindowState",function(e){i.selfOrigin!==e.origin&&t("windowStateUpdated",e)}),this.socket.on("visitorDataUpdate",function(e){i.selfOrigin!==e.origin&&t("visitorDataUpdate",e)}),this.socket.on("visitorSound",function(e){e.origin!==i.selfOrigin&&y.chatHandler.toggleSound(!!e.sdo)}),this.socket.on("visitorMessage",function(e){i.selfOrigin!==e.origin&&t("incomingMessage",e)}),this.socket.on("visitorConversationPresenceUpdate",function(e){t("incomingMessage",e)}),this.socket.on("pageStatus",function(e){t("pageStatusUpdated",e)}),this.socket.on("newCriticalUpdate",function(e){(e=e||0)!=D.criticalVersion&&y.main.criticalRefresh(e,!0)}),this.socket.on("newUnstableCriticalUpdate",function(e){e=e||0,$_Tawk_Unstable&&e!=D.criticalVersion&&y.main.criticalRefresh(e,!0)}),this.socket.on("visitorPopupFocus",function(e){t("visitorPopupFocus",!!(e=e||{}).hasFocus)}),this.socket.on("chatBubbleClosed",function(e){e.origin!==i.selfOrigin&&t("chatBubbleClosed",e)}),this.socket.on("agentIsTyping",function(e){t("agentIsTyping",e)}),this.socket.on("agentStopedTyping",function(e){t("agentStopedTyping",e)}),this.socket.on("pageDisable",function(){t("removeWidget")}),this.socket.on("widgetScheduleUpdate",function(e){t("scheduleUpdate",e)}),this.socket.on("uploadProgress",function(e){t("fileUploadProgress",e)}),this.socket.on("uploadFinished",function(e){t("fileUploadFinished",e)}),this.socket.on("uploadError",function(e){t("fileUploadError",e)}),this.socket.on("vCallStatus",function(e){t("webrtcCallStatus",e)}),this.on("notifyWindowState",function(e){i.chatWindowStates[e]&&i.socket.send("chatWindowState",e)}),this.on("notifyChatBubbleClosed",function(){i.socket.send("chatBubbleClose")}),this.on("notifyMessagePreview",function(e){i.socket.send("messagePreview",e,(new Date).getTime())}),this.on("sendChatMessage",function(e,t){i.socket.send("chatMessage",e,t)}),this.on("notifyNameChange",function(e,t){i.socket.send("saveNameChangeForm",e,t)}),this.on("notifyEmailTranscript",function(e,t){i.socket.send("saveTranscriptEmailForm",e,t)}),this.on("notifyEndChatTranscript",function(e,t){i.socket.send("sendTranscript",e,t)}),this.on("notifyOfflineMessage",function(e,t){i.socket.send("service","visitor-chat","/v1/visitor/offline-form",e,t)}),this.on("notifyPrechat",function(e,t){i.socket.send("savePrechatForm",e,t)}),this.on("setRating",function(e){i.socket.send("visitorRating",e)}),this.on("toggleSound",function(e){i.socket.send("visitorSound",e)}),this.on("notifyWidgetResized",function(){i.socket.send("chatWindowResize")}),this.on("popupOnFocus",function(e){i.socket.send("visitorPopupFocus",e)}),this.on("notifySocketStatusUpdate",function(e){i.socket.send("socketStatusUpdate",e)}),this.on("saveForeignKey",function(e,t){i.socket.send("saveForeignKey",e,t)}),this.on("saveConversion",function(e,t){i.socket.send("saveConversion",e,t)}),this.on("submitMultipleOptions",function(e,t){i.socket.send("saveMultipleOptions",e,t)}),this.on("endVisitorChat",function(e,t){i.socket.send("endChat",t)}),this.on("fileUploadMessage",function(e,t){i.socket.send("fileUploadMessage",e,t)}),this.on("addEvent",function(e,t){i.socket.send("addEvent",e,t)}),this.on("setAttributes",function(e,t){i.socket.send("setAttributes",e,t)}),this.on("addTags",function(e,t){i.socket.send("addTags",e,t)}),this.on("removeTags",function(e,t){i.socket.send("removeTags",e,t)}),this.on("getWebRTCToken",function(e,t){this.socket.send("service","webrtc","/v1/vcall/init/visitor",e,t)}),this.on("getCallStatus",function(e,t){this.socket.send("service","webrtc","/v1/vcall/status/visitor",e,t)}),this.on("declineCall",function(e,t){this.socket.send("service","webrtc","/v1/vcall/reject/visitor",e,t)})},xe.prototype.disconnectSocket=function(){this.forceDisconnected=!0,this.socket&&(this.socket.disconnect(),this.disconnectHandler())},xe.prototype.disconnectHandler=function(){s.connected=!1,this.socket.removeAllListeners(),this.removeAllListeners(),y.scheduler.cleanUp(),this.banned||this.forceDisconnected||this.disconnect||(this.disconnect=!0,r.retryRegister())};var ke=function(e,t,i,n,a){var o=this;this.elementId=e||"",this.style=t||"",this.tagName=n||"div",this.childViews=[],this.template=e&&w[e]?w[e]:"",this.elementReferrer=null,this.documentRef=a||document,this.attributes={},this.isVisible=!1,this.classNames=[],"iframe"===n&&(this.isIframe=!0),this.elementId&&(this.attributes.id=this.elementId),i&&Object.keys(i).forEach(function(e){o.attributes[e]=i[e]})};ke.prototype.addChildViews=function(e){var t=this;e.forEach(function(e){t.childViews.push(e)})},ke.prototype.buildView=function(e){return this.documentRef=e||this.documentRef,this.elementReferrer=q.createElement(this.documentRef,this.tagName,this.attributes,this.style,this.template),this.elementReferrer.className+=this.classNames.join(" "),this.isIframe||this.buildChildViews(),this.elementReferrer},ke.prototype.buildChildViews=function(e){var t=this;this.childViews.length&&(this.documentRef=e||this.documentRef,this.childViews.forEach(function(e){t.elementReferrer.appendChild(e.buildView(t.documentRef))}))},ke.prototype.restyle=function(e,t){t&&(-1===t.indexOf("!important")&&(t+=" !important"),this.elementReferrer?this.elementReferrer.style.cssText+=";"+e+":"+t:this.style+=";"+e+":"+t)},ke.prototype.attachUserEventListener=function(e,t,i,n){var a;(a=i?this.getElementById(i):this.elementReferrer)&&(1<(i=e.split(" ")).length?i.forEach(function(e){y.eventHandler.listen(a,e,t,e+n)}):y.eventHandler.listen(a,e,t,n))},ke.prototype.toggle=function(){this.isVisible?(this.restyle("display","none !important"),this.isVisible=!1):(this.restyle("display","block !important"),this.isVisible=!0)},ke.prototype.getElementById=function(e){return this.elementReferrer?this.documentRef.getElementById(e):null},ke.prototype.insertHtml=function(e){this.elementReferrer.innerHTML=e},ke.prototype.clear=function(){this.elementReferrer&&(this.elementReferrer.outerHTML="",this.elementReferrer=null)},ke.prototype.addClass=function(e){this.classNames.push(e),this.elementReferrer&&(this.elementReferrer.className=this.classNames.join(" "))},ke.prototype.removeClass=function(e){for(;-1!==this.classNames.indexOf(e);)this.classNames.splice(this.classNames.indexOf(e),1);this.elementReferrer&&(this.elementReferrer.className=this.classNames.join(" "))},ke.prototype.hide=function(){this.restyle("display","none !important"),this.isVisible=!1},ke.prototype.show=function(){this.restyle("display","block !important"),this.isVisible=!0},ke.prototype.insertCssFile=function(e,t){var i=this.documentRef.getElementsByTagName("head")[0],n=this.documentRef.createDocumentFragment(),a=q.createElement(this.documentRef,"style",{type:"text/css"}),o=this.documentRef.createTextNode(t?e:y.ResetStyle+""+e);n.appendChild(a),i.appendChild(n),a.styleSheet?a.styleSheet.cssText=o.nodeValue:a.appendChild(o)},ke.prototype.massRestyle=function(e){for(var t in e)e.hasOwnProperty(t)&&this.restyle(t,e[t])};var Ce=function(){ke.apply(this,arguments)};Ce.prototype=new ke,(Ce.prototype.constructor=Ce).prototype.parent=ke.prototype,Ce.prototype.buildIframe=function(e,t){this.documentRef=q.getDocument(this.elementReferrer),this.documentRef.open(),this.documentRef.writeln('<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" /></head><body></body></html>'),this.documentRef.close(),this.insertCssFile(e),this.insertContent(),this.buildChildViews()},Ce.prototype.insertContent=function(){this.documentRef.body.innerHTML=this.template},Ce.prototype.buildChildViews=function(){var t=this;this.childViews.forEach(function(e){t.documentRef.body.appendChild(e.buildView(t.documentRef))})};var Ee=function(e){this.template=(this.elementId=(this.formData=e)?e.id:null)&&w[this.elementId]?w[this.elementId]:"",this.elementReferrer=null,this.documentRef=document,this.attributes={className:"form"},this.elementId&&(this.attributes.id=this.elementId)};Ee.prototype.buildForm=function(){this.formData.additionalFields=[],this.insertTranslatedTexts()},Ee.prototype.buildView=function(e){return this.documentRef=e||this.documentRef,this.elementReferrer=q.createElement(this.documentRef,"div",this.attributes,null,this.template)},Ee.prototype.addPlaceholderText=function(e,t,i,n,a){a=RegExp("__"+e.toUpperCase()+"_PLACEHOLDER__","gm"),e.toUpperCase(),e=RegExp("__"+e.toUpperCase()+"__","gm");var o=y.languageParser.translate("form",i+"Placeholder");if(z||t||(t=o),o&&o!==i+"Placeholder"||(o=t,t=""),n)return q.escapeTemplateReplacement(n,[{placeholder:a,textReplace:o},{placeholder:e,textReplace:t}]);this.template=q.escapeTemplateReplacement(this.template,[{placeholder:a,textReplace:o},{placeholder:e,textReplace:t}])},Ee.prototype.addPlaceholderHandler=function(){var e,o=this;z||(e=this.formData.fields)&&e.forEach(function(i){var n,a,e;"input"!==i.type||i.isEnabled&&!i.isEnabled()||(e=i.getValue?i.getValue():"","input"===i.type&&q.isArray(e)?e.forEach(function(e,t){n=o.documentRef.getElementById(i.fieldName+t),a=e,q.togglePlaceholderText(n,a,i.fieldName+t),"textarea"!==n.tagName.toLowerCase()||q.trim(n.value)||(n.value=a)}):i.hiddenIE8||(n=o.documentRef.getElementById(i.fieldName+"Field"),a=y.languageParser.translate("form",i.languageKey+"Placeholder"),q.togglePlaceholderText(n,a,i.fieldName+"Field"),"textarea"!==n.tagName.toLowerCase()||q.trim(n.value)||(n.value=a)))})},Ee.prototype.insertTranslatedTexts=function(){var i=this,e="";(this.formData.fields||[]).forEach(function(e){var t;t=e.getValue?e.getValue():"",i.addPlaceholderText(e.fieldName,t,e.languageKey,null,e.labelText)}),this.template=q.escapeTemplateReplacement(this.template,[{placeholder:"__TITLE__",textReplace:this.formData.getTitle?this.formData.getTitle():y.languageParser.translate("form",this.formData.title)},{placeholder:"__OVERLAY__",textReplace:y.languageParser.translate("overlay",this.formData.overlayMessage)},{placeholder:"__CANCEL_BUTTON__",textReplace:y.languageParser.translate("form","CancelButton")},{placeholder:"__SAVE_BUTTON__",textReplace:y.languageParser.translate("form","SaveButton")},{placeholder:"__SEND_BUTTON__",textReplace:y.languageParser.translate("form","SendButton")},{placeholder:"__SUBMIT_BUTTON__",textReplace:y.languageParser.translate("form","SubmitButton")},{placeholder:"__START_CHAT_BUTTON__",textReplace:y.languageParser.translate("form","StartChatButton")},{placeholder:"__END_CHAT_BUTTON__",textReplace:y.languageParser.translate("rollover","end")},{placeholder:"__SUBMITTING_INDICATOR__",textReplace:y.languageParser.translate("form","SubmittingProcess")},{placeholder:"__ENDING_INDICATOR__",textReplace:y.languageParser.translate("form","EndingProcess")},{placeholder:"__SENDING_INDICATOR__",textReplace:y.languageParser.translate("form","SendingProcess")},{placeholder:"__SAVING_INDICATOR__",textReplace:y.languageParser.translate("form","SavingProcess")},{placeholder:"__EMAIL_TRANSCRIPT_TO__",textReplace:y.languageParser.translate("form","EmailTranscriptTo")},{placeholder:"__OFFLINE_MESSAGE_SUCCESSFULY_SENT__",textReplace:y.languageParser.translate("form","OfflineMessageSent")},{placeholder:"__SEND_AGAIN__",textReplace:y.languageParser.translate("form","sendAgain")},{placeholder:/__STATUS__/gm,textReplace:y.languageParser.translate("form","saving")},{placeholder:/__IE6__/gm,textReplace:H?"-ie6":""},{placeholder:/__SAFARI__/gm,textReplace:"safari"===I?"safari-fix":""}]),this.template="safari"===I||"chrome"===I||"firefox"===I||"mozilla"===I||N&&8<=B?this.template.replace("__NON_MODERN__",""):this.template.replace("__NON_MODERN__","other-fix"),A&&(e=q.escapeTemplateReplacement(w["close-form-button"],[{placeholder:"__CLOSE_BUTTON__",textReplace:y.languageParser.translate("form","CloseButton")}])),this.template=q.escapeTemplateReplacement(this.template,[{placeholder:"__CLOSE_BUTTON_CONTAINER__",textReplace:e}]),this.formData.customButtons&&(this.template=q.escapeTemplateReplacement(this.template,this.formData.customButtons()))};var Te=function(e,t){Ee.apply(this,[e]),this.formName=t};((Te.prototype=new Ee).constructor=Te).prototype.parent=Ee.prototype,Te.prototype.buildForm=function(){var e,t=[];if(e="preChatForm"==this.formName?"prechat":"offline",this.formData.additionalFields=[],this.insertTranslatedTexts(),null===this.formData.dynamicFields){for(var i=0,n=P[e+"Options"].fields.length;i<n;i++){var a={},o=P[e+"Options"].fields[i];o.id=e+i,a.label=o.label,a.instantValidation=!1,a.isRequired=o.isRequired,a.fieldName=e+i,a.fieldType=o.type,a.validation="isValidString","name"===o.type?(a.valueMaxLength=40,a.getValue=y.visitorHandler.getNameValue,a.languageKey="Name"):"email"===o.type?(a.valueMaxLength=150,a.getValue=y.visitorHandler.getEmailValue,a.validation="isValidEmail",a.languageKey="Email"):"message"===o.type||"textArea"===o.type?a.valueMaxLength=500:"inputText"===o.type?a.valueMaxLength=150:"department"===o.type?a.getValue=y.sessionHandler.getDeparmentOptions:"choice"===o.type||"option"===o.type?(a.type="options",a.selections=o.selections):"phone"===o.type&&(a.valueMaxLength=20,a.validation="isValidPhone",a.languageKey="Phone"),a.isRequired&&!a.languageKey&&(a.languageKey="Required"),t.push(a)}this.formData.dynamicFields=t}this.generateDynamicFields()},Te.prototype.generateDynamicFields=function(){for(var e="",t=RegExp("__LABEL__","gm"),i=RegExp("__ID__","gm"),n=RegExp("__MAXLENGTH__","gm"),a=0,o=this.formData.dynamicFields.length;a<o;a++){var r,s="",l=this.formData.dynamicFields[a];"name"===l.fieldType||"email"===l.fieldType||"phone"===l.fieldType||"inputText"===l.fieldType?(r=w.inputTextFieldType,r="email"===l.fieldType?r.replace("__INPUT_TYPE__","email"):r.replace("__INPUT_TYPE__","text")):"message"===l.fieldType||"textArea"===l.fieldType?r=w.textAreaFieldType:"department"===l.fieldType?r=w.departmentSelection:"choice"!==l.fieldType&&"option"!==l.fieldType||(r=w.selectionsType,s="choice"===l.fieldType?this.generateCheckboxOptions(l.fieldName,l.selections):this.generateRadioOptions(l.fieldName,l.selections)),r&&(r=(r=(r=r.replace(t,l.label)).replace(i,l.fieldName)).replace(n,l.valueMaxLength),r=l.isRequired?r.replace(/__REQUIRED__/gm,"*"):r.replace(/__REQUIRED__/gm,""),l.getValue&&("department"===l.fieldType?(s=this.generateDropDownOptions(l.getValue(),l.isRequired))||(r=""):s=l.getValue()),e+=r=r.replace("__VALUE__",s))}this.template=this.template.replace("__FIELDS__",e)},Te.prototype.generateDropDownOptions=function(e,t){var i="";if(0===e.length)return!1;t||(i+='<option value="0"></option>');for(var n=0,a=e.length;n<a;n++)i+='<option value="'+e[n].value+'"'+(e[n].selected?'selected="selected"':"")+">"+e[n].text+"</option>";return i},Te.prototype.generateRadioOptions=function(e,t){for(var i="",n=w.radioSelectionType,a=0,o=t.length;a<o;a++)i+=n.replace(/__ID__/gm,e+"radio"+a).replace(/__FIELD_ID__/gm,e).replace(/__VALUE__/gm,t[a]);return i},Te.prototype.generateCheckboxOptions=function(e,t){for(var i="",n=w.checkboxSelectionType,a=0,o=t.length;a<o;a++)i+=n.replace(/__ID__/gm,e+"check"+a).replace(/__FIELD_ID__/gm,e).replace(/__VALUE__/gm,t[a]);return i},Te.prototype.updateName=function(e){for(var t,i=0,n=this.formData.dynamicFields.length;i<n;i++){var a=this.formData.dynamicFields[i];if("name"===a.fieldType){t=y.viewHandler.chatContainer.getElementById(a.fieldName+"Field");break}}t&&(t.value=e)},Te.prototype.updateEmail=function(e){for(var t,i=0,n=this.formData.dynamicFields.length;i<n;i++){var a=this.formData.dynamicFields[i];if("email"===a.fieldType){t=y.viewHandler.chatContainer.getElementById(a.fieldName+"Field");break}}t&&(t.value=e)},Te.prototype.addPlaceholderHandler=function(){var e,t;if(!z)for(var i=0,n=this.formData.dynamicFields.length;i<n;i++)"department"!==(t=this.formData.dynamicFields[i]).fieldType&&"choice"!==t.fieldType&&"option"!==t.fieldType&&(this.formData.dynamicFields[i].placeholderText=(t.isRequired?"* ":"")+t.label,e=this.documentRef.getElementById(t.fieldName+"Field"),q.togglePlaceholderText(e,this.formData.dynamicFields[i].placeholderText,t.fieldName+"Field"),q.trim(e.value)||(e.value=this.formData.dynamicFields[i].placeholderText))};var Se=function(e){var t=this;this.container=e,this.unansweredMessages=0,this.popUpHasFocus=!1,y.eventEmitter.on("visitorPopupFocus",function(e){t.isPopupFocused=e,t.hide()})};Se.prototype.initIndicator=function(){var e=re.getSessionInformation()[1];(e=e?parseInt(e,10):0)&&(this.unansweredMessages=e-1,this.show())},Se.prototype.show=function(){var e,t,i;"max"===D.chatWindowState()&&!P.isPopup||this.isPopupFocused&&!y.viewHandler.popoutWin.closed||(this.unansweredMessages<99&&this.unansweredMessages++,re.storeSessionInformation(!0),P.isPopup&&this.unansweredMessages?this.updatePopoutTitle():this.container&&this.container.elementReferrer&&(e=this.container.getElementById("tawkchat-chat-indicator"),t=this.container.getElementById("tawkchat-chat-indicator-text"),i=y.viewHandler.iframeContainer.getElementById("tawkchat-minified-iframe-element"),t&&(A||!P.isDesktopRectangle()?t.innerHTML=this.unansweredMessages:t.innerHTML=y.languageParser.translate("chat","newMessage",{num:this.unansweredMessages})),e&&"block"!==e.style.display&&(e.style.display="block",e.style.visibility="hidden",y.viewHandler.handleIndicatorToggle(!0),y.viewHandler.showWidget(),this.container.show(),i&&(y.viewHandler.chatContainer.hide(),i.style.display="block"))))},Se.prototype.updatePopoutTitle=function(){var e="",t=(e=D.pageStatus(),"");A||((e=l.getShortMessage(e))||(e=""),0<this.unansweredMessages&&(t="("+this.unansweredMessages+")"),document.title=t+q.rawDecode(e)+(L.pageName()?" - "+L.pageName():""))},Se.prototype.hide=function(){var e,t;this.unansweredMessages=0,re.storeSessionInformation(!0),P.isPopup?this.updatePopoutTitle():this.container&&this.container.elementReferrer&&(e=this.container.getElementById("tawkchat-chat-indicator"),t=this.container.getElementById("tawkchat-chat-indicator-text"),e&&"block"===e.style.display&&(e.style.display="none",y.viewHandler.handleIndicatorToggle(),A||this.container.hide()),t&&(t.innerHTML=""))};var Ie=TawkClass.extend({init:function(){this.chatContainer=null,this.removeAgentNotification=!1,this.lastRadioButton=null,this.clickEvent="click",this.isPopupFocused=!1,this.indicator=null,this.newMessageNotSeen=!1,this.notSeenMessages=[],this.lastMessageTime=this.lastFocusedElement=null,this.unseenMessageNumber=0,this.retryUploadList=this.removeDividerTimeout=null,this.tawktoLinkName=q.getRandomName(),this.bottomContainerName=q.getRandomName(),this.incomingCallTimeout=null,this.callData={}},show:function(){},appendAgent:function(){},removeAgent:function(){},clearAgentFooter:function(){},clearAgentHeader:function(){},handleAcknowledgment:function(t){var i,e,n,a,o,r,s,l=this.chatContainer;if(l&&t.messageId&&(a=l.getElementById(t.messageId))){n=a.parentNode,e=0;for(var c=a.childNodes.length;e<c;e++){var d=a.childNodes[e];-1!==d.className.indexOf("messageBody")&&(i=q.getElementsByClassName(d,"messageWrapper"),s=q.getElementsByClassName(d,"messageStatusContainer"))}i&&i.length&&s&&s.length&&(s=s[0],i=i[0],t.error?s&&(n=w["chat-resend-link"].replace("__MESSAGE_ID__",t.messageId).replace("__NOT_DELIVERED__",y.languageParser.translate("chat","message_not_delivered")),i.className="messageWrapper error",s.className="messageStatusContainer errorInMessage",s.innerHTML=n,o=q.rawDecode(i.childNodes[0].textContent||i.childNodes[0].innerText),this.scrollToBottom(),r=y.eventHandler.listen(s,y.viewHandler.clickEvent,function(e){y.eventHandler.cancelEvent(e),y.chatHandler.sendMessageToServer(o,t.messageId),l.getElementById("errorFor"+t.messageId)&&(i.className="messageWrapper pending"),s.className="messageStatusContainer pending",s.childNodes[0].innerHTML='<span class="messageStatus"></span>',y.eventHandler.removeEventHandler(i,"click",r)},"resend"+t.messageId+"click")):(e=y.chatHandler.messages[t.order],y.viewHandler.addWaitTime(),n.removeChild(a),y.chatHandler.prepareMessage(e,!0,!1,!0)))}},handleEndChat:function(){},clearAgents:function(){},handleRestartChat:function(){},appendMessage:function(t,e){var i,n,a,o=!!t.reDisplay&&t.reDisplay;i=!1;var r=null,s=t.message,l=t.time,c=t.senderType,d=this.chatContainer.documentRef,p=this.ifScrollbarDown(),h=d.getElementById("chatWrapper"),m="messageId-"+(new Date).getTime().toString()+Object.keys(y.chatHandler.messages).length,g=H?"messageContainer-ie6":"messageContainer clearfix";l=q.parseChatTime(l);void 0!==me&&(0===(s=me.unifyUnicode(s)).replace(me.regUnicode,"").trim().length&&(g+=" emojionly"),s=me.toImage(s)),F.chatOrder<=1&&this.hideEmbeddedGreetings(),!D.prechatFormSubmitted&&P.showPreChatForm&&(D.prechatFormSubmitted=!0,"preChatForm"===y.formHandler.currentForm&&y.formHandler.closeForm()),"a"===c?(s=(i=this.parseSurvey(s,m)).message,i=i.isSurvey,y.chatHandler.handleAgentStoppedTyping(t.data.rsc)):y.chatHandler.visitorHasMessaged||"s"===c||(y.chatHandler.visitorHasMessaged=!0),t.data&&t.data.file&&(s=this.parseUploadedFile(t.data.file)),"c"===t.type&&(a=q.escapeTemplateReplacement(e["chat-message-row"],[{placeholder:"__MESSAGE_STATUS_ROW__",textReplace:e["chat-message-status-row"]},{placeholder:/__MESSAGE_ID__/gm,textReplace:m},{placeholder:"__MESSAGE__",textReplace:s},{placeholder:"__PENDING__",textReplace:t.isPending?"pending":""}]),g="v"===c?g+" visitorChatContainer ":g+" agentChatContainer "),r=new ke(m,null,{className:g},null,d),this.lastMessageTime=t.isPending?this.lastMessageTime:l,"c"===t.type?(y.chatHandler.lastMessageOwner="s"===c?"server":t.isPending?y.chatHandler.lastMessageOwner:t.ownerId,n="a"===c||"s"===c?("a"===c&&(y.chatHandler.agentHasMessaged=!0,this.removeWaitTime()),q.escapeTemplateReplacement(e["chat-message-owner-agent"],[{placeholder:"__NAME__",textReplace:t.name}])):q.isGeneratedName(O.name())&&e["chat-message-owner-visitor"]?q.escapeTemplateReplacement(e["chat-message-owner-visitor"],[{placeholder:"__NAME__",textReplace:t.name}]):"",n=q.escapeTemplateReplacement(e["chat-message-container"],[{placeholder:"__OWNER_TPL__",textReplace:n},{placeholder:"__CONTENT__",textReplace:a}]),"s"===c&&(n=(n=n.replace("ownerNameContainer","ownerNameContainer trigger")).replace("messageBody","messageBody trigger"))):"n"===t.type&&(y.chatHandler.lastMessageOwner="notif",n=e["chat-notification-container"],n=q.escapeTemplateReplacement(e["chat-notification-container"],[{placeholder:"__MESSAGE_ID__",textReplace:m},{placeholder:"__MESSAGE__",textReplace:s},{placeholder:"__TIME__",textReplace:l}])),r.template=n,r.buildView();try{h.insertBefore(r.elementReferrer,d.getElementById("agentTypingContainer")),y.eventHandler.listen(r.elementReferrer,"mouseover",function(){r.elementReferrer.className=g+" show-time"},m+"mouseover"),y.eventHandler.listen(r.elementReferrer,"mouseout",function(){r.elementReferrer.className=g},m+"mouseout")}catch(e){u.handleError("Chat wrapper is null to append message : "+$_TAWK_JSON.stringify(t),e.fileName,e.lineNumber,e.stack)}return t.dontPlaySound||"v"===c||t.isPending||this.popoutWin&&!this.popoutWin.closed||y.audioPlayer.play("chat_sound"),p&&this.scrollToBottom(),!o&&"v"!==c&&!p&&(this.setDivider(m,e["chat-divider"],r),this.unseenMessageNumber&&(a=this.chatContainer.documentRef.getElementById("newMessagesBar")))&&(this.chatContainer.getElementById("notificationMessageText").innerHTML=y.languageParser.translate("chat","newMessage",{num:this.unseenMessageNumber})),p&&this.scrollToBottom(),i&&this.addSurveyHandlers(m),m},parseSurvey:function(e,t){var i,n,a,o,r,s,l=e.match(q.regSurvey),c="";if(!l)return{message:e,isSurvey:!1};for(o=e.match(q.regSurveyQuestion),r="survey-"+(new Date).getTime(),i=0,n=l.length;i<n;i++)a=(a=l[i].replace(q.regOption,"")).replace(q.regBr,""),a=q.trim(a),s=r+i,c+=q.escapeTemplateReplacement(w["survey-option"],[{placeholder:/__RADIO_ID__/gm,textReplace:s},{placeholder:"__RADIO_NAME__",textReplace:t},{placeholder:/__RADIO_VALUE__/gm,textReplace:a}]);return{message:q.escapeTemplateReplacement(w["tawk-survey-wrapper"],[{placeholder:"__QUESTION__",textReplace:o[0].replace(q.regOption,"")},{placeholder:"__OPTIONS__",textReplace:c}]),isSurvey:!0}},updateViewByStatus:function(e){if(y.formHandler.closeForm(),P.isPopup){var t=l.getShortMessage(e);document.title=t?L.pageName()+" - "+q.rawDecode(t):L.pageName()}"online"===e||"away"===e?(P.showConsentForm?y.formHandler.openForm("consentForm"):P.showPreChatForm&&!D.prechatFormSubmitted&&y.formHandler.openForm("preChatForm"),this.showWidget(),d&&d.toggleBubble()):"offline"===e&&(P.hideWidgetOnOffline?this.hideWidget():(y.formHandler.openForm(P.showConsentForm?"consentForm":"offlineForm"),this.showWidget()),d&&d.toggleBubble())}});Ie.prototype.resetView=function(){},Ie.prototype.styleAgentBar=function(){},Ie.prototype.expandAgentList=function(){},Ie.prototype.hideWidget=function(){},Ie.prototype.showWidget=function(){},Ie.prototype.toggleWidget=function(){A&&y.viewHandler.maximize()},Ie.prototype.popoutWidget=function(){A&&y.viewHandler.popup()},Ie.prototype.handleIndicatorToggle=function(){},Ie.prototype.begin=function(){},Ie.prototype.getViewportDimensions=function(e){var t,i={};return t=e?(e=f,document):(e=c.container.elementReferrer,c.container.documentRef),void 0!==e.innerWidth?(i.height=e.innerHeight,i.width=e.innerWidth):void 0!==t.documentElement&&void 0!==t.documentElement.clientWidth&&0!==t.documentElement.clientWidth?(i.height=t.documentElement.clientHeight,i.width=t.documentElement.clientWidth):(i.height=t.getElementsByTagName("body")[0].clientHeight,i.width=t.getElementsByTagName("body")[0].clientWidth),i},Ie.prototype.getActualViewportDimensions=function(){var e=this.getViewportDimensions(!0);return{width:this.isVerticalScrollbar()?e.width-this.getScrollerWidth():e.width,height:this.isHorizontalScrollbar()?e.height-this.getScrollerWidth():e.height}},Ie.prototype.isVerticalScrollbar=function(){return this.getViewportDimensions(!0).height<document.body.scrollHeight},Ie.prototype.isHorizontalScrollbar=function(){var e=this.getViewportDimensions(!0).width;return document.documentElement&&e<document.documentElement.scrollWidth||e<document.body.scrollWidth},Ie.prototype.getScrollerWidth=function(){var e,t=null,i=null;t=0;return(t=document.createElement("div")).style.cssText="position: absolute; top: -10000px; left: -10000px; width: 100px; height: 50px; overflow: hidden",(i=document.createElement("div")).style.cssText="width: 100%; height: 200px",t.appendChild(i),document.body.appendChild(t),e=i.offsetWidth,t.style.overflow="auto",t=i.offsetWidth,document.body.removeChild(document.body.lastChild),e-t},Ie.prototype.addSurveyHandlers=function(i){var e,n=this;this.chatContainer&&(e=this.chatContainer.getElementById(i),(e=q.getElementsByTagName(e,"input")).forEach(function(t,e){t.id&&n.chatContainer.attachUserEventListener("click",function(e){n.lastRadioButton!==t.id&&(n.lastRadioButton=t.id,y.chatHandler.sendMessage(t.value))},t.id,"survey"+i+e+"click")}))},Ie.prototype.ifScrollbarDown=function(){var e,t,i;return!(!this.chatContainer||!this.chatContainer.elementReferrer)&&(e=this.chatContainer.getElementById("chatContainer"),i=this.chatContainer.getElementById("chatPanel"),e&&i?y.formHandler.currentForm?(i.style.display="block",t=e.offsetHeight+10,e=e.scrollHeight-(e.scrollTop+t)<30,i.style.display="none",e):(t=e.offsetHeight+10,e.scrollHeight-(e.scrollTop+t)<30):void 0)},Ie.prototype.scrollToBottom=function(){if(this.chatContainer&&this.chatContainer.elementReferrer){var e=this.chatContainer.getElementById("chatContainer"),t=this.chatContainer.getElementById("chatPanel");if(e){var i=e.style.display,n=t.style.display;"none"===i&&(e.style.display="block"),"none"===n&&(t.style.display="block"),this.chatContainer.getElementById("chatContainer").scrollTop=1e8,"none"===i&&(e.style.display=i),"none"===n&&(t.style.display=n)}}},Ie.prototype.isChatScrollbar=function(){var e;if(this.chatContainer&&this.chatContainer.elementReferrer&&(e=this.chatContainer.getElementById("chatContainer")))return e.scrollHeight>this.getViewportDimensions(P.isPopup).height-139},Ie.prototype.addWaitTime=function(){var e,t,i,n;n=A?w.estimatedWaitTime:w["wait-time-container"];var a=this.chatContainer;y.chatHandler.agentHasMessaged||!P.showWaitTime||a.getElementById("waitTimeContainer")||(e=a.getElementById("chatWrapper"),t=Math.ceil(D.waitTime/6e4),t=y.languageParser.translate("chat","messageQueuedText",{t:t,strongStart:"<b>",strongEnd:"</b>"}),i=H?"<center><span>"+y.languageParser.translate("chat","messageQueuedTitile")+"</span></center>":"<span>"+y.languageParser.translate("chat","messageQueuedTitile")+"</span>",n=q.escapeTemplateReplacement(n,[{placeholder:"__TITLE__",textReplace:i},{placeholder:"__MESSAGE__",textReplace:t}]),(t=new ke("waitTimeContainer",null,null,null,a.documentRef)).template=n,t.buildView(),(n=a.getElementById("departmentOfflineNotification"))?e.insertBefore(t.elementReferrer,n.nextSibling):e.insertBefore(t.elementReferrer,e.firstChild),this.waitTimeUpdater(!0),"explorer"===I&&B<9&&(a.documentRef.body.className=a.documentRef.body.className))},Ie.prototype.removeWaitTime=function(){var e;this.chatContainer&&this.chatContainer.elementReferrer&&(e=this.chatContainer.getElementById("waitTimeContainer"))&&(e.parentNode.removeChild(e),"explorer"===I&&B<9&&(c.container.documentRef.body.className=c.container.documentRef.body.className))},Ie.prototype.waitTimeUpdater=function(e){var t,i,n=this;if(this.chatContainer&&this.chatContainer.elementReferrer&&(i=this.chatContainer.getElementById("waitTime"))&&!(D.waitTime<=6e4)){if(t=D.waitTime%6e4||6e4,e)return setTimeout(function(){n.waitTimeUpdater()},t);D.waitTime-=t,i.innerHTML=Math.ceil(D.waitTime/6e4),setTimeout(function(){n.waitTimeUpdater()},6e4)}},Ie.prototype.appendAgentIsTypingElement=function(e){var t,i,n,a,o=this.ifScrollbarDown(),r=F.agentProfiles[e];this.chatContainer&&(n=(t=r&&r.pi?D.agentImgUrl+"/"+r.pi:"default")?"url('"+t+"')":"transparent",a="explorer"===I&&B<9?"filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"',sizingMethod='scale');":"","transparent"!==n&&(a+="background-position:0 0;background-size:28px 28px"),t=A?(i=y.languageParser.translate("chat","mobileAgentIsTyping",r),w["mobile-agent-typing"]):(r.strongStart="<b>",r.strongEnd="</b>",i=y.languageParser.translate("chat","agentIsTyping",r),w["agent-typing"]),t=q.escapeTemplateReplacement(t,[{placeholder:"__MESSAGE_ID__",textReplace:e},{placeholder:"__MESSAGE__",textReplace:i},{placeholder:/__NAME__/gm,textReplace:r.n},{placeholder:"__IMAGE_URL__",textReplace:n},{placeholder:"__IE_IMAGE_SCALE__",textReplace:a}]),this.chatContainer.getElementById("agentTypingContainer").innerHTML+=t,o&&this.scrollToBottom())},Ie.prototype.removeAgentTypingElement=function(e){this.chatContainer&&(e=this.chatContainer.getElementById("agentTyping-"+e))&&e.parentNode.removeChild(e)},Ie.prototype.changeRating=function(e){var t,i;this.chatContainer&&(t=this.chatContainer.getElementById("ratePositive"),i=this.chatContainer.getElementById("rateNegative"),t.className="",i.className="",e=e<0?(i.className="selected",y.languageParser.translate("chat","dislike")):0<e?(t.className="selected",y.languageParser.translate("chat","like")):y.languageParser.translate("chat","remove_rate"),y.viewHandler.appendMessage({message:e,type:"n",time:new Date,senderType:"v",ownerId:O.visitorId}))},Ie.prototype.notifiyDepartmentIsNotOnline=function(e,t){var i,n,a=this.chatContainer;a&&(i=a.getElementById("chatWrapper"))&&(n=q.escapeTemplateReplacement(w.departmentOfflineNotification,[{placeholder:"__TITLE__",textReplace:H?"<span>"+y.languageParser.translate("chat","notificationTitle")+"</span>":"<center><span>"+y.languageParser.translate("chat","notificationTitle")+"</span></center>"},{placeholder:"__MESSAGE__",textReplace:y.languageParser.translate("chat","offline"===t?"departmentIsOffline":"departmentIsAway",{departmentName:e,strongStart:"<b>",strongEnd:"</b>"})}]),elem=q.createElement(a.documentRef,"div",{id:"departmentOfflineNotification",className:"messageContainer"},null,n),i.insertBefore(elem,i.firstChild))},Ie.prototype.setDivider=function(e,t,i){var n,a,o,r,s=this;this.chatContainer.documentRef.getElementById("newMessageDivider")?0<this.unseenMessageNumber&&this.unseenMessageNumber++:(a=this.chatContainer.documentRef.getElementById(e),r=this.chatContainer.documentRef.getElementById("chatWrapper"),o=new ke("newMessageDivider"),this.newMessageNotSeen||!y.formHandler.currentForm&&(P.isEmbedded||P.isPopup||"min"!==D.chatWindowState())&&q.chatElementInView(a)||(this.newMessageNotSeen=!0,n=this.chatContainer.documentRef.getElementById("newMessagesBar"),this.unseenMessageNumber=1,n&&(n.className="visible",this.chatContainer.getElementById("newMessagesNotificationLink").title=y.languageParser.translate("chat","newMessages"),y.eventHandler.listen(n,this.clickEvent,function(){s.unseenMessageNumber=0,s.scrollToSeeMessage(e)},"newmessagedivider"))),!y.formHandler.currentForm&&(P.isEmbedded||P.isPopup||"min"!==D.chatWindowState())&&q.chatElementInView(a)||this.notSeenMessages.push(a),o.template=q.escapeTemplateReplacement(t,[{placeholder:/__NEW_MESSAGES__/gm,textReplace:y.languageParser.translate("chat","newMessages").toUpperCase()}]),o.buildView(),r.insertBefore(o.elementReferrer,i.elementReferrer))},Ie.prototype.removeDivider=function(){var e,t=this;clearTimeout(this.removeDividerTimeout),this.removeDividerTimeout=setTimeout(function(){(e=t.chatContainer.documentRef.getElementById("newMessageDivider"))&&e.parentNode.removeChild(e)},2e3)},Ie.prototype.scrollToSeeMessage=function(e){var t=this.chatContainer.documentRef.getElementById("chatContainer");(e=this.chatContainer.documentRef.getElementById(e))&&t&&(t.scrollTop=e.offsetTop-t.offsetHeight+40)},Ie.prototype.checkUnseenMessages=function(){var e;if(!this.newMessageNotSeen||!this.notSeenMessages.length)return!1;for(var t=0;t<this.notSeenMessages.length;t++)q.chatElementInView(this.notSeenMessages[t])&&(this.notSeenMessages.splice(t,1),t--);(!this.notSeenMessages.length||A&&this.ifScrollbarDown())&&(this.newMessageNotSeen=!1,(e=this.chatContainer.documentRef.getElementById("newMessagesBar"))&&setTimeout(function(){e.className=""},250),this.removeDivider())},Ie.prototype.parseUploadedFile=function(n){var a="https://tawk.link/"+n.name,o=this,e=w["file-upload"];if(-1!==["jpeg","png","gif"].indexOf(n.type)&&n.size<=2e6){var r=new Image;r.onload=function(){var e=q.createElement(o.chatContainer.documentRef,"a",{href:a,target:"_blank"}),t=o.chatContainer.getElementById("placeholder-"+n.name),i=o.ifScrollbarDown();t&&(e.appendChild(r),e.className="clearfix",t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t),i&&o.scrollToBottom())},r.setAttribute("src",a),r.setAttribute("class","uploaded-image"),e=q.escapeTemplateReplacement(e,[{placeholder:"__FILE_DISPLAY__",textReplace:'<div class="image-loader" id="placeholder-'+n.name+'"></div>'}]),showDetails=!1}else e=-1!==["video/mp4","video/ogg","video/webm"].indexOf(n.mimeType)?q.escapeTemplateReplacement(e,[{placeholder:"__FILE_DISPLAY__",textReplace:'<video width="auto" height="auto" controls style="display: block; max-width: 420px; width: 100%;"><source src="'+a+'" type="'+n.mimeType+'"></source></video>'}]):-1!==["audio/mp3","audio/ogg"].indexOf(n.mimeType)?q.escapeTemplateReplacement(e,[{placeholder:"__FILE_DISPLAY__",textReplace:'<audio controls style="display: block; max-width : 220px;"><source src="'+a+'" type="'+n.mimeType+'"></source></audio>'}]):e.replace("__FILE_DISPLAY__","");return q.escapeTemplateReplacement(e,[{placeholder:"__FILE_NAME__",textReplace:n.fileName},{placeholder:"__DOWNLOAD_URL__",textReplace:a},{placeholder:"__DOWNLOAD_TEXT__",textReplace:y.languageParser.translate("chat","downloadFile")},{placeholder:"__FILE_SIZE__",textReplace:q.formatFileSize(n.size)},{placeholder:"__FILE_TYPE__",textReplace:n.type}])},Ie.prototype.startUpload=function(n,a,o){var r,e,s,l=this,t=w.fileUploadProgress,c=this.ifScrollbarDown();if(o=o||function(){},s=this.chatContainer.getElementById("fileInput"),r=a?s.value.replace(/^.*\\/,""):n.name||n.fileName,(e=q.getElementsByClassName(l.chatContainer.elementReferrer,"upload-error")).length)for(var i=0;i<e.length;i++)e[i].parentNode.removeChild(e[i]);y.fileUploadHandler.getUploadHandler(function(e){var i;e.handle?(i=e.handle,t=q.escapeTemplateReplacement(t,[{placeholder:"__HANDLE__",textReplace:i},{placeholder:"__FILE_NAME__",textReplace:q.rawEncode(r)}]),l.chatContainer.getElementById("chatWrapper").innerHTML+=t,F.chatOrder<=1&&(A?y.viewHandler.hideEmbeddedGreetings():l.hideEmbeddedGreetings()),c&&l.scrollToBottom(),y.fileUploadHandler.uploadFile(i,n,r,a,function(e,t){e.success?o():(l.handleUploadError(n,r,i,a,t),s.value="")})):(l.handleUploadError(n,r,i,a),s.value="")})},Ie.prototype.handleUploadError=function(e,t,i,n,a){var o=this.ifScrollbarDown(),r=this,s=document.createElement("a"),l=document.createElement("div");if(a=a||"generalUploadError",t="<span>!</span> "+y.languageParser.translate("chat",a,{fileName:q.rawEncode(t)}),l.setAttribute("class","upload-error"),l.innerHTML=t,e||n){if(i){if(!(t=this.chatContainer.getElementById("upload-"+i)))return;var c;if(t.parentNode.removeChild(t),e&&!(n||a&&"generalUploadError"!==a))s.innerHTML=y.languageParser.translate("chat","retry"),s.setAttribute("href","javascript:void(0);"),s.setAttribute("id","retry-"+i),l.appendChild(s),c=y.eventHandler.listen(s,this.clickEvent,function(){y.eventHandler.removeEventHandler(s,this.clickEvent,c),l.parentNode.removeChild(l),r.startUpload(e)},"retry-"+i)}this.chatContainer.getElementById("chatContainer").appendChild(l),o&&this.scrollToBottom()}},Ie.prototype.updateFileProgress=function(e){var t=this.chatContainer.getElementById("upload-"+e.handle);t&&(t.getElementsByClassName("progress-bar")[0].style.width=e.progress+"%")},Ie.prototype.fileUploaded=function(e){(e=this.chatContainer.getElementById("upload-"+e))&&e.parentNode.removeChild(e)},Ie.prototype.retryUploadFile=function(e){var t,i,n=this;this.retryUploadList[e]&&this.startUpload(this.retryUploadList[e],null,function(){t=n.chatContainer.getElementById(e),(i=t.parentNode).removeChild(t),i.parentNode.removeChild(i),delete n.retryUploadList[e],Object.keys(n.retryUploadList).length||n.chatContainer.getElementById("maxFileNotificationContainer").classList.add("hidden"),t=null})},Ie.prototype.checkUploadFileWarning=function(e,t){var i,n=this.chatContainer.getElementById("maxFileNotificationContainer"),a=this.chatContainer.getElementById("maxSizeNotificationContainer"),o=this.chatContainer.getElementById("maxFileSizeList"),r=this.chatContainer.getElementById("maxFileNumberList"),s=this;if(t.length){i="<ul>",this.retryUploadList={};for(var l=0;l<t.length;l++)this.retryUploadList["retry_upload_"+l]=t[l],i+="<li>"+t[l].name+' <a id="retry_upload_'+l+'" class="actionRetry">'+y.languageParser.translate("notifications","retry")+"</a></li>";for(r.innerHTML=i+"</ul>",i=q.getElementsByClassName(r,"actionRetry"),r=0;r<i.length;r++)i[r].addEventListener(s.clickEvent,function(){this.classList.add("hidden"),s.retryUploadFile(this.id)});n.classList.remove("hidden")}if(e.length){for(i="<ul>",n=0;n<e.length;n++)i+="<li>"+e[n].name+"</li>";o.innerHTML=i+"</ul>",a.classList.remove("hidden")}i&&this.scrollToBottom()},Ie.prototype.applyWhiteLabelSettings=function(){var e,t,i;this.chatContainer&&(e=this.chatContainer.documentRef.getElementById(this.tawktoLinkName),t=this.chatContainer.documentRef.getElementById(this.bottomContainerName),i={id:this.tawktoLinkName,parentElem:t,siblingName:t.nextSibling?t.nextSibling.id:null,grandParentName:t.parentNode.id},P.whiteLabel()?(i.url=P.whiteLabel().url||null,i.label=q.transformLabel(q.rawEncode(P.whiteLabel().label)),i.textColor=P.whiteLabel().textColor||"#000000"):(i.url="javascript:void(0);",i.label=w["default-branding"]),q.insertRandomTagsBeforeAndAfter(t,t.parentNode,"div"),q.insertRandomTagsBeforeAndAfter(e,e.parentNode,"a"),q.applyWhiteLabelSettings(e,i))},Ie.prototype.showCallRequest=function(e,t,i){var n,a,o=this;n=w.incomingCallRequest;var r=(new Date).getTime();r=t-(r-(i=new Date(i).getTime())),(i=this.chatContainer.getElementById("incoming-call"))||(t=this.ifScrollbarDown(),y.chatHandler.webrtcWin&&!y.chatHandler.webrtcWin.closed?y.chatHandler.webrtcWin.focus():(n=(n=n.replace(/__INCOMING_CALL__/,y.languageParser.translate("chat","incoming_call_message"))).replace(/__ACCEPT_CALL__/,y.languageParser.translate("chat","accept_call")).replace(/__DECLINE_CALL__/,y.languageParser.translate("chat","decline_call")),clearTimeout(this.incomingCallTimeout),(i=new ke("incoming-call")).template=n,i.buildView(),a=(n=this.chatContainer.getElementById("chatContainer")).parentNode,n&&a&&(a.insertBefore(i.elementReferrer,n),n.style.top=i.elementReferrer.offsetHeight+"px",n=this.chatContainer.getElementById("accept-call"),i=this.chatContainer.getElementById("decline-call"),t&&this.scrollToBottom(),y.eventHandler.listen(n,this.clickEvent,function(){clearTimeout(o.incomingCallTimeout),q.getWebRTCToken(!1,!1,function(){o.removeCallRequest()})},"acceptVideoCall"),y.eventHandler.listen(i,this.clickEvent,function(){clearTimeout(o.incomingCallTimeout),q.rejectCall(e,function(){o.removeCallRequest()})},"declineVideoCall"),this.incomingCallTimeout=setTimeout(function(){o.removeCallRequest()},r),P.isPopup||y.viewHandler.isMaximized||P.isEmbedded||("max"!==P.onClickAction||this.agentHasMessaged||A||this.hasBeenMaximizedOnce?P.hideWidgetOnLoad||y.viewHandler.indicator.show():(y.viewHandler.userAction=!1,y.sessionHandler.notifyWindowState("max"),this.hasBeenMaximizedOnce=!0)),y.audioPlayer.play("chat_sound"))))},Ie.prototype.removeCallRequest=function(){var e=this.chatContainer.getElementById("incoming-call"),t=this.chatContainer.getElementById("chatContainer");e&&(e.parentNode.removeChild(e),t.style.top="0px")},Ie.prototype.subscribeCallUpdate=function(i){var n,a,o,r,s,l,c,d=this,e=this.chatContainer.documentRef,t=this.callData[i],p=this.ifScrollbarDown();t?n=t.callView:((n=new ke(i,null,{className:"webrtcCallContainer messageContainer clearfix"},null,e)).template=w.callInfo,n.buildView(),e.getElementById("chatWrapper").insertBefore(n.elementReferrer,e.getElementById("agentTypingContainer")),F.chatOrder<=1&&this.hideEmbeddedGreetings(),this.callData[i]={callView:n}),a=q.getElementsByClassName(n.elementReferrer,"loader"),o=q.getElementsByClassName(n.elementReferrer,"callInfoContainer"),r=q.getElementsByClassName(n.elementReferrer,"callIconWrapper"),s=q.getElementsByClassName(n.elementReferrer,"callErrorContainer"),a&&a.length&&(a[0].style.display="block"),s&&s.length&&(s[0].style.display="none"),y.socketManager.sendToConnector("getCallStatus",{callId:i},function(e,t){a&&a.length&&(a[0].style.display="none"),e?(o&&o.length&&(o[0].style.display="none"),s&&s.length?s[0].style.display="block":(c=w.callError.replace("__HEADER__",y.languageParser.translate("chat","error_title")).replace("__MESSAGE__",y.languageParser.translate("chat","call_error_load")).replace("__ACTION__",y.languageParser.translate("notifications","retry")),(s=q.createElement(d.chatContainer.documentRef,"div",null,null,c)).className="callErrorContainer",s.style.display="block",n.elementReferrer.appendChild(s)),(l=q.getElementsByClassName(n.elementReferrer,"retry-load"))&&l.length&&y.eventHandler.listen(l[0],d.clickEvent,function(){d.subscribeCallUpdate(i)},"retryCallLoad"+i)):(o&&o.length&&(o[0].style.display="block"),callIcon=t.data.call.f.vid?'<div class="videoCallIcon icon"></div>':t.data.call.f.scrn?'<div class="screenShareIcon icon"></div>':'<div class="voiceCallIcon icon"></div>',r&&r.length&&(r[0].innerHTML=callIcon),d.callData[i].ver=t.data.call.ver,p&&d.scrollToBottom(),d.updateCallView(t.data.call))})},Ie.prototype.updateCallView=function(e){var t,i,n,a,o,r=!!e.mssd;if(n=!!e.rjctd,!(i=this.callData[e.clid]))return this.subscribeCallUpdate(e.clid);i.ver>e.ver||(o=this.ifScrollbarDown(),i=i.callView,"ringing"===e.stts?("v"!==e.cllr.t&&this.showCallRequest(e.clid,e.rt,e.so),t=y.languageParser.translate("chat",("v"===e.cllr.t?"visitor_":"agent_")+"ringing")):"in-progress"===e.stts?(this.removeCallRequest(),t=y.languageParser.translate("chat","ongoing_call")):"completed"===e.stts&&(a=q.parseChatTime(e.so),this.removeCallRequest(),n=r||n?(t=n?y.languageParser.translate("chat","rejected_call"):y.languageParser.translate("chat","missed_"+("v"===e.cllr.t?"agent":"visitor")),y.languageParser.translate("chat","call_started_on",{startedOn:a})):(n="<b> "+q.getTimeDifference(e.so,e.eo)+"</b>",t=y.languageParser.translate("chat","completed_call"),y.languageParser.translate("chat","call_end_details",{startedOn:a,duration:n})),(a=q.getElementsByClassName(i.elementReferrer,"callEndDetails"))&&a.length&&(a[0].innerHTML=n,a[0].style.display="block")),(i=q.getElementsByClassName(i.elementReferrer,"callTitle"))&&i.length&&(i[0].innerHTML=t,r&&(i[0].className+=" missed")),this.callData[e.clid].ver=e.ver,o&&this.scrollToBottom())};var Be=function(){var t=this;this.currentForm="",this.formView=null,this.forms={nameForm:{id:"changeNameForm",title:"NameFormMessage",fields:[{fieldName:"name",valueMaxLength:40,languageKey:"Name",getValue:y.visitorHandler.getNameValue,validation:"isValidString",type:"input",isRequired:!0}],publish:"notifyNameChange",afterSave:y.visitorHandler.setNameFromForm,resize:"164px"},emailTranscriptForm:{id:"emailTranscriptForm",title:"EmailTranscriptFormMessage",fields:[{fieldName:"name",valueMaxLength:40,languageKey:"Name",getValue:y.visitorHandler.getNameValue,validation:"isValidString",type:"input",hiddenIE8:!0,isRequired:!0},{fieldName:"transcriptEmail",valueMaxLength:150,languageKey:"Email",getValue:y.visitorHandler.getTranscriptEmailValue,validation:"isValidEmail",type:"input",instantValidation:!1,isRequired:!0}],saveFunc:"requestEmailTranscript",afterSave:y.visitorHandler.setTranscriptValue,resize:"164px"},offlineForm:{id:"offlineForm",getTitle:function(){return q.transformGreetings(P.offlineOptions.text)},dynamicFields:null,saveFunc:"submitOfflineForm",dontCloseForm:!0,afterSave:t.showOfflineOverlay},preChatForm:{id:"preChatForm",getTitle:function(){return P.prechatOptions.text?q.transformGreetings(P.prechatOptions.text):P.isEmbedded&&"page"===$_Tawk_WidgetId&&pageType&&"profile"===pageType?y.languageParser.translate("form","PreChatFormMessageProfile"):y.languageParser.translate("form","PreChatFormMessage")},dynamicFields:null,saveFunc:"submitPrechatForm",afterSave:t.handlePrechatForm,dontCloseForm:!1},inactivityOverlay:{id:"inactivityOverlay",overlayMessage:"inactive",otherEvent:{eventName:"click",elementName:"inactivityOverlay",executedFunc:y.main.criticalRefresh}},maintenanceOverlay:{id:"maintenanceOverlay",overlayMessage:"maintenance"},endChatForm:{id:"endChatForm",publish:"endVisitorChat",afterSave:t.handleChatEnded,dontCloseForm:!1,resize:"109px",getTitle:function(){return y.languageParser.translate("form","EndChatTitle")}},consentForm:{id:"consentForm",saveFunc:"submitConsent",getTitle:function(){return q.transformGreetings(P.consentOption.text).replace(q.regLineBreaks,q.br)},dynamicFields:null,dontCloseForm:!0,otherEvent:{eventName:"click",elementName:"formDecline",executedFunc:function(){P.isPopup?f.close():D.chatWindowState("min")}},customButtons:function(){return P.consentOption.buttons}}},y.eventEmitter.on("localeChanged",function(){var e=t.currentForm;e&&(t.closeForm(),t.openForm(e))}),O.displayName.subscribe(function(e){!t.currentForm||"preChatForm"!==t.currentForm&&"offlineForm"!==t.currentForm||t.formView.updateName(e)}),O.email.subscribe(function(e){!t.currentForm||"preChatForm"!==t.currentForm&&"offlineForm"!==t.currentForm||t.formView.updateEmail(e)})};Be.prototype.openForm=function(e){var t=this,i=y.viewHandler.chatContainer.getElementById("formContainer"),n=this.forms[e];n&&this.currentForm!==e&&i&&(this.formView=null,this.formView="preChatForm"===e||"offlineForm"===e?new Te(n,e):new Ee(n),this.formView.buildForm(),this.currentForm=e,this.formView.buildView(y.viewHandler.chatContainer.documentRef),i.innerHTML="",i.appendChild(this.formView.elementReferrer),i.style.display="block",this.attachEventListeners(),this.formView.addPlaceholderHandler(),A||(n.resize?(i.style.height=n.resize,i.style.top="auto"):(i.style.height="auto",i.style.top="45px")),y.eventHandler.listen(f,"resize",function(){t.resize()},"windowresizeform"),this.resize(),q.redraw(i),y.eventEmitter.emit("formOpened"))},Be.prototype.showOfflineOverlay=function(e){y.viewHandler.chatContainer.getElementById("formContainer").className+=" success"},Be.prototype.resize=function(){var e,t,i,n,a;null!==this.formView&&A&&(n=y.viewHandler.chatContainer.getElementById("formContainer"),i=y.viewHandler.chatContainer.getElementById("formInnerHeight"),a=y.viewHandler.chatContainer.getElementById("topBarContainer"),n&&(e=q.getElementsByClassName(n,"formMessageField"),t=q.getElementsByClassName(n,"longFormContainer"),e&&e.length&&t&&t.length&&(longFormBottomContainerHeight=q.getElementsByClassName(n,"longFormBottomContainer")[0].clientHeight,t[0].style.height=y.viewHandler.iframeContainer.clientHeight-a.clientHeight-longFormBottomContainerHeight+"px"),!i||"android"!==A&&"android2"!==A&&"android2.3"!==A||(i.style.overflow="hidden",y.viewHandler.addOverflowScroll(i))))},Be.prototype.closeForm=function(){var e=y.viewHandler.chatContainer.getElementById("formContainer"),t=y.viewHandler.chatContainer.getElementById("submitWrapper");e&&this.formView&&this.currentForm&&(this.formView=null,this.currentForm="",e.innerHTML="",e.style.display="none",e.className.substring("success",""),t&&(t.className=""),y.eventEmitter.emit("formClosed"))},Be.prototype.attachEventListeners=function(){var r=this,e=this.formView.formData,t=y.viewHandler.chatContainer.getElementById("formCancel"),i=y.viewHandler.chatContainer.getElementById("formSubmit"),n=y.viewHandler.chatContainer.getElementById("formCloseChat"),a=y.viewHandler.chatContainer.getElementById("resendButton"),o=this.formView.formData.fields||[];if(this.formView.formData.dynamicFields&&(o=this.formView.formData.dynamicFields),t&&y.eventHandler.listen(t,y.viewHandler.clickEvent,function(){r.closeForm()},"formcancelclick"),i&&y.eventHandler.listen(i,y.viewHandler.clickEvent,function(){r.submitForm()},"formsubmitclick"),n&&y.eventHandler.listen(n,y.viewHandler.clickEvent,function(){y.viewHandler.maximizedWidget?(y.viewHandler.maximizedWidget.container.hide(),y.viewHandler.isMaximized=!1,y.viewHandler.show()):y.main.hideWidget()},"formcloseclick"),a&&y.eventHandler.listen(a,y.viewHandler.clickEvent,function(){y.viewHandler.chatContainer.getElementById("submitWrapper").className=y.viewHandler.chatContainer.getElementById("submitWrapper").className.substring("visible",""),y.viewHandler.chatContainer.getElementById("formContainer").className=y.viewHandler.chatContainer.getElementById("formContainer").className.substring("success","")},"resendButtonClick"),o.forEach(function(t){if(!t.disabled){var i=y.viewHandler.chatContainer.getElementById(t.fieldName+"Field"),n=y.viewHandler.chatContainer.getElementById(t.fieldName+"FieldError"),a=y.languageParser.translate("form",t.languageKey+"Placeholder"),o=y.viewHandler.chatContainer.getElementById(t.fieldName+"FieldValid");if(i){if(t.instantValidation)if(-1===(" "+i.parentNode.className+" ").indexOf("valid")&&-1===(" "+i.parentNode.className+" ").indexOf("error")){var e=i.value;(e=a===e?null:q.trim(e))&&(r[t.validation](e,t.valueMaxLength,t.isRequired)?(n.innerHTML="",n.style.display="none",i.parentNode.className+=" valid",o&&(o.style.display="block")):(n.innerHTML=y.languageParser.translate("form",t.languageKey+"ErrorMessage"),n.style.display="block",i.parentNode.className+=" error"))}else i.parentNode.className=i.parentNode.className.replace(" valid",""),i.parentNode.className=i.parentNode.className.replace(" error","");"textarea"!==i.nodeName.toLowerCase()&&y.eventHandler.listen(i,"keypress",function(e){13===e.keyCode&&r.submitForm()},"formkeypress"+t.fieldName),"options"===t.type&&t.instantValidation&&(i.parentNode.style.paddingRight="15px",y.eventHandler.listen(i,"change",function(e){e=a===i.value?null:q.trim(i.value),e=r[t.validation](e,t.valueMaxLength,t.isRequired),i.parentNode.className=i.parentNode.className.replace(" error",""),e?(n.innerHTML="",n.style.display="none",-1===(" "+i.parentNode.className+" ").indexOf("valid")&&(i.parentNode.className+=" valid",-1<(" "+i.parentNode.className+" ").indexOf("other-fix")&&(i.parentNode.style.paddingRight="0px")),o&&(o.style.display="block")):(n.innerHTML=y.languageParser.translate("form",t.languageKey+"ErrorMessage"),n.style.display="block",i.parentNode.className+=" error",i.parentNode.className=i.parentNode.className.replace(" valid",""),o&&(o.style.display="none"))},"formselectchange"+t.fieldName)),y.eventHandler.listen(i,"keydown",function(e){setTimeout(function(){var e;t.instantValidation?(e=a===i.value?null:q.trim(i.value),e=r[t.validation](e,t.valueMaxLength,t.isRequired),i.parentNode.className=i.parentNode.className.replace(" error",""),e?(n.innerHTML="",n.style.display="none",-1===(" "+i.parentNode.className+" ").indexOf("valid")&&(i.parentNode.className+=" valid"),o&&(o.style.display="block")):(n.innerHTML=y.languageParser.translate("form",t.languageKey+"ErrorMessage"),n.style.display="block",i.parentNode.className+=" error",i.parentNode.className=i.parentNode.className.replace(" valid",""),o&&(o.style.display="none"))):""!==n.innerHTML&&(n.innerHTML="",n.style.display="none",i.parentNode.className=i.parentNode.className.replace(" error",""))},1)},"formkeydown"+t.fieldName)}}}),e.otherEvent){var s=e.otherEvent;(e=y.viewHandler.chatContainer.getElementById(s.elementName))&&y.eventHandler.listen(e,s.eventName,function(e){s.executedFunc()},"formother")}},Be.prototype.submitForm=function(){var i,n=this,e=y.viewHandler.chatContainer.getElementById("formSubmit"),t=y.viewHandler.chatContainer.getElementById("formCancel"),a=y.viewHandler.chatContainer.getElementById("formCloseChat"),o=y.viewHandler.chatContainer.getElementById("submitWrapper");if(o.innerHTML='<p id="submitWrapperMessage">'+y.languageParser.translate("form","SubmittingProcess")+'</p><div id="submitWrapperIcon"></div>',o.className="visible",null===(i=this.validateForm()))o.className="";else{if(e.setAttribute("disabled","disabled"),t&&t.setAttribute("disabled","disabled"),a&&a.setAttribute("disabled","disabled"),this.formView.formData.publish)return y.socketManager.sendToConnector(this.formView.formData.publish,i,function(e,t){i.serverData=t,n.handleAfterSave(e,i)});if(this.formView.formData.saveFunc)try{y.eventEmitter.emit(this.formView.formData.saveFunc,i,function(e,t){i.serverData=t,n.handleAfterSave(e,i)})}catch(e){n.handleAfterSave(!0),u.handleError("Unable to emit form handler save func : "+this.formView.formData.saveFunc+" with data : "+$_TAWK_JSON.stringify(i),e.fileName,e.lineNumber,e.stack)}}},Be.prototype.handleAfterSave=function(e,t){var i,n,a,o;if(y&&y.formHandler.formView&&y.formHandler.formView.formData){if(i=y.formHandler.formView.formData.afterSave,n=y.viewHandler.chatContainer.getElementById("formSubmit"),a=y.viewHandler.chatContainer.getElementById("formCancel"),o=y.viewHandler.chatContainer.getElementById("formCloseChat"),y.viewHandler.chatContainer.getElementById("submitWrapper"),n.removeAttribute("disabled"),a&&a.removeAttribute("disabled"),o&&o.removeAttribute("disabled"),e)return this.updateFormStatus(e);i&&i(t),this.formView.formData.dontCloseForm?this.updateFormStatus():this.closeForm()}},Be.prototype.updateFormStatus=function(e){var t,i,n;y.viewHandler.chatContainer&&(t=y.viewHandler.chatContainer.getElementById("formSavingStatus"),i=y.viewHandler.chatContainer.getElementById("savingStatus"),n=y.viewHandler.chatContainer.getElementById("submitWrapper"),t&&i?e?(t.className="errorMessage",i.innerHTML=y.languageParser.translate("form","errorSaving"),(e=q.getElementsByClassName(y.viewHandler.chatContainer.documentRef,"longFormContainer")).length&&(e[0].scrollTop=999999999999)):(t.className="",i.innerHTML=y.languageParser.translate("form","saved")):this.currentForm&&"offlineForm"===this.currentForm?e?(n.className="visible",n.innerHTML="<p>"+y.languageParser.translate("form","OfflineMessageNotSent")+"</p>",setTimeout(function(){n.className=""},3e3)):(n.className="",this.clearForm()):n.className="")},Be.prototype.validateForm=function(){var e,o={},r=0,s=this;if(this.formView)return e=this.formView.formData.fields||[],this.formView.formData.dynamicFields&&(e=this.formView.formData.dynamicFields),e.forEach(function(i){var e,n,t,a;"additionalQuestion"===i.fieldName&&i.getValue&&q.isArray(i.getValue())?(o.additionalQuestion={},i.getValue().forEach(function(e,t){(n=y.viewHandler.chatContainer.getElementById(i.fieldName+t))&&(o.additionalQuestion[t]=e===n.value?null:q.trim(n.value))})):"choice"===i.fieldType||"option"===i.fieldType?(a=y.viewHandler.chatContainer.documentRef.getElementsByName(i.fieldName+"group"),t=y.viewHandler.chatContainer.getElementById(i.fieldName+"FieldError"),e=y.viewHandler.chatContainer.getElementById(i.fieldName+"Container"),a="choice"===i.fieldType?s.getSelectedCheckbox(a,i.isRequired):s.getSelectedRadio(a,i.isRequired),t.innerHTML="",t.style.display="none",e.className=e.className.replace("error",""),null===a?(r++,a=!1,t.innerHTML=y.languageParser.translate("form",i.languageKey+"ErrorMessage"),t.style.display="block",e.className+=" error"):o[i.fieldName]=a):(n=y.viewHandler.chatContainer.getElementById(i.fieldName+"Field"),t=y.viewHandler.chatContainer.getElementById(i.fieldName+"FieldError"),n&&(e=i.placeholderText===n.value?null:q.trim(n.value),a=s[i.validation](e,i.valueMaxLength,i.isRequired),t.innerHTML="",t.style.display="none",n.parentNode.className=n.parentNode.className.replace("error",""),a?o[i.fieldName]=e:(r++,t.innerHTML=y.languageParser.translate("form",i.languageKey+"ErrorMessage"),t.style.display="block",n.parentNode.className+=" error")))}),0<r?null:o},Be.prototype.isValidString=function(e,t,i){return!i&&!e||!(!e||!q.isString(e)||t&&!(t&&e.length<=t))},Be.prototype.isValidEmail=function(e,t,i){return!i&&!e||!!(e&&q.isEmail(e)&&q.isString(e)&&e.length<=t)},Be.prototype.isValidDepartment=function(e,t,i){var n;if(t=D.departments,!(i||e&&"0"!==e))return!0;for(n in t)if(t[n].did===e)return!0;return!1},Be.prototype.getSelectedCheckbox=function(e,t){for(var i=[],n=0,a=e.length;n<a;n++)e[n].checked&&i.push(e[n].value);return!i.length&&t?null:i},Be.prototype.getSelectedRadio=function(e,t){for(var i="",n=0,a=e.length;n<a;n++)if(e[n].checked){i=e[n].value;break}return!i&&t?null:i},Be.prototype.isValidPhone=function(e,t,i){return!i&&!e||("+"===e.charAt(0)&&(e=e.replace("+","")),!!(e.length&&7<=e.length&&e.match(/[0-9]/im)))},Be.prototype.handlePrechatForm=function(e){(e=q.getDepartmentStatus(e.department)).isOnline||y.viewHandler.notifiyDepartmentIsNotOnline(e.name,e.status),y.formHandler.formView.formData.dontCloseForm=!1},Be.prototype.handleChatEnded=function(e){y.formHandler.formView.formData.dontCloseForm=!1,y.chatHandler.endChat(e.serverData.chatEndVersion)},Be.prototype.clearForm=function(){var e=this.formView.formData.fields||[];this.formView.formData.dynamicFields&&(e=this.formView.formData.dynamicFields),e.forEach(function(e,t){var i;if("name"!==e.fieldType&&"email"!==e.fieldType&&"department"!==e.fieldType)if("choice"===e.fieldType||"option"===e.fieldType)for(var n=0,a=(i=y.viewHandler.chatContainer.documentRef.getElementsByName(e.fieldName+"group")).length;n<a;n++)i[n].checked=!1;else(i=y.viewHandler.chatContainer.getElementById(e.fieldName+"Field"))&&(i.value="","choice"===e.fieldType||"option"===e.fieldType||z||(i.value=e.placeholderText))})};var Ne=TawkClass.extend({init:function(){var t=this,e=P.minimizedDimensions().width,i=P.minimizedDimensions().height;this.shown=this.inDocument=!1,P.isDesktopRectangle()?(this.frameHeight=i+"px",this.frameWidth=e+"px",this.container=new Ce(q.getRandomName(),q.getGenericStyle({zindex:"1000001",position:"fixed",bottom:"0px",display:"none",height:this.frameHeight,width:this.frameWidth,maxheight:this.frameHeight,maxwidth:this.frameWidth,minheight:"40px",minwidth:"126px"}),Y,"iframe"),this.container.template=w["tawkchat-minified-iframe-element-rectangle"],this.chatIndicator=new Ce(q.getRandomName(),q.getGenericStyle({zindex:"1000003",margin:"0px",width:this.frameWidth,height:"37px",position:"fixed",display:"none",bottom:i+"px",left:"100%",maxheight:"37px",maxwidth:this.frameWidth,minheight:"37px",minwidth:this.frameWidth}),Y,"iframe")):(this.frameHeight="66px",this.frameWidth="62px",this.container=new Ce(q.getRandomName(),q.getGenericStyle({zindex:"1000001",position:"fixed",bottom:"0px",display:"none",height:this.frameHeight,width:this.frameWidth,maxheight:this.frameHeight,maxwidth:this.frameWidth,minheight:this.frameHeight,minwidth:this.frameWidth}),Y,"iframe"),this.container.template=w["tawkchat-minified-iframe-element-round"],this.chatIndicator=new Ce(q.getRandomName(),q.getGenericStyle({zindex:"1000003",margin:"0px",width:"60px",height:"22px",position:"fixed",display:"none",bottom:"57px",left:"100%",maxheight:"22px",maxwidth:"60px",minheight:"22px",minwidth:"60px"}),Y,"iframe")),this.bubbleContainer=new Ce(q.getRandomName(),q.getGenericStyle({zindex:"1000000",width:"146px",height:"85px",position:"fixed",display:"none",bottom:i+2+"px",right:"20px",maxheight:"85px",maxwidth:"146px",minheight:"85px",minwidth:"146px"}),Y,"iframe"),i-6<36&&(this.agentDetails="tawkchat-agent-details"),P.minimizedDimensions.subscribe(function(e){t.frameHeight=e.height+"px",t.frameWidth=e.width+"px",t.widgetDimensionsUpdated()}),D.pageStatus.subscribe(function(e){t.updateGreetings(e),t.updateStatus(e)}),D.chatBubbleClosed.subscribe(function(e){t.bubbleContainer.clear()}),P.chatBubble.subscribe(function(){t.bubbleSettingsChanged()}),P.isRTL.subscribe(function(){t.bubbleSettingsChanged()}),P.desktopWidget.subscribe(function(){e=P.minimizedDimensions().width,i=P.minimizedDimensions().height,"min"===P.desktopWidget()?(t.frameHeight="66px",t.frameWidth="62px",t.container.template=w["tawkchat-minified-iframe-element-round"],t.container.massRestyle({zindex:"1000001",position:"fixed",bottom:"0px",display:"none",height:t.frameHeight,width:t.frameWidth,maxheight:t.frameHeight,maxwidth:t.frameWidth,minheight:t.frameHeight,minwidth:t.frameWidth}),t.chatIndicator.massRestyle({zindex:"1000003",margin:"0px",width:"60px",height:"22px",position:"fixed",display:"none",bottom:"57px",left:"100%",maxheight:"22px",maxwidth:"60px",minheight:"22px",minwidth:"60px"}),t.bubbleContainer=null):(t.frameHeight=i+"px",t.frameWidth=e+"px",t.container.template=w["tawkchat-minified-iframe-element-rectangle"],t.container.massRestyle({zindex:"1000001",position:"fixed",bottom:"0px",display:"none",height:t.frameHeight,width:t.frameWidth,maxheight:t.frameHeight,maxwidth:t.frameWidth,minheight:"40px",minwidth:"126px"}),t.chatIndicator.massRestyle({zindex:"1000003",margin:"0px",width:t.frameWidth,height:"37px",position:"fixed",display:"none",bottom:i+"px",left:"100%",maxheight:"37px",maxwidth:t.frameWidth,minheight:"37px",minwidth:t.frameWidth})),i-6<36&&(t.agentDetails="tawkchat-agent-details"),t.buildView(),t.updateStatus()})},buildView:function(){this.container&&(this.chatIndicator.buildIframe(y.MinifiedStyle+P.minStyle()),q.getElementsByTagName(this.chatIndicator.documentRef,"body")[0].innerHTML=w["tawkchat-chat-indicator"],this.container.buildIframe(y.MinifiedStyle+P.minStyle()),this.bubbleContainer&&(P.chatBubble()&&this.bubbleContainer.elementReferrer?this.bubbleContainer.buildIframe(y.MinifiedStyle+P.minStyle()):this.bubbleContainer.clear()),this.widgetDimensionsUpdated(),this.updateGreetings(),this.attachEvents(),this.inDocument=!0)},attachEvents:function(){this.container&&(this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){"max"===P.onClickAction?(y.viewHandler.userAction=!0,y.sessionHandler.notifyWindowState("max")):y.viewHandler.popoutWidget(),y.eventHandler.cancelEvent(e)},"tawkchat-minified-wrapper","minifiedclick"),this.container.attachUserEventListener("mousedown",function(e){y.viewHandler.lastFocusedElement=f.document.activeElement},"tawkchat-minified-wrapper","minifiedWidgetMouseDown"),this.attachBubbleEvents())},createCanvasChatBubble:function(){},createVMLChatBubble:function(){}});Ne.prototype.updateStatus=function(e){var t;if(e||(e=D.pageStatus()),this.container&&e){(t=this.container.getElementById("tawkchat-status-icon"))&&(t.className=e),(t=this.container.getElementById("tawk-minified-mobile-text"))&&(t.innerHTML="online"===e||"away"===e?"Chat":"Mail");try{y.eventEmitter.emit("resizeIframeHeight")}catch(e){u.handleError("Unable to emit resizeIframeHeight",e.fileName,e.lineNumber,e.stack)}}},Ne.prototype.attachBubbleEvents=function(){P.isDesktopRectangle()&&this.bubbleContainer&&this.bubbleContainer.attachUserEventListener(y.viewHandler.clickEvent,y.sessionHandler.closeBubble,"tawkchat-chat-bubble-close","bubblecloseclick")},Ne.prototype.hide=function(){this.container&&(this.shown=!1,this.container.restyle("display","none !important"),this.toggleBubble())},Ne.prototype.show=function(){this.container&&(this.shown=!0,this.container.restyle("display","block !important"),this.toggleBubble())},Ne.prototype.widgetDimensionsUpdated=function(){this.container&&(minWidth=P.minimizedDimensions().width,minHeight=P.minimizedDimensions().height,this.container.massRestyle({height:minHeight+"px !important","min-height":minHeight+"px !important","max-height":minHeight+"px !important",width:minWidth+"px !important","min-width":minWidth+"px !important","max-width":minWidth+"px !important"}),this.widgetPositonChanged(),this.bubbleSettingsChanged(),this.calculateIndicatorPositioning())},Ne.prototype.bubbleSettingsChanged=function(){var e=P.chatBubble();if(!e&&this.bubbleContainer)return this.bubbleContainer.clear();y&&y.viewHandler&&y.viewHandler.iframeContainer&&y.viewHandler.iframeContainer.elementReferrer&&P.isDesktopRectangle()&&(e&&(e.type&&"default"!==e.type||this.bubbleContainer.elementReferrer&&this.bubbleContainer.insertCssFile(".bubble-text-color{color:"+(P.chatBubble()?P.chatBubble().fgc:"#ffffff")+";}",!0),e&&!this.bubbleContainer.elementReferrer&&(y.viewHandler.iframeContainer.elementReferrer.appendChild(this.bubbleContainer.buildView()),this.bubbleContainer.buildIframe(y.MinifiedStyle+P.minStyle()))),this.createBubble(),this.attachBubbleEvents())},Ne.prototype.updateGreetings=function(e){var t;e||(e=D.pageStatus()),this.container&&e&&(t=this.container.getElementById("short-message"))&&(null!==(e=l.getShortMessage(e))&&(t.innerHTML=e))},Ne.prototype.clear=function(){this.container.clear(),this.container=null},Ne.prototype.widgetPositonChanged=function(){var e,t="",i=N&&B<10,n={};P.isCenterPositioned()?(e=P.isDesktopRectangle()?-.5*P.minimizedDimensions().width+.5*P.minimizedDimensions().height+"px !important":"15px !important",P.isRightPositioned()?(t="center right",P.isDesktopRectangle()&&(n=q.getRotateStyling("-90","50%")),n.right=e,n.left="auto !important",i&&(n.right=P.minimizedDimensions().height-P.minimizedDimensions().width+"px !important",n.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)")):(t="center left",P.isDesktopRectangle()&&(n=q.getRotateStyling("90","50%")),n.left=e,n.right="auto !important",i&&(n.left="0px !important",n.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=1)")),n.top="50% !important",n.bottom="auto !important",n.margin=i?-.5*P.minimizedDimensions().width+"px 0 0 0 !important":-.5*P.minimizedDimensions().height+"px 0 0 0 !important"):((n=q.getRotateStyling("0","0")).margin="0px !important",t=P.isTopPositioned()?(n.top=P.isDesktopRectangle()?"0 !important":"15px !important",n.bottom="auto !important"," top "):(n.top="auto !important",n.bottom=P.isDesktopRectangle()?"0 !important":"10px !important"," bottom "),P.isRightPositioned()?(t+=" right ",n.right=P.isDesktopRectangle()?"10px !important":"15px !important",n.left="auto !important"):(t+=" left ",n.left=P.isDesktopRectangle()?"10px !important":"15px !important",n.right="auto !important"),i&&(n.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=0)")),this.container.documentRef.body.className=t+" "+(P.isDesktopRectangle()?"rectangle":"round"),this.container.massRestyle(n)},Ne.prototype.createBubble=function(){var e;this.bubbleContainer&&this.bubbleContainer.elementReferrer&&!P.hideWidget&&P.chatBubble&&!D.chatBubbleClosed()&&(P.chatBubble().type&&"default"!==P.chatBubble().type?this.createImageBubble():this.createDefaultBubble(),e=this.bubbleContainer.getElementById("tawkchat-chat-bubble-close"),this.bubbleContainer.attachUserEventListener("mouseover",function(){e&&(e.style.visibility="visible")},null,"bubbleHover"),this.bubbleContainer.attachUserEventListener("mouseout",function(){e&&(e.style.visibility="hidden")},null,"bubbleOut"),this.bubbleContainer.attachUserEventListener(y.viewHandler.clickEvent,function(e){"max"===P.onClickAction?(y.viewHandler.userAction=!0,y.sessionHandler.notifyWindowState("max")):y.viewHandler.popoutWidget(),y.eventHandler.cancelEvent(e)},"bubble-image","bubbleContainerClick"),this.toggleBubble())},Ne.prototype.calculateBubblePositioning=function(e,t,i,n,a,o,r){var s=P.minimizedDimensions().width;P.minimizedDimensions();var l={};q.getElementsByTagName(this.bubbleContainer.documentRef,"body");var c,d=N&&B<10;P.isCenterPositioned()?(c=d&&0!==o?-.5*e:-.5*t,centerPosition=0===o?(s=.5*(s-t),i+"px !important"):(s=.5*(s-e),-1*(.5*(e-t)-i)+"px !important"),l=q.getRotateStyling(o,"49%"),P.isRightPositioned()?(l.right=centerPosition,l.left="auto !important",d&&0!==o&&(l.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)",l.right=i-(e-t)+"px !important")):(l.left=centerPosition,l.right="auto !important",d&&0!==o&&(l.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=1)",l.left=i+"px !important")),l.top="50% !important",l.bottom="auto !important",o=c-s+n):(l=q.getRotateStyling("0","0"),o="0",P.isTopPositioned()?(l.top=n+"px !important",l.bottom="auto !important",r+=" top "):(l.bottom=n+"px !important",l.top="auto !important",r+=" bottom "),P.isRightPositioned()?(l.right=i+"px !important",l.left="auto !important",r+=" right "):(l.left=i+"px !important",l.right="auto !important",r+=" left "));l.width=e+"px !important",l["max-width"]=e+"px !important",l["min-width"]=e+"px !important",l.height=t+"px !important",l["max-height"]=t+"px !important",l["min-height"]=t+"px !important",l["z-index"]=(0===a?"1000000":"1000002")+" !important",l.margin=o+"px 0 0 0 !important",this.bubbleContainer.massRestyle(l),this.bubbleContainer.documentRef.body.className+=r},Ne.prototype.createDefaultBubble=function(){var e,t,i,n=0;e=0,e=!!document.createElement("canvas").getContext;var a=" default ";t=N&&B<9,(e||t)&&((t=q.getElementsByTagName(this.bubbleContainer.documentRef,"body")[0]).innerHTML=w["tawkchat-chat-bubble-canvas"],e?this.createCanvasChatBubble():this.createVMLChatBubble(),(e=this.bubbleContainer.getElementById("tawkchat-chat-bubble-text")).innerHTML=P.chatBubble().txt,e.style.color=P.chatBubble().fgc,e=P.isCenterPositioned()?(P.isRightPositioned()?(i=-90,n-=10,P.isRTL()&&(n=P.minimizedDimensions().width-146)):(i=90,n=P.minimizedDimensions().width-146+10,P.isRTL()&&(n=0)),P.minimizedDimensions().height+2):(n=P.minimizedDimensions().height+2,!P.isRightPositioned()&&!P.isRTL()||P.isRightPositioned()&&P.isRTL()?P.minimizedDimensions().width-146+16:0),P.isRTL()&&(a+=" rtl-direction"),this.calculateBubblePositioning(146,85,e,n,0,i,a))},Ne.prototype.createImageBubble=function(){var e,t,i;i=q.getElementsByTagName(this.bubbleContainer.documentRef,"body")[0];var n=P.chatBubble(),a=n.height+16;t="gallery"===n.type?(e=" gallery ","https://static-v.tawk.to/a-v3-39/images/bubbles/"+n.name+".png"):(e=" upload ","https://tawk.link/"+P.chatBubble().name),i.innerHTML=q.escapeTemplateReplacement(w["tawkchat-chat-bubble-gallery"],[{placeholder:"__IMAGE_SRC__",textReplace:t}]),P.isTopPositioned()||P.isCenterPositioned()?(t=n.topOffset,P.isCenterPositioned()&&0===n.rotate&&(t-=16)):t=n.bottomOffset,i=P.isRightPositioned()?n.rightOffset:n.leftOffset,P.isCenterPositioned()&&0!==n.rotate&&(i="gallery"===n.type?i-3:i+2),this.calculateBubblePositioning(n.width,a,i,t,n.zIndex,n.rotate,e)},Ne.prototype.toggleBubble=function(){P.chatBubble&&this.bubbleContainer&&this.bubbleContainer.elementReferrer&&(this.shown&&"offline"!==D.pageStatus()?this.bubbleContainer.restyle("display","block !important"):this.bubbleContainer.restyle("display","none !important"))},Ne.prototype.agentBarChanged=function(e){var t,i,n,a,o,r,s,l={};P.hideWidget||(this.container.massRestyle({height:e+"px !important","min-height":e+"px !important","max-height":e+"px !important"}),r=N&&B<10,closeIconWidth=16,minWidth=P.minimizedDimensions().width,minHeight=P.minimizedDimensions().height,t=P.chatBubble(),i=e-minHeight,s=t.rotate,t.type&&"default"!==t.type?(n=t.topOffset,a=t.bottomOffset,bubbleWidth=t.width,bubbleContainerHeight=t.height+closeIconWidth,o=P.isRightPositioned()?t.rightOffset:t.leftOffset):(bubbleWidth=146,bubbleContainerHeight=85,P.isCenterPositioned()?(o=minHeight+2,s=P.isRightPositioned()?-90:90):(n=minHeight+2,a=minHeight+2,o=P.isRightPositioned()?0:minWidth-bubbleWidth+closeIconWidth)),P.isCenterPositioned()&&P.isDesktopRectangle()?(n=-.5*minWidth+.5*e+"px !important",o+=i,i=0===s?o+"px !important":-1*(.5*(bubbleWidth-bubbleContainerHeight)-o)+"px !important",P.isRightPositioned()?(this.container.restyle("right",n),this.chatIndicator.restyle("right",-.5*minWidth+18.5+e+"px !important"),l.right=i,r&&(this.container.restyle("right",e-minWidth+"px !important"),this.chatIndicator.restyle("right",37-minWidth+e+"px !important"),0!==s&&(l.right=o-(bubbleWidth-bubbleContainerHeight)+"px !important"))):P.isCenterPositioned()||(this.container.restyle("left",n),this.chatIndicator.restyle("left",-.5*minWidth+18.5+e+"px !important"),l.left=i,r&&(this.container.restyle("left","0px !important"),this.chatIndicator.restyle("left",37-minWidth+e+"px !important"),0!==t.rotate&&(l.left=o+"px !important"))),r?this.container.restyle("margin",-.5*minWidth+"px 0 0 0 !important"):this.container.restyle("margin",-.5*e+"px 0 0 0 !important")):!P.isCenterPositioned()&&P.isDesktopRectangle()&&(P.isTopPositioned()?(this.chatIndicator.restyle("top",e+"px !important"),l.top=n+i+"px !important"):(this.chatIndicator.restyle("bottom",e+"px !important"),l.bottom=a+i+"px !important")),this.bubbleContainer&&this.bubbleContainer.elementReferrer&&P.chatBubble&&!D.chatBubbleClosed()&&this.bubbleContainer.massRestyle(l))},Ne.prototype.calculateIndicatorPositioning=function(){var e={},t=P.minimizedDimensions().width,i=P.isDesktopRectangle()?37:22;P.minimizedDimensions();var n=P.minimizedDimensions().height,a=P.isDesktopRectangle()?10:15,o="",r=N&&B<10;P.isCenterPositioned()?(centerPosition=(P.isDesktopRectangle()?-.5*t+.5*i+n:a)+"px !important",P.isRightPositioned()?(P.isDesktopRectangle()&&(e=q.getRotateStyling(-90,"49%")),e.right=centerPosition,e.left="auto !important",a="right",r&&(P.isDesktopRectangle()&&(e.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"),e.right=i-t+n+"px !important")):(P.isDesktopRectangle()&&(e=q.getRotateStyling(90,"49%")),e.left=centerPosition,e.right="auto !important",a="left",r&&(P.isDesktopRectangle()&&(e.filter="progid:DXImageTransform.Microsoft.BasicImage(rotation=1)"),e.left=n+"px !important")),P.isDesktopRectangle()?e.top="50% !important":(n=Math.max(document.documentElement.clientHeight,f.innerHeight||0),e.top=n/2-P.minimizedDimensions().width/2+3+"px !important"),e.bottom="auto !important",o+=" bottom "+a,e.margin=r?-.5*t+"px 0 0 0 !important":-.5*i+"px 0 0 0 !important"):(P.isTopPositioned()?(o+=" top ",e.top=(P.isDesktopRectangle()?n:10)+"px !important",e.bottom="auto !important"):(o+=" bottom ",e.top="auto !important",e.bottom=(P.isDesktopRectangle()?n:57)+"px !important"),P.isRightPositioned()?(o+=" right ",e.right=a+"px !important",e.left="auto !important"):(o+=" left ",e.left=a+"px !important",e.right="auto !important")),e.width=t+"px !important",e["max-width"]=t+"px !important",e["min-width"]=t+"px !important",e.height=i+"px !important",e["max-height"]=i+"px !important",e["min-height"]=i+"px !important",this.chatIndicator.documentRef.body.className+=" "+o+" "+(P.isDesktopRectangle()?"rectangle":"round"),this.chatIndicator.massRestyle(e)};var He=Ne.extend({init:function(){var e=this;this._super(this),y.eventEmitter.on("localeChanged",function(){e.setLinkTitle()}),P.isRTL.subscribe(function(){e.addClassName()})},buildView:function(){this._super(this),this.addClassName(),this.setLinkTitle()},attachEvents:function(){this.container&&this._super()},createCanvasChatBubble:function(){var e,t,i,n,a,o,r,s,l,c,d,p,h,m,g,u,f,b=5,v=P.chatBubble().bgc;(e=this.bubbleContainer.getElementById("tawkchat-chat-bubble-canvas"))&&(P.chatPosition(),e.width="146",e.height="85",(a=e.getContext("2d")).clearRect(0,0,134,63),a.fillStyle=v,n=P.isTopPositioned()?(o=68,h=(b=16)+3,p=81,g=!(m=6),e=1.1,t=1.9,i=1.6,.85):(o=b=6,h=b+63-3,p=55,m=79,g=!0,e=.9,t=.1,i=.4,1.15),P.isRTL()?(r=(f=10)+2,c=l=f-2,d=s=f+5,p=81,n=P.isTopPositioned()?(u=g,i=.2,1.45):(u=!g,i=.6,1.85)):(r=(f=2)+134-2,c=l=f+134+2,d=s=f+134-5,u=g),a.beginPath(),a.moveTo(f+8,b),a.lineTo(68,b),a.lineTo(f+134-8,b),a.quadraticCurveTo(f+134,b,f+134,b+8),a.lineTo(f+134,b+63-8),a.quadraticCurveTo(f+134,b+63,f+134-8,b+63),a.lineTo(f+8,b+63),a.quadraticCurveTo(f,b+63,f,b+63-8),a.lineTo(f,b+8),a.quadraticCurveTo(f,b,f+8,b),a.strokeStyle="#e3e0e7",a.lineWidth=2,a.stroke(),a.closePath(),a.fill(),a.beginPath(),a.arc(68,h,10,Math.PI*e,Math.PI*t,g),a.strokeStyle="#e3e0e7",a.lineWidth=2,a.stroke(),a.fill(),a.beginPath(),a.arc(p,m,5,0,2*Math.PI,!1),a.strokeStyle="#e3e0e7",a.lineWidth=2,a.stroke(),a.closePath(),a.fill(),a.beginPath(),a.arc(r,o+5,10,Math.PI*i,Math.PI*n,u),a.strokeStyle="#e3e0e7",a.lineWidth=2,a.stroke(),a.closePath(),a.fillStyle=v,a.fill(),a.beginPath(),a.moveTo(s,o+1.5),a.lineTo(l,o+8),a.closePath(),a.lineWidth=2,a.strokeStyle=P.chatBubble().fgc,a.stroke(),a.beginPath(),a.moveTo(c,o+1.5),a.lineTo(d,o+8),a.closePath(),a.lineWidth=2,a.strokeStyle=P.chatBubble().fgc,a.stroke())},createVMLChatBubble:function(){var e,t,i,n,a,o="",r=0,s=5,l=P.chatBubble().bgc,c=this.bubbleContainer.getElementById("tawkchat-chat-bubble-graphics-container");c&&(P.chatPosition(),this.bubbleContainer.documentRef.namespaces.add("v","urn:schemas-microsoft-com:vml","#default#VML"),e=P.isTopPositioned()?(s=15,70):s=5,a=P.isRTL()?(t="90px",i="0px",n=(r=10)-6+","+(e+1.5)+'" to="'+(r+2)+","+(e+8),r+2+","+(e+1.5)+'" to="'+(r-6)+","+(e+8)):(t="53px",i="123px",n=(r=0)+136-6+","+(e+1.5)+'" to="'+(r+136+2)+","+(e+8),r+136+2+","+(e+1.5)+'" to="'+(r+136-6)+","+(e+8)),o='<v:group style="left: 0px; width: 136px; height: 65px; position: absolute; top: 0px; antialias: true" coordsize = "136,65"><v:shape style="width: 136px; height: 65px; position: absolute;" coordorigin="0 0" coordsize="136 65"',o+='path="',o+="m"+(r+8)+","+s,o+="l"+(r+136-8)+","+s,o+="c"+(r+136-4)+","+s+","+(r+136)+","+(s+4)+","+(r+136)+","+(s+8),o+="l"+(r+136)+","+(s+65-8),o+="c"+(r+136)+","+(s+65-4)+","+(r+136-4)+","+(s+65)+","+(r+136-8)+","+(s+65),o+="l"+(r+8)+","+(s+65),o+="c"+(r+4)+","+(s+65)+","+r+","+(s+65-4)+","+r+","+(s+65-8),o+="l"+r+","+(s+8),o+="c"+r+","+(s+4)+","+(r+4)+","+s+","+(r+8)+","+s,o+='e x">',o+='<v:fill color="'+l+'"/>',o+='<v:stroke weight="2" opacity="0" color="'+l+'"/>',o+="</v:shape>",P.isTopPositioned()?(o+='<v:oval style="width:20px; height:20px; position: absolute; left: 65px; top: 9px;" fillcolor="'+l+'" strokeweight="0" strokecolor="'+l+'"> </v:oval>',o+='<v:oval style="width:10px;height:10px; position: absolute; left: '+t+'; top: 0px;" fillcolor="'+l+'" strokeweight="0" strokecolor="'+l+'"> </v:oval>'):(o+="<v:shape ",o+='style="width: 10px; height: 10px; position: absolute; left: 75px; top: 67px;" coordorigin="10 20" coordsize="10 10"',o+='path="',o+="M0,20",o+="C0,35, 25,35, 25,20",o+='e x">',o+='<v:fill color="'+l+'"/>',o+='<v:stroke weight="2" opacity="0" color="'+l+'"/>',o+="</v:shape>",o+='<v:oval style="width:10px;height:10px; position: absolute; left: '+t+'; top: 74px;" fillcolor="'+l+'" strokeweight="0" strokecolor="'+l+'"> </v:oval>'),o+='<v:oval style="width:20px;height:20px; position: absolute; left: '+i+"; top: "+(e-5)+'px;" fillcolor="'+l+'" strokeweight="0" strokecolor="'+l+'"> </v:oval>',o+='<v:line from="'+n+'" strokeweight="2" strokecolor="'+P.chatBubble().fgc+'"></v:line>',o+='<v:line from="'+a+'" strokeweight="2" strokecolor="'+P.chatBubble().fgc+'"></v:line>',o+="</v:group>",c.innerHTML=o)}});He.prototype.setLinkTitle=function(){this.container&&this.container.getElementById("maximizeChat").setAttribute("title",y.languageParser.translate("rollover","maximize"))},He.prototype.chatEnded=function(){var e=this.container.getElementById("tawkchat-minified-agent-container"),t=this.container.getElementById("tawkchat-status-text-container"),i=this.container.getElementById("tawkchat-minified-link-container");e&&t&&(e.innerHTML="",e.style.display="none",t.style.display="block",i.style.marginTop="0px")},He.prototype.addClassName=function(){var e;e=P.isRTL()?" rtl-direction":" ltr-direction",this.container&&this.container.elementReferrer&&(this.container.getElementById("tawkchat-minified-wrapper").className=q.getContrast(P.headerTxtColor)+e),this.chatIndicator&&this.chatIndicator.elementReferrer&&(this.chatIndicator.getElementById("tawkchat-chat-indicator").className=e)};var Re=TawkClass.extend({init:function(e,t){var i=this;this.inDocument=!1,this.maxNumberFileUpload=5,i.maxSizeFileUpload=52428800,this.frameWidth=P.maximizedDimensions().width+"px",this.frameHeight=P.maximizedDimensions().height+"px",this.container=P.isPopup?new ke(q.getRandomName(),"display: none;"):new Ce(q.getRandomName(),q.getGenericStyle({zindex:"999999",position:"static",display:"none",height:this.frameHeight,width:this.frameWidth}),Y,"iframe"),this.wrapper=new ke("tawkchat-maximized-wrapper"),this.wrapper.template=this.wrapper.template.replace(/__IE6__/gm,H?"ie6":""),y.MaximizedStyle=y.MaximizedStyle.replace(/#tawktoLink/g,"#"+e),y.MaximizedStyle=y.MaximizedStyle.replace(/#bottomContainer/g,"#"+t),this.wrapper.template=this.wrapper.template.replace(/__TAWK_TO_LINK__/gm,e),this.wrapper.template=this.wrapper.template.replace(/__BOTTOM_CONTAINER__/gm,t),this.wrapper.template=this.wrapper.template.replace("__TOO_LONG_MESSAGE__",y.languageParser.translate("chat","message_too_long")),N&&B<10&&this.wrapper.addClass("ie9"),this.chatTextarea=new ke("chatTextarea",null,null,"textarea"),this.container.addChildViews([this.wrapper]),P.maximizedDimensions.subscribe(function(e){P.isEmbedded||P.isPopup||(i.frameHeight=e.height+"px",i.frameWidth=e.width+"px",i.container.restyle("height",i.frameHeight+" !important"),i.container.restyle("width",i.frameWidth+" !important"))}),D.pageStatus.subscribe(function(e){i.updateGreetings(e)}),P.soundOn.subscribe(function(){i.toggleSound()}),y.eventEmitter.on("localeChanged",function(){i.container&&i.updateGreetings()}),P.isRTL.subscribe(function(){i.addClassName()}),O.name.subscribe(function(){if(!q.isGeneratedName(O.name()))for(var e=q.getElementsByClassName(i.container.documentRef,"messageOwnerName visitor"),t=0;t<e.length;t++)e[t].style.display="none"}),P.webRTCSettings.subscribe(function(){i.toggleWebRTCActions()})},buildView:function(){P.isPopup||this.container.buildIframe(y.MaximizedStyle+P.maxStyle(),!0),this.container.documentRef.getElementById("textareaContainer").appendChild(this.chatTextarea.buildView(this.container.documentRef)),P.isEmbedded||P.isPopup?this.restyleEmbed():"br"==P.chatPosition()?this.container.documentRef.body.className="right":this.container.documentRef.body.className="left",this.addClassName(),this.updateGreetings(),this.toggleSound(),this.attachEvents(),q.redraw(this.container.elementReferrer),be(this.container.documentRef),this.inDocument=!0,this.toggleWebRTCActions(),this.chatTextarea.elementReferrer.maxLength=5e3},attachEvents:function(){var l=this,t=this.container.documentRef.getElementById("emoji-selection-container"),i=this.container.documentRef.getElementById("tooLongMsgNotification");this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){y.eventHandler.cancelEvent(e),y.sessionHandler.notifyWindowState("min")},"minimizeChat","minlinkclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(){y.viewHandler.popoutWidget()},"popoutChat","poplinkclick"),this.chatTextarea.attachUserEventListener("keyup",function(e){i.className=this.value.length<5e3?"":"visible"},null,"chatinputkeyup"),this.chatTextarea.attachUserEventListener("keydown",function(e){if(13===e.keyCode){if(5e3<this.value.length)return void e.preventDefault();i.className=""}y.chatHandler.sendTextPreview(e)},null,"chatinputkeydown"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){var t=y.eventHandler.getTargetElement(e);-1!==t.className.indexOf("messageOwnerName")&&-1!==t.className.indexOf("visitor")&&(y.formHandler.openForm("nameForm"),y.eventHandler.cancelEvent(e))},"chatWrapper","chatWrapperclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){y.formHandler.openForm("emailTranscriptForm"),l.closeMenu(),y.eventHandler.cancelEvent(e)},"emailTranscriptOption","emailclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){y.chatHandler.changeRating(1),y.eventHandler.cancelEvent(e)},"ratePositive","ratepveclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){y.chatHandler.changeRating(-1),y.eventHandler.cancelEvent(e)},"rateNegative","ratenveclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){y.eventHandler.cancelEvent(e),y.chatHandler.toggleSound()},"soundOption","soundclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){y.eventHandler.cancelEvent(e),y.viewHandler.expandAgentList(e)},"expandableIcon","expandclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){var i=y.languageParser.translate("chat","video_call_error");q.getWebRTCToken(!0,!1,function(e,t){e&&y.viewHandler.appendMessage({senderType:"s",message:i,time:new Date,type:"n"})})},"videoCall","videoCallClick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){var t=y.languageParser.translate("chat","voice_call_error");q.getWebRTCToken(!1,!1,function(e){e&&y.viewHandler.appendMessage({senderType:"s",message:t,time:new Date,type:"n"})})},"voiceCall","voiceCallClick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){var t=y.languageParser.translate("chat","screen_share_error");q.getWebRTCToken(!1,!0,function(e){e&&y.viewHandler.appendMessage({senderType:"s",message:t,time:new Date,type:"n"})})},"screenShare","screenShareClick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){l.container.getElementById("maxFileNotificationContainer").classList.add("hidden")},"closeNumberNotification","closeNumberNotification"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){l.container.getElementById("maxSizeNotificationContainer").classList.add("hidden")},"closeSizeNotification","closeSizeNotification"),this.container.attachUserEventListener("mousedown",function(e){!(e=f.document.activeElement)||"input"!==e.tagName.toLowerCase()&&"textarea"!==e.tagName.toLowerCase()||(y.viewHandler.lastFocusedElement=e)},"innerWrapper","maximizedWidgetMouseDown"),this.container.attachUserEventListener("change",function(e){y.eventHandler.cancelEvent(e),l.closeMenu();var t=y.eventHandler.getTargetElement(e),i=0,n=0,a=[],o=[],r=function(){++n===i&&(t.value="")};if(void 0===f.FormData)l.container.getElementById("upload-form")[0].value&&(i=1,y.viewHandler.startUpload(l.container.getElementById("upload-form"),!0,r));else if((e=t.files)&&e.length){for(var s=0;s<e.length;s++)e[s].size>l.maxSizeFileUpload?a.push(e[s]):s>=l.maxNumberFileUpload?o.push(e[s]):y.viewHandler.startUpload(e[s],null,r);y.viewHandler.checkUploadFileWarning(a,o)}},"fileInput","fileInputChanged"),this.container.attachUserEventListener("click",function(e){e.preventDefault(),l.chatTextarea&&l.chatTextarea.elementReferrer&&l.chatTextarea.elementReferrer.focus()},"textareaContainer","textareaContainerClick"),this.container.attachUserEventListener("dragover",function(e){e.preventDefault(),e.stopPropagation&&e.stopPropagation(),l.wrapper.addClass("drag-over")},"innerWrapper","textareaContainerDragOver"),this.container.attachUserEventListener("dragleave",function(e){e.preventDefault(),e.stopPropagation&&e.stopPropagation(),l.wrapper.removeClass("drag-over")},"innerWrapper","textareaContainerDragLeave"),this.container.attachUserEventListener("dragend",function(e){e.preventDefault(),e.stopPropagation&&e.stopPropagation(),l.wrapper.removeClass("drag-over")},"innerWrapper","textareaContainerDragEnd"),this.container.attachUserEventListener("drop",function(e){e.preventDefault(),e.stopPropagation&&e.stopPropagation(),l.wrapper.removeClass("drag-over"),e=e.target.files||e.dataTransfer.files;var t=[],i=[],n=function(){0};if(e&&0!==e.length){for(var a=0;a<e.length;a++)e[a].size>l.maxSizeFileUpload?t.push(e[a]):a>=l.maxNumberFileUpload?i.push(e[a]):y.viewHandler.startUpload(e[a],null,n);y.viewHandler.checkUploadFileWarning(t,i)}},"innerWrapper","textareaContainerDrop"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){y.formHandler.openForm("nameForm"),l.closeMenu(),y.eventHandler.cancelEvent(e)},"changeNameOption","changenameclick"),this.container.attachUserEventListener("paste",function(e){var t,i=!1,n=null;if((t=(e.originalEvent||e).clipboardData)&&(t=t.items)&&t.length){for(var a=0;a<t.length;a++){if("text/plain"===t[a].type){i=!0;break}if(-1!==t[a].type.indexOf("image")){var o=t[a].getAsFile();null!==o&&((n=o).name=y.languageParser.translate("chat","pasted_image_title",{dateTime:q.parseChatTime(new Date)}))}}n&&!i&&(y.viewHandler.startUpload(n,null),e.preventDefault())}},"chatTextarea","chatTextareaPaste"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,"active"===l.container.getElementById("viewEmoji").className?l.closeEmojiSelection():(l.container.getElementById("viewEmoji").className="active",ye(t))},"viewEmoji","viewEmojiClick"),this.wrapper.attachUserEventListener(y.viewHandler.clickEvent,function(e){e=y.eventHandler.getTargetElement(e),"function"==typeof t.contains?t.contains(e)||l.closeEmojiSelection():q.isDescendent(t,e)&&l.closeEmojiSelection()},null,"maxWidgetClick"),this.wrapper.attachUserEventListener("keydown",function(e){27===e.keyCode&&l.closeEmojiSelection()},null,"maxWidgetKeydown"),this.chatTextarea.attachUserEventListener("keydown",function(e){l.resizeTextArea()},null,"chatinputkeyupresize"),this.chatTextarea.attachUserEventListener("change",function(e){l.resizeTextArea()},null,"chatinputchangeresize"),this.chatTextarea.attachUserEventListener("input",function(e){l.resizeTextArea()},null,"chatinputinputresize"),this.chatTextarea.attachUserEventListener("paste",function(e){y.chatHandler.sendTextPreview(e),l.resizeTextArea()},null,"chatinputpasteresize"),this.chatTextarea.attachUserEventListener("cut",function(e){y.chatHandler.sendTextPreview(e),l.resizeTextArea()},null,"chatinputcutresize")},toggleSound:function(){var e,t=this.container.getElementById("soundOption");t&&(e=t.getElementsByClassName?t.getElementsByClassName("tooltip")[0]:q.getElementsByClassName(t,"tooltip")[0]),t.className=P.soundOn()?"item activeSound":"item disabledSound",e&&(e.innerHTML=P.soundOn()?"Disable Sound":"Enable Sound")}});Re.prototype.hide=function(){this.container.restyle("display","none !important")},Re.prototype.show=function(){this.container.restyle("display","block !important")},Re.prototype.restyleEmbed=function(){var e=document.getElementById(g.embedded);if(this.wrapper.addClass("embedded"),this.container.getElementById("minimizeChat").outerHTML="",this.container.getElementById("popoutChat").outerHTML="",this.container.getElementById("endChat").setAttribute("title",y.languageParser.translate("rollover","end")),P.isEmbedded)return e?y.viewHandler.onEmbeddedWindowResize():void 0;P.isPopup&&this.wrapper.addClass("popout"),this.container.restyle("width","100% !important"),this.container.restyle("height","100% !important")},Re.prototype.updateGreetings=function(e){var t,i,n,a;this.container.elementReferrer&&((t=this.container.getElementById("drop-text"))&&(t.childNodes[0].innerHTML=y.languageParser.translate("chat","dragDropText")),(e=e||D.pageStatus())&&(t=this.container.getElementById("shortMessage"),i=this.container.getElementById("greetingsContainer"),t&&this.chatTextarea&&i&&(n=l.getShortMessage(e),a=l.getLongMessage(e),null!==n&&null!==a&&(t.innerHTML=n,i.innerHTML=a,"online"===e&&P.onlineGreeting&&(e=q.rawDecode(P.onlineGreeting.actionMessage),z?this.chatTextarea.elementReferrer.placeholder=e:(this.chatTextarea.elementReferrer.value=e,q.togglePlaceholderText(this.chatTextarea.elementReferrer,e,"chatTextarea")))))))},Re.prototype.addClassName=function(){this.wrapper&&this.wrapper.elementReferrer&&(P.isRTL()?(this.wrapper.addClass("rtl-direction"),this.wrapper.removeClass("ltr-direction")):(this.wrapper.addClass("ltr-direction"),this.wrapper.removeClass("rtl-direction")))},Re.prototype.toggleEndChatOption=function(e){var t;(t=P.isEmbedded||P.isPopup?this.container.getElementById("headerBoxControlsContainer"):this.container.getElementById("endChatOption"))&&(t.style.display=e?"block":"none")},Re.prototype.addEmojiToInput=function(e){z||this.chatTextarea.elementReferrer.value!==q.rawDecode(P.onlineGreeting.actionMessage)||(this.chatTextarea.elementReferrer.value=""),this.chatTextarea.elementReferrer.value+=e,this.chatTextarea.elementReferrer.focus(),this.closeEmojiSelection()},Re.prototype.closeEmojiSelection=function(){this.container.getElementById("viewEmoji").className="",this.container.getElementById("emoji-selection-container").style.display="none"},Re.prototype.resizeTextArea=function(){var e=this.chatTextarea.elementReferrer.value,t=this.chatTextarea.elementReferrer.scrollHeight,i=this.container.documentRef.getElementById("textareaContainer"),n=this.container.documentRef.getElementById("actionsContainer"),a=this.container.documentRef.getElementById("chatContainerWrapper"),o=y.viewHandler.ifScrollbarDown();e&&52<t?(t=150<t?150:t,i.style.height=t+"px",n.style.height=t+69+"px",a.style.bottom=t+73+"px",o&&y.viewHandler.scrollToBottom()):(i.style.height="52px",n.style.height="105px",a.style.bottom="109px")},Re.prototype.toggleWebRTCActions=function(){this.inDocument&&(P.webRTCSettings()&&P.webRTCSettings().en?(this.container.documentRef.getElementById("videoCall").style.display=P.webRTCSettings().v?"inline-block":"none",this.container.documentRef.getElementById("voiceCall").style.display="inline-block",this.container.documentRef.getElementById("screenShare").style.display=P.webRTCSettings().s?"inline-block":"none"):(this.container.documentRef.getElementById("videoCall").style.display="none",this.container.documentRef.getElementById("voiceCall").style.display="none",this.container.documentRef.getElementById("screenShare").style.display="none"))};var Me=Re.extend({init:function(){var i=this;this._super.apply(this,arguments),this.wrapper.template=this.wrapper.template.replace("__GREETINGS__",w.greetingsOverlay),y.eventEmitter.on("formClosed",function(){var e=i.container.getElementById("chatPanel");if(e)if(P.showPreChatForm&&!D.prechatFormSubmitted)y.formHandler.openForm("preChatForm");else if(e.style.display="block",y.viewHandler.newMessageNotSeen&&y.viewHandler.checkUnseenMessages(),!A&&i.container.getElementById("chatTextarea")&&"max"===D.chatWindowState()&&y.viewHandler.userAction){var t=q.getDocument(q.getDocument(f).getElementById(i.container.elementId));if(t&&t.getElementById("chatTextarea"))try{setTimeout(function(){t.getElementById("chatTextarea").focus()},0)}catch(e){}}}),y.eventEmitter.on("formOpened",function(){i.container&&i.container.getElementById("chatPanel")&&(i.container.getElementById("chatPanel").style.display="none")}),y.eventEmitter.on("localeChanged",function(){i.insertText(),i.setLinkTitle(),i.toggleSound()})},buildView:function(){this._super(this),this.container.documentRef.getElementById("chatTableWrapper").style.display="none",this.setLinkTitle(),this.insertText(),this.wrapper&&this.wrapper.addClass(q.getContrast(P.headerTxtColor)),this.attachEvents()},insertText:function(){var e;if(this.container){this.container.getElementById("tawkContent").innerHTML=y.languageParser.translate("overlay","tawkContent"),this.container.getElementById("cancelTawkRedirect").innerHTML=y.languageParser.translate("form","CancelButton"),this.container.getElementById("tawkRedirect").innerHTML=y.languageParser.translate("form","visitButton"),this.container.getElementById("emailTranscriptOption").childNodes[1].innerHTML=y.languageParser.translate("rollover","emailTranscriptOption"),this.container.getElementById("agentListLabel").innerHTML=y.languageParser.translate("menu","AgentList"),this.container.getElementById("maxFileNotificationMessage").innerHTML=y.languageParser.translate("notifications","maximum_file_upload_warning",{strongStart:"<strong>",strongEnd:"</strong>",limitFileNumber:"5"}),this.container.getElementById("maxSizeNotificationMessage").innerHTML=y.languageParser.translate("notifications","maximum_size_upload_warning",{strongStart:"<strong>",strongEnd:"</strong>",limitFileSize:"50mb"}),this.container.getElementById("videoCall").childNodes[1].innerHTML=y.languageParser.translate("rollover","videoCall"),this.container.getElementById("voiceCall").childNodes[1].innerHTML=y.languageParser.translate("rollover","voiceCall"),this.container.getElementById("screenShare").childNodes[1].innerHTML=y.languageParser.translate("rollover","screenShare"),e=q.getElementsByClassName(this.container.getElementById("chatContainer"),"closeNotification");for(var t=0;t<e.length;t++)e[t].innerHTML=y.languageParser.translate("form","CloseButton");e=this.container.getElementById("uploadFileOption"),q.isFileInputSupported?e.childNodes[1].innerHTML=y.languageParser.translate("rollover","uploadFile"):e.parentNode.removeChild(e)}},attachEvents:function(){var i=this,t=null;this.container.attachUserEventListener("scroll",function(e){null!==t&&clearTimeout(t),t=setTimeout(function(){!y.formHandler.currentForm&&y.viewHandler.newMessageNotSeen&&("max"===D.chatWindowState()||P.isEmbedded||P.isPopup)&&y.viewHandler.checkUnseenMessages()},300)},"chatContainer","chatScroll"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){P.whiteLabel()||(P.brandingRedirect()?f.open("https://ref.tawk.to/?utm_source=visitor-widget&utm_medium=link&utm_campaign=referral&utm_term="+L.pageId):i.container.getElementById("tawkToContent").style.display="block")},y.viewHandler.tawktoLinkName,"tawktoclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){i.container.getElementById("tawkToContent").style.display="none"},"cancelTawkRedirect","cancelTawkRedirectclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){i.container.getElementById("tawkToContent").style.display="none",f.open("https://www.tawk.to/?utm_source=visitor-widget&utm_medium=link&utm_campaign=referral&utm_term="+L.pageId)},"tawkRedirect","tawkRedirectClicn"),this.chatTextarea.attachUserEventListener("keydown",function(e){var t=y.eventHandler.getTargetElement(e);setTimeout(function(){t.value?(i.container.getElementById("ratingContainer").style.display="none",i.container.getElementById("textareaContainer").className=""):(i.container.getElementById("ratingContainer").style.display="block",i.container.getElementById("textareaContainer").className="additionalPadding")},0)},null,"chatinputfocus"),this.chatTextarea.attachUserEventListener("blur",function(e){y.eventHandler.getTargetElement(e).value||(i.container.getElementById("ratingContainer").style.display="block",i.container.getElementById("textareaContainer").className="additionalPadding")},null,"chatinputblur"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){y.formHandler.openForm("emailTranscriptForm"),i.closeMenu(),y.eventHandler.cancelEvent(e)},"emailTranscriptOption","emailclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){"preChatForm"!==y.formHandler.currentForm&&"offlineForm"!==y.formHandler.currentForm&&"consentForm"!==y.formHandler.currentForm&&"none"!==i.container.getElementById("chatTableWrapper").style.display&&y.chatHandler.isVisitorEngaged()?(y.formHandler.openForm("endChatForm"),y.eventHandler.cancelEvent(e)):(y.eventHandler.cancelEvent(e),y.sessionHandler.notifyWindowState("min"))},"endChat","endChatclick"),this._super(this)},toggleSound:function(){this._super(),this.container.getElementById("soundTitle").innerHTML=P.soundOn()?y.languageParser.translate("menu","sound_on"):y.languageParser.translate("menu","sound_off")}});Me.prototype.closeMenu=function(){},Me.prototype.setLinkTitle=function(){this.container&&(this.container.getElementById("ratePositive").setAttribute("title",y.languageParser.translate("rollover","positiveRating")),this.container.getElementById("rateNegative").setAttribute("title",y.languageParser.translate("rollover","negativeRating")),P.isEmbedded||P.isPopup||(this.container.getElementById("minimizeChat").setAttribute("title",y.languageParser.translate("rollover","minimize")),this.container.getElementById("popoutChat").setAttribute("title",y.languageParser.translate("rollover","popOut")),this.container.getElementById("endChat").setAttribute("title",y.languageParser.translate("rollover","end"))))},Me.prototype.chatEnded=function(){var e,t=this,i=this.container.getElementById("agentWrapper"),n=this.container.getElementById("endChat"),a=this.container.getElementById("agentBar"),o=this.container.getElementById("agentList"),r=this.container.getElementById("headerAccountStateContainer"),s=this.container.getElementById("chatContainerWrapper"),l=this.container.getElementById("agentProfileContainer"),c=this.container.getElementById("options");(e=new ke("chatEnded")).template=q.escapeTemplateReplacement(e.template,[{placeholder:"__CHAT_ENDED__",textReplace:y.languageParser.translate("chat","chatEnded")},{placeholder:"__START_CHAT__",textReplace:y.languageParser.translate("chat","newChat")},{placeholder:"__EMAIL_TRANCRIPT__",textReplace:y.languageParser.translate("rollover","emailTranscriptOption")}]),e.restyle("display","block"),this.container.getElementById("innerWrapper").appendChild(e.buildView()),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){y.formHandler.openForm("emailTranscriptForm"),t.closeMenu(),y.eventHandler.cancelEvent(e)},"emailTranscript","emailTranscript"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){t.chatStarted(),y.chatHandler.startNewChat()},"newChat","newChat"),i&&(i.style.display="none"),l&&(l.innerHTML=""),a&&(a.style.display="none"),o&&(o.innerHTML=""),r&&(r.style.display="block"),n&&(n.style.visibility="hidden"),s&&(s.className+=" chat-ended"),c&&(c.style.display="none")},Me.prototype.chatStarted=function(){var e=this.container.getElementById("chatEnded"),t=this.container.getElementById("endChat"),i=this.container.getElementById("chatContainerWrapper"),n=this.container.getElementById("options");e&&e.parentNode.removeChild(e),t&&(t.style.visibility="visible"),i&&(i.className=i.className.replace("chat-ended","")),n&&(n.style.display="block")};var Ae=Ie.extend({init:function(){var t=this,e=function(){t.dragElement&&(P.isRTL()?t.dragElement.massRestyle({left:"96px !important",right:"0px !important"}):t.dragElement.massRestyle({left:"0px ",right:"96px !important"}))};this._super(this),this.iframeXOffsetPosition=10,this.startY=this.startX=this.iframeYOffsetPosition=0,this.userAction=!1,this.dragElement=new ke(q.getRandomName(),q.getGenericStyle({height:"45px",top:"1px",backgroundcolor:"#fff",zindex:"999997",cursor:"move",opacity:"0"})+'width: expression(this.parentNode.offsetWidth - 306 + "px") !important;'),e(),this.overlayElement=new ke(null,q.getGenericStyle({left:"0px",top:"0px",zindex:"1000001",cursor:"move",width:"100%",height:"100%",display:"none",float:"left"})),this.iframeContainer=new ke(q.getRandomName(),q.getGenericStyle({display:"none",bottom:"0",minwidth:"0",minheight:"0",right:"10px",zindex:N&&B<9?"none":"2000000000",position:"fixed"})),this.resizeFromLeft=new ke(q.getRandomName(),q.getGenericStyle({height:"100%",left:"0px",right:"96px",top:"0px",zindex:"999998",cursor:"w-resize",width:"6px"})),this.resizeFromRight=new ke(q.getRandomName(),q.getGenericStyle({height:"100%",width:"6px",right:"0px",top:"0px",zindex:"999998",cursor:"e-resize"})),this.resizeFromTop=new ke(q.getRandomName(),q.getGenericStyle({height:"6px",width:"100%",right:"0px",top:"0px",zindex:"999998",cursor:"n-resize"})),this.resizeFromBottom=new ke(q.getRandomName(),q.getGenericStyle({height:"6px",width:"100%",right:"0px",bottom:"0px",zindex:"999998",cursor:"s-resize"})),this.resizeTopLeft=new ke(q.getRandomName(),q.getGenericStyle({height:"12px",width:"12px",left:"0px",top:"0px",zindex:"999998",cursor:"nw-resize"})),this.resizeTopRight=new ke(q.getRandomName(),q.getGenericStyle({height:"12px",width:"12px",right:"0px",top:"0px",zindex:"999998",cursor:"ne-resize"})),this.resizeBottomLeft=new ke(q.getRandomName(),q.getGenericStyle({height:"12px",width:"12px",bottom:"0px",left:"0px",zindex:"999998",cursor:"sw-resize"})),this.resizeBottomRight=new ke(q.getRandomName(),q.getGenericStyle({height:"12px",width:"12px",bottom:"0px",right:"0px",zindex:"999999",cursor:"se-resize"})),c=new Me(this.tawktoLinkName,this.bottomContainerName),this.iframeContainer.addChildViews([c.container]),P.isPopup||P.isEmbedded||(d=new He,this.indicator=new Se(d.chatIndicator),this.iframeContainer.addChildViews([d.container,d.chatIndicator,d.bubbleContainer,this.dragElement,this.resizeFromLeft,this.resizeFromRight,this.resizeFromTop,this.resizeFromBottom,this.resizeTopLeft,this.resizeTopRight,this.resizeBottomLeft,this.resizeBottomRight,this.overlayElement])),this.chatContainer=c.container,this.iframeContainer.buildView(),D.pageStatus.subscribe(function(e){t.updateViewByStatus(e)}),F.rating.subscribe(function(e){t.changeRating(e)}),P.isPopup||P.isEmbedded||D.chatWindowState.subscribe(function(e){"max"===e?t.maximizeWidget():t.minimizeWidget()}),P.minStyle.subscribe(function(){d&&d.container.elementReferrer&&(d.container.insertCssFile(P.minStyle(),!0),d.container.documentRef.getElementById("tawkchat-minified-wrapper").className=q.getContrast(P.headerTxtColor))}),P.maxStyle.subscribe(function(){c&&c.container.elementReferrer&&(c.container.insertCssFile(P.maxStyle(),!0),c.wrapper.removeClass("black"),c.wrapper.removeClass("white"),c.wrapper.addClass(q.getContrast(P.headerTxtColor)))}),P.isRTL.subscribe(function(){e()}),y.chatHandler.hasChatStarted.subscribe(function(e){c.toggleEndChatOption(e)})},show:function(){c.hide(),P.isEmbedded||P.isPopup?(this.iframeContainer.restyle("position","static"),this.iframeContainer.restyle("right",""),this.iframeContainer.restyle("left",""),this.iframeContainer.restyle("width","100%"),this.iframeContainer.restyle("height","100%"),c.show()):(this.indicator.initIndicator(),H&&this.fixContainerBorder(),y.main.maximize?this.maximizeWidget():this.minimizeWidget()),this.updateViewByStatus(D.pageStatus()),this._super(),q.redraw(this.iframeContainer.elementReferrer)},showEmbeddedGreetings:function(){},hideEmbeddedGreetings:function(){}});Ae.prototype.maximizeWidget=function(){if(this.indicator&&this.indicator.hide(),"max"!==P.onClickAction)return this.popoutWidget();if(P.hideWidgetOnOffline&&"offline"===D.pageStatus()&&y.formHandler.openForm(P.showConsentForm?"consentForm":"offlineForm"),(P.hideWidgetOnLoad||P.hideWidgetOnOffline)&&this.showWidget(),this.iframeContainer.restyle("bottom",this.iframeYOffsetPosition+"px"),"br"===P.chatPosition()||"tr"===P.chatPosition()||"cr"===P.chatPosition()?(this.iframeContainer.restyle("right",this.iframeXOffsetPosition+"px"),this.iframeContainer.restyle("left","auto")):(this.iframeContainer.restyle("left",this.iframeXOffsetPosition+"px"),this.iframeContainer.restyle("right","auto")),c.show(),d&&d.container&&d.hide(),g.onChatMaximized(),this.wasScrollbarDown&&this.scrollToBottom(),y.viewHandler.newMessageNotSeen&&y.viewHandler.checkUnseenMessages(),!A&&this.chatContainer.getElementById("chatTextarea")&&"max"===D.chatWindowState()&&!y.formHandler.currentForm&&y.viewHandler.userAction){var e=q.getDocument(q.getDocument(f).getElementById(c.container.elementId));if(e&&e.getElementById("chatTextarea"))try{setTimeout(function(){e.getElementById("chatTextarea").focus(),y.viewHandler.userAction=!1},0)}catch(e){}}},Ae.prototype.minimizeWidget=function(){var e;if(!P.isPopup&&!P.isEmbedded){if(c.container.elementReferrer.blur(),c.hide(),y.viewHandler.lastFocusedElement&&setTimeout(function(){y.viewHandler.lastFocusedElement.focus()},0),P.hideWidgetOnLoad)return this.hideWidget();this.wasScrollbarDown=this.ifScrollbarDown(),this.iframeYOffsetPosition=parseInt(this.iframeContainer.elementReferrer.style.bottom.replace("px",""),10),e="br"==P.chatPosition()?parseInt(this.iframeContainer.elementReferrer.style.right.replace("px",""),10):parseInt(this.iframeContainer.elementReferrer.style.left.replace("px",""),10),isNaN(e)||(this.iframeXOffsetPosition=e),"br"===P.chatPosition()||"tr"===P.chatPosition()||"cr"===P.chatPosition()?(this.iframeContainer.restyle("bottom","0px"),this.iframeContainer.restyle("right","0px"),this.iframeContainer.restyle("left","auto")):(this.iframeContainer.restyle("bottom","0px"),this.iframeContainer.restyle("left","0px"),this.iframeContainer.restyle("right","auto")),d.show(),g.onChatMinimized()}},Ae.prototype.popoutWidget=function(){this.indicator.hide(),this.popoutWin&&!this.popoutWin.closed&&this.popoutWin.focus?this.popoutWin.focus():(this.popoutWin=f.open("https://tawk.to/chat/"+L.pageId+"/"+$_Tawk_WidgetId+"/?$_tawk_sk="+D.sessionKey+"&$_tawk_tk="+D.transferKey+"&v="+D.serverVersion,"Tawk","height=500, width=450, resizable=yes, toolbar=no, location=no, menubar=no, personalbar=no"),D.chatWindowState("min"))},Ae.prototype.toggleWidget=function(){var e=D.chatWindowState();D.chatWindowState("min"===e?"max":"min")},Ae.prototype.removeBubble=function(){try{y.eventEmitter.emit("notifyBubbleClosed")}catch(e){u.handleError("Unable to emit notifyBubbleClosed",e.fileName,e.lineNumber,e.stack)}},Ae.prototype.insertPopupStyle=function(){var e,t=document.getElementsByTagName("head")[0],i=document.createDocumentFragment(),n=q.createElement(document,"style",{type:"text/css"});e=document.createTextNode(y.ResetStyle+""+y.MaximizedStyle+P.maxStyle()),n.styleSheet?n.styleSheet.cssText=e.nodeValue:n.appendChild(e),i.appendChild(n),t.appendChild(i),document.body.className="popup"},Ae.prototype.begin=function(){var e,t=this,i=document.getElementById(g.embedded);y.main.started||(this.iframeContainer&&(e=document.getElementById(this.iframeContainer.elementId)),e&&e.parentNode.removeChild(e),P.isEmbedded&&i?(i.appendChild(this.iframeContainer.elementReferrer),y.eventHandler.listen(f,"resize",function(){t.onEmbeddedWindowResize()},"windowresize")):(document.body.appendChild(this.iframeContainer.elementReferrer),P.isPopup?this.insertPopupStyle():(d.buildView(),this.dragElement.attachUserEventListener("mousedown",function(e){t.onHeaderMouseDown(e)},null,"dragfocus"),this.resizeFromLeft.attachUserEventListener("mousedown",function(e){t.onHeaderMouseDown(e,"left")},null,"resizeLeftfocus"),this.resizeFromRight.attachUserEventListener("mousedown",function(e){t.onHeaderMouseDown(e,"right")},null,"resizeRightfocus"),this.resizeFromTop.attachUserEventListener("mousedown",function(e){t.onHeaderMouseDown(e,null,"top")},null,"resizeTopfocus"),this.resizeFromBottom.attachUserEventListener("mousedown",function(e){t.onHeaderMouseDown(e,null,"bottom")},null,"resizeBottomfocus"),this.resizeTopLeft.attachUserEventListener("mousedown",function(e){t.onHeaderMouseDown(e,"left","top")},null,"resizeTopLeftfocus"),this.resizeTopRight.attachUserEventListener("mousedown",function(e){t.onHeaderMouseDown(e,"right","top")},null,"resizeTopRightfocus"),this.resizeBottomLeft.attachUserEventListener("mousedown",function(e){t.onHeaderMouseDown(e,"left","bottom")},null,"resizeBottomLeftfocus"),this.resizeBottomRight.attachUserEventListener("mousedown",function(e){t.onHeaderMouseDown(e,"right","bottom")},null,"resizeBottomRightfocus"),y.eventHandler.listen(f,"resize",function(){t.onWindowResize()},"windowresize"))),c.buildView(),"br"!=P.chatPosition()&&this.iframeContainer.restyle("left","10px"))},Ae.prototype.fixContainerBorder=function(){var e,t=this;this.iframeContainer.restyle("position","absolute"),y.eventHandler.listen(f,"scroll",function(){clearTimeout(e),t.iframeContainer.restyle("bottom","0px"),t.iframeContainer.restyle("visibility","hidden"),t.iframeContainer.restyle("visibility","visible"),e=setTimeout(function(){document.body.className=document.body.className,document.body.style.visibility="hidden",document.body.style.visibility="visible"},50)},"windowscroll")},Ae.prototype.hideWidget=function(){this.iframeContainer.hide(),g.onChatHidden()},Ae.prototype.showWidget=function(){this.scrollToBottom(),this.iframeContainer.show()},Ae.prototype.toggleVisibility=function(){this.scrollToBottom(),this.iframeContainer.toggle()},Ae.prototype.isWidgetHidden=function(){return!this.iframeContainer.isVisible},Ae.prototype.onDragMove=function(e){this.setChatWindowXPosition(e.clientX),this.setChatWindowYPosition(e.clientY)},Ae.prototype.onHeaderMouseUp=function(){this.overlayElement.restyle("display","none !important"),this.resetFrameDimensions(),this.isResized&&(this.isResized=!1,y.socketManager.sendToConnector("notifyWidgetResized")),y.eventHandler.removeEventHandler(document,"mousemove",this.mouseMovehandler),y.eventHandler.removeEventHandler(document,"mouseup",this.mouseUpHandler)},Ae.prototype.onHeaderMouseDown=function(e,t,i){var n=this,a=y.eventHandler.getTargetElement(e);a.id!==this.resizeFromLeft.elementId&&a.id!==this.resizeFromRight.elementId&&a.id!==this.resizeFromTop.elementId&&a.id!==this.resizeFromBottom.elementId&&a.id!==this.resizeTopLeft.elementId&&a.id!==this.resizeBottomLeft.elementId&&a.id!==this.resizeTopRight.elementId&&a.id!==this.resizeBottomRight.elementId&&a.id!==this.dragElement.elementId||1===e.button&&!f.event&&!c.documentRef.event||1<e.button||(y.eventHandler.cancelEvent(e),this.overlayElement.restyle("display","block !important"),e=this.getActualViewportDimensions(),this.actualViewPortWidth=e.width,this.actualViewPortHeight=e.height,this.startOffsetY=this.startOffsetX=0,this.mouseMovehandler=a.id===this.dragElement.elementId?y.eventHandler.listen(document,"mousemove",function(e){n.onDragMove(e),n.redrawIE()},"dragmove"):y.eventHandler.listen(document,"mousemove",function(e){n.setResizedDimensions(e,t,i),n.isResized=!0,n.redrawIE()},"dragmove"),this.mouseUpHandler=y.eventHandler.listen(document,"mouseup",function(e){n.onHeaderMouseUp(e)},"dragleave"))},Ae.prototype.redrawIE=function(){"explorer"===I&&(this.iframeContainer.restyle("visibility","hidden !important"),this.iframeContainer.restyle("visibility","visible !important"))},Ae.prototype.setResizedDimensions=function(e,t,i){var n,a=this.iframeContainer.elementReferrer;parseInt(c.frameWidth.replace("px",""),10),parseInt(c.frameHeight.replace("px",""),10);var o=this.ifScrollbarDown();if(this.isRight&&void 0!==this.isRight||(this.isRight=P.isRightPositioned()),this.startX=e.clientX,this.startY=e.clientY,t){n=this.isRight?"right":"left";var r=parseInt(q.computedStyle(this.chatContainer.elementReferrer,"width").replace("px",""),10),s=parseInt(a.style[n].replace("px","")),l=(l=this.isRight?this.actualViewPortWidth-e.clientX:e.clientX)<0?0:l;this.isRight&&"right"===t||!this.isRight&&"left"===t?(t=r-(l-s))<280?t=280:(l>this.actualViewPortWidth-t-1&&(l=this.actualViewPortWidth-t-1),a.style.cssText+=";"+n+":"+l+"px !important",this.startOffsetX=t):this.startOffsetX=t=this.isRight?this.actualViewPortWidth-e.clientX-s:e.clientX-s,280<=t&&0<this.actualViewPortWidth-(t+parseInt(a.style[n].replace("px",""),10))&&this.setWidth(t)}i&&("bottom"===i?(i=parseInt(a.style.bottom.replace("px","")),(e=this.actualViewPortHeight-e.clientY)<0&&(e=0),(i=parseInt(q.computedStyle(this.chatContainer.elementReferrer,"height").replace("px",""),10)-(e-i))<330?i=330:(e>this.actualViewPortHeight-i-1&&(e=this.actualViewPortHeight-i-1),a.style.cssText+=";bottom:"+e+"px !important",this.startOffsetY=i)):(startOffsetY=parseInt(a.style.bottom.replace("px",""),10),i=this.actualViewPortHeight-e.clientY-startOffsetY,this.startOffsetY=this.startY-startOffsetY),330<=i&&0<this.actualViewPortHeight-(i+parseInt(a.style.bottom.replace("px",""),10))&&this.setHeight(i)),o&&this.scrollToBottom(),y&&y.formHandler&&y.formHandler.resize()},Ae.prototype.setChatWindowXPosition=function(e){var t,i,n=parseInt(c.frameWidth.replace("px",""),10);void 0===this.isRight&&(this.isRight=P.isRightPositioned()),i=this.isRight?(t="right",parseInt(this.iframeContainer.elementReferrer.style.right,10)):(t="left",-parseInt(this.iframeContainer.elementReferrer.style.left,10)),this.startOffsetX||(this.startOffsetX=e+i),(e=this.isRight?this.startOffsetX-e:e-this.startOffsetX)<20?e=0:this.actualViewPortWidth-(e+n)<20&&(e=this.actualViewPortWidth-n),this.iframeContainer.restyle(t,e+"px !important")},Ae.prototype.setChatWindowYPosition=function(e){var t,i,n=parseInt(c.frameHeight.replace("px",""),10);i="auto"===this.iframeContainer.elementReferrer.style.bottom?(styleKey="top",t=-parseInt(this.iframeContainer.elementReferrer.style.top,10),!1):(styleKey="bottom",t=parseInt(this.iframeContainer.elementReferrer.style.bottom,10),!0),this.startOffsetY||(this.startOffsetY=e+t),(e=i?this.startOffsetY-e:e-this.startOffsetY)<20?e=0:this.actualViewPortHeight-(e+n)<20&&(e=this.actualViewPortHeight-n),this.iframeContainer.restyle(styleKey,e+"px !important")},Ae.prototype.onWindowResize=function(){var e=this;clearTimeout(this.resizeTimeout),this.wasScrollbarDown=this.ifScrollbarDown(),this.resizeTimeout=setTimeout(function(){e.onWindowResizeTimeout()},100)},Ae.prototype.onWindowResizeTimeout=function(){var e=(t=this.getActualViewportDimensions()).width,t=t.height,i=this.iframeContainer.elementReferrer,n=this.isBottom?parseInt(i.style.bottom.replace("px",""),10):parseInt(i.style.top.replace("px",""),10),a=this.isRight?parseInt(i.style.right.replace("px",""),10):parseInt(i.style.left.replace("px",""),10),o=parseInt(c.frameWidth.replace("px",""),10),r=parseInt(c.frameHeight.replace("px",""),10);e<o+a&&((a=e-o)<0&&(o+=a,a=0,this.setWidth(o)),this.isRight?i.style.right=a+"px":i.style.left=a+"px"),t<r+n&&((n=t-r)<0&&(r+=n,n=0,this.setHeight(r)),this.isBottom?i.style.bottom=n+"px":i.style.top=n+"px"),this.wasScrollbarDown&&this.scrollToBottom(),this.resetFrameDimensions()},Ae.prototype.setWidth=function(e){(!e||e<300)&&(e=300),H&&this.dragElement.restyle("width",e-102+"px !important"),this.chatContainer.restyle("width",e+"px !important")},Ae.prototype.setHeight=function(e){(!e||e<350)&&(e=350),this.chatContainer.restyle("height",e+"px !important")},Ae.prototype.onEmbeddedWindowResize=function(){null===this.isWidgetElementDimensionsNull&&this.setWidgetElementDimensions(),this.isWidgetElementDimensionsNull?(this.setWidth(P.maximizedDimensions().width),this.setHeight(P.maximizedDimensions().height)):(this.chatContainer.restyle("width","100%"),this.chatContainer.restyle("height","100%"))},Ae.prototype.setWidgetElementDimensions=function(){var e=document.getElementById(g.embedded);this.isWidgetElementDimensionsNull=e.clientWidth<280||e.clientHeight<330},Ae.prototype.resetFrameDimensions=function(){var e=parseInt(q.computedStyle(this.chatContainer.elementReferrer,"width").replace("px",""),10),t=parseInt(q.computedStyle(this.chatContainer.elementReferrer,"height").replace("px",""),10);c.frameWidth=e+"px",c.frameHeight=t+"px"},Ae.prototype.isWidgetElementDimensionsNull=null,Ae.prototype.styleAgentBar=function(){var e,t=this.chatContainer;if(t){e=t.getElementById("agentWrapper");try{0<y.agents.agentsCount?(t.getElementById("headerAccountStateContainer").style.display="none",e.style.display="block"):(t.getElementById("headerAccountStateContainer").style.display="block",e.style.display="none")}catch(e){u.handleError("headerAccountStateContainer is null",e.fileName,e.lineNumber,e.stack)}}},Ae.prototype.expandAgentList=function(e){var t,i;(i=this.chatContainer)&&(t=i.getElementById("agentBar"),i=i.getElementById("expandableLink"),1===e.button&&!f.event||1<e.button||(-1===t.className.indexOf("expanded")?(t.className+=" expanded",i.className="expanded"):(t.className=t.className.replace("expanded",""),i.className=""),this.styleAgentBar()))},Ae.prototype.resetView=function(){var e,t,i,n,a,o;(o=this.chatContainer)&&(e=o.getElementById("chatWrapper"),i=o.getElementById("agentList"),a=o.getElementById("agentBar"),n=o.getElementById("expandableLink"),o=o.getElementById("headerAccountStateContainer"),e&&(t=e.lastChild,e.innerHTML="",e.appendChild(t)),i&&(i.innerHTML=""),a&&(e=a.parentNode.childNodes[0],a.className="",e&&-1!==e.className.indexOf("agentWrapper")&&e.parentNode.removeChild(e)),n&&(n.style.visibility="hidden",n.className=""),o&&(o.style.display="block"),this.showEmbeddedGreetings(),this.show())},Ae.prototype.handleIndicatorToggle=function(e){d&&d.container&&d.chatIndicator&&(d.chatIndicator.getElementById("tawkchat-chat-indicator").style.visibility="visible")};var ze=Ae.extend({init:function(){this._super(this),this.mainAgent=null},appendMessage:function(e){var t,i,n={"chat-message-row":w["chat-message-row"],"chat-resend-link":w["chat-resend-link"],"chat-message-owner-agent":w["chat-message-owner-agent"],"chat-message-owner-visitor":w["chat-message-owner-visitor"],"chat-message-container":w["chat-message-container"],"chat-notification-container":w["chat-notification-container"],"chat-message-status-row":w["chat-message-status-row"],"chat-divider":w["chat-divider"]},a=q.parseChatTime(e.time);return"a"===e.senderType?(i=(t=(i=F.agentProfiles[e.ownerId])&&i.pi?D.agentImgUrl+"/"+F.agentProfiles[e.ownerId].pi:"")?"url('"+t+"')":"transparent",t="explorer"===I&&B<9?"filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"',sizingMethod='scale');":"","transparent"!==i&&(t+="background-position:0 0;background-size:28px 28px"),n["chat-message-owner-agent"]=n["chat-message-owner-agent"].replace("__IMAGE_URL__",i).replace("__IE_IMAGE_SCALE__",t)):"s"===e.senderType&&(n["chat-message-owner-agent"]=n["chat-message-owner-agent"].replace("__IMAGE_URL__","").replace("__IE_IMAGE_SCALE__","")),n["chat-message-status-row"]=e.isPending?w["chat-message-pending-row"]:n["chat-message-status-row"].replace("__TIME__",a).replace("__TIME_CLASS__","v"===e.senderType?"visitor":"agent"),this._super(e,n)},showEmbeddedGreetings:function(){var e;c.container&&(e=c.container.getElementById("greetingsOverlay"),chatWrapper=c.container.getElementById("chatTableWrapper"),e&&chatWrapper&&(chatWrapper.style.display="none",e.style.display="block",this._super(this)))},hideEmbeddedGreetings:function(){var e,t;c.container&&(e=c.container.getElementById("greetingsOverlay"),t=c.container.getElementById("chatTableWrapper"),e&&t&&(e.style.display="none",t.style.display="table",this._super(this)))},appendAgent:function(e){var t,i,n,a,o,r,s=this;t=(a=this.chatContainer).getElementById("agentProfileContainer");var l=a.getElementById("agentList");i=a.getElementById("chatWrapper"),a&&t&&l&&(y.agents.agentsCount++,1===y.agents.agentsCount?(this.mainAgent=e,this.renderAgentHeader(e.pid),this.renderAgentMinimizedWidget(e.pid),i.className="single-agent"):(c.container.getElementById("profileDetailNoImage")&&(this.renderAgentHeader(this.mainAgent.pid),this.renderAgentMinimizedWidget(this.mainAgent.pid)),this.changeDragElementSize(50),i.className="multi-agent",this.expandAgentList=y.eventHandler.listen(t,"click",function(e){s.openAgentList()},"expandClick")),t=w["agent-profile"],i=w["agent-profile-image"],n=w["agent-profile-description"],a=new ke("agentProfile-"+e.pid,null,{className:"agentWrapper clearfix"},null,a.documentRef),o=e.pi?D.agentImgUrl+"/"+e.pi:"",r=(r="explorer"===I&&B<9)?"filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+o+"',sizingMethod='scale');":"",o=o?"background-image : url('"+o+"'); background-size : 40px 40px; background-position : 0px 0px;":"",n=q.escapeTemplateReplacement(n,[{placeholder:"__POSITION_CLASS__",textReplace:e.pst?"agentName":"agentNameCentered"},{placeholder:"__POSITION__",textReplace:e.pst},{placeholder:"__NAME__",textReplace:e.n}]),i=i.replace("__PROFILE_ID__",e.pid).replace("__IMAGE_URL__",o).replace("__IE_IMAGE_SCALE__",r),a.template=q.escapeTemplateReplacement(t,[{placeholder:"__AGENT_PROFILE_DETAIL__",textReplace:n},{placeholder:"__AGENT_PROFILE_IMAGE__",textReplace:i},{placeholder:"__ID__",textReplace:""}]),l.appendChild(a.buildView()),this.styleAgentBar())},changeDragElementSize:function(e){P.isRTL()?this.dragElement.restyle("right",e+"px !important"):this.dragElement.restyle("left",e+"px !important")},removeAgent:function(e){var t,i;(i=c.container.elementReferrer?c.container:null)&&(y.agents.agentsCount--,t=i.getElementById("agentProfileContainer"),i=i.getElementById("agentProfile-"+e),0===y.agents.agentsCount?(this.clearAgentHeader(),this.clearAgentFooter(),this.changeDragElementSize(0)):1===y.agents.agentsCount&&(y.eventHandler.removeEventHandler(t,"click",this.expandAgentList),this.changeDragElementSize(0)),0<y.agents.agentsCount&&this.mainAgent.pid===e&&(this.mainAgent=F.agentProfiles[Object.keys(F.agentProfiles)[0]],this.renderAgentHeader(this.mainAgent.pid),this.renderAgentMinimizedWidget(this.mainAgent.pid)),i&&i.parentNode.removeChild(i),1===y.agents.agentsCount&&(this.renderAgentHeader(this.mainAgent.pid),this.renderAgentMinimizedWidget(this.mainAgent.pid))),this.styleAgentBar(),t=(i=this.chatContainer).getElementById("agentProfileContainer"),P.chatPosition(),e=P.minimizedDimensions().height,P.minimizedDimensions(),P.chatBubble(),i.getElementById("agentList"),t&&0===y.agents.agentsCount&&(this.clearAgentHeader(),this.clearAgentFooter(),d&&d.agentBarChanged(e))},renderAgentHeader:function(e){var t,i,n;n="";var a=this.chatContainer,o=a.getElementById("agentProfileContainer");a&&o&&e&&(t=(e=F.agentProfiles[e]).pi?D.agentImgUrl+"/"+e.pi:"",this.clearAgentHeader(),this.addProfileDetail(e),t||1<y.agents.agentsCount)&&(n="background-image : url('"+t+"'); background-size : 40px 40px; background-position : 0px 0px;","explorer"===I&&B<9&&(n+="filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"',sizingMethod='scale');"),a.getElementById("innerWrapper").className="border-corner has-profile-image ",a.getElementById("headerBoxControlsContainer")&&this.dragElement.restyle("height","50px !important"),i=new ke("profileFallbackImage",null,{className:"alias-image"},null,a.documentRef),o.appendChild(i.buildView()),t.length&&(n=new ke("profileImage-"+e.pid,n,{className:"alias-image theme-background-color"},null,a.documentRef),o.appendChild(n.buildView())))},clearAgentHeader:function(){var e=this.chatContainer,t=e.getElementById("agentProfileContainer");t.innerHTML="",e.getElementById("innerWrapper").className="border-corner",e.getElementById("headerBoxControlsContainer")&&this.dragElement.restyle("height","45px !important"),t.style.height="45px"},renderAgentMinimizedWidget:function(e){var t,i,n,a,o,r,s,l;(s=d&&d.container&&d.container.elementReferrer?d.container:null)&&this.chatContainer&&e&&(a=F.agentProfiles[e],e=s.getElementById("tawkchat-minified-agent-container"),i=s.getElementById("tawkchat-status-text-container"),n=s.getElementById("tawkchat-minified-link-container"),l=s.getElementById("tawkchat-chat-indicator"),P.chatBubble(),t=P.minimizedDimensions().height,P.minimizedDimensions(),chatIndicatorHeight=37,heightDifference=60-t,e)&&(this.clearAgentFooter(),t=a.pi?D.agentImgUrl+"/"+a.pi:"",o=new ke("profileDetail",null,null,null,s.documentRef),t||1<y.agents.agentsCount?o.template=q.escapeTemplateReplacement(w["agent-profile-description"],[{placeholder:"__POSITION_CLASS__",textReplace:a.pst?"agentName":"agentNameCentered"},{placeholder:"__POSITION__",textReplace:a.pst},{placeholder:"__NAME__",textReplace:a.n}]):(r=a.pst?"&nbsp-&nbsp"+a.pst:"",o.template=q.escapeTemplateReplacement(w["agent-profile-description-noimage"],[{placeholder:"__POSITION__",textReplace:r},{placeholder:"__NAME__",textReplace:a.n}])),e.appendChild(o.buildView()),(t||1<y.agents.agentsCount)&&(0<heightDifference&&d.agentBarChanged(60),o="background-image : url('"+t+"'); background-position: 0; background-size: 40px 40px;","explorer"===I&&B<9&&(o+="filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"',sizingMethod='scale');"),fallbackView=new ke("profileFallbackImage",null,{className:"alias-image"},null,s.documentRef),e.appendChild(fallbackView.buildView()),t.length&&(s=new ke("profileImage-"+a.pid,o,{className:"alias-image theme-background-color"},null,s.documentRef),e.appendChild(s.buildView()))),e.style.display="block",i.style.display="none",t||1<y.agents.agentsCount?(n.style.marginTop="17px",R&&(e.style.marginTop="2px")):R&&(e.style.marginTop="10px"),l&&"block"===l.style.display&&y.viewHandler.handleIndicatorToggle(!0))},clearAgentFooter:function(){var e,t,i;(i=d&&d.container&&d.container.elementReferrer?d.container:null)&&this.chatContainer&&P.isDesktopRectangle()&&(e=i.getElementById("tawkchat-minified-agent-container"),t=i.getElementById("tawkchat-status-text-container"),i=i.getElementById("tawkchat-minified-link-container"),d.agentBarChanged(P.minimizedDimensions().height),e.innerHTML="",e.style.display="none",t.style.display="block",i.style.marginTop=R?"10px":"3px")},handleEndChat:function(){c.chatEnded(),d&&d.container&&d.chatEnded(),this.clearAgentHeader(),P.isEmbedded||(P.isPopup?(y.socketManager.sendToConnector("popupOnFocus",!1),setTimeout(function(){1<f.history.length?f.history.back():f.close()},200)):y.sessionHandler.notifyWindowState("min"))},handleRestartChat:function(){y.formHandler.closeForm(),c.chatStarted()}});ze.prototype.addProfileDetail=function(e){var t,i,n,a=this.chatContainer.getElementById("agentProfileContainer");e.pi||1<y.agents.agentsCount?(t=new ke("profileDetail",null,null,null,this.chatContainer.documentRef),n=w["agent-profile-description"],t.template=q.escapeTemplateReplacement(n,[{placeholder:"__POSITION_CLASS__",textReplace:e.pst?"agentName":"agentNameCentered"},{placeholder:"__POSITION__",textReplace:e.pst},{placeholder:"__NAME__",textReplace:e.n}])):(t=new ke("profileDetailNoImage",null,{className:"noImageAgentProfileDetail"},null,this.chatContainer.documentRef),i=e.pst?"&nbsp-&nbsp"+e.pst:"",n=w["agent-profile-description-noimage"],t.template=q.escapeTemplateReplacement(n,[{placeholder:"__POSITION__",textReplace:i},{placeholder:"__NAME__",textReplace:e.n}])),a.appendChild(t.buildView())},ze.prototype.openAgentList=function(){var t=this;this.chatContainer.getElementById("agentProfileContainer").style.display="none",this.chatContainer.getElementById("agentListBack").style.display="block",this.chatContainer.getElementById("agentBar").style.display="block",y.eventHandler.listen(this.chatContainer.getElementById("agentListBack"),"click",function(e){t.closeAgentList()},"backClick")},ze.prototype.closeAgentList=function(){this.chatContainer.getElementById("agentProfileContainer").style.display="block",this.chatContainer.getElementById("agentListBack").style.display="none",this.chatContainer.getElementById("agentBar").style.display="none"};var Pe=function(){var t=this;this.setDimensions(),this.clickToPopout=this.setPopoutHref=this.isMoving=!1,this.clickEvent="touchend",this.container=new Ce(q.getRandomName(),q.getGenericStyle({width:t.minifiedBoxWidth+"px",height:t.minifiedBoxHeight+"px",minwidth:t.minifiedBoxWidth+"px",minheight:t.minifiedBoxHeight+"px",maxwidth:t.minifiedBoxWidth+"px",maxheight:t.minifiedBoxHeight+"px",zindex:"1000000",display:"none"}),Y,"iframe"),D.pageStatus.subscribe(function(e){t.updateStatus(e)}),P.chatPosition.subscribe(function(e){t.updateWidgetPosition()}),P.mobMinStyle.subscribe(function(){t.container&&t.container.elementReferrer&&t.container.insertCssFile(P.mobMinStyle(),!0)})};Pe.prototype.setDimensions=function(){"rectangle"===P.mobileWidget()?(this.minifiedBoxWidth=110,this.minifiedBoxHeight=68):(this.minifiedBoxWidth=49,this.minifiedBoxHeight=54)},Pe.prototype.buildView=function(){this.container.buildIframe(y.MinifiedMobileStyle+P.mobMinStyle()),this.updateStatus(),this.attachEvents(),this.updateWidgetPosition()},Pe.prototype.updateStatus=function(e){var t;if(e||(e=D.pageStatus()),this.container&&e){(t=this.container.getElementById("tawkchat-status-icon"))&&(t.className=e),(t=this.container.getElementById("tawk-minified-mobile-text"))&&(t.innerHTML="online"===e||"away"===e?"Chat":"Mail");try{y.eventEmitter.emit("resizeIframeHeight")}catch(e){u.handleError("Unable to emit resizeIframeHeight",e.fileName,e.lineNumber,e.stack)}}},Pe.prototype.attachEvents=function(){var t=this;this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){y.eventHandler.cancelEvent(e),t.isMoving||y.sessionHandler.notifyWindowState("max"),t.isMoving=!1},"tawkchat-minified-box","mobpclick"),this.container.attachUserEventListener("touchmove",function(){t.isMoving=!0},"tawkchat-minified-box","mobpmove")},Pe.prototype.show=function(){this.container.restyle("display","block")},Pe.prototype.updateWidgetPosition=function(){var e="";this.container&&this.container.elementReferrer&&(e=P.isCenterPositioned()?e+" center ":P.isTopPositioned()?e+" top ":e+" bottom ",e=P.isRightPositioned()?e+" right ":e+" left ",e+=" "+P.mobileWidget()+" ",this.container.documentRef.body.className=e)};var Oe=TawkClass.extend({init:function(){var t=this;this.container=new Ce(q.getRandomName(),q.getGenericStyle({width:"100%",height:"100%",zindex:"1000000",display:"none",position:"static",top:"0",bottom:"0",overflow:"hidden","max-width":"none","max-height":"none",border:"0 none",padding:"0",margin:"0"}),Y,"iframe"),this.wrapper=re.isCookieEnabled?new ke("tawkchat-maximized-container-element"):new ke("tawkchat-maximized-container-element-no-cookies"),this.container.addChildViews([this.wrapper]),this.maxNumberFileUpload=5,this.maxSizeFileUpload=2097152,this.isScrollbarDown=!0,this.scrollTimeout=null,this.tabContentScroll=!1,D.pageStatus.subscribe(function(e){t.updateGreetings(e)}),y.eventEmitter.on("formOpened",function(){t.container&&t.container.getElementById("chatPanel")&&(t.container.getElementById("chatPanel").style.display="none")}),y.eventEmitter.on("formClosed",function(){t.container&&t.container.getElementById("chatPanel")&&(t.container.getElementById("chatPanel").style.display="block")}),P.isRTL.subscribe(function(e){t.wrapper&&(e?t.wrapper.addClass("rtl-direction"):t.wrapper.addClass("ltr-direction"))}),P.webRTCSettings.subscribe(function(){t.toggleWebRTCActions()})},buildView:function(){y.MaximizedMobileStyle=y.MaximizedMobileStyle.replace(/#tawktoLink/g,"#"+y.viewHandler.tawktoLinkName),y.MaximizedMobileStyle=y.MaximizedMobileStyle.replace(/#bottomContainer/g,"#"+y.viewHandler.bottomContainerName),this.wrapper.template=this.wrapper.template.replace(/__TAWK_TO_LINK__/gm,y.viewHandler.tawktoLinkName),this.wrapper.template=this.wrapper.template.replace(/__BOTTOM_CONTAINER__/gm,y.viewHandler.bottomContainerName),this.wrapper.template=this.wrapper.template.replace("__TOO_LONG_MESSAGE__",y.languageParser.translate("chat","message_too_long")),this.container.buildIframe(y.ResetStyle+""+y.MaximizedMobileStyle+P.mobMaxStyle()),this.updateGreetings(),this.attachEvents(),this.wrapper.addClass("iphone"),P.isRTL()?this.wrapper.addClass("rtl-direction"):this.wrapper.addClass("ltr-direction"),be(this.container.documentRef),this.toggleWebRTCActions()},attachEvents:function(){var l=this,t=this.container.documentRef.getElementById("emoji-selection-container");this.container.attachUserEventListener("touchstart",function(e){l.isScrolling=!1},"menuOptions","startMenuOptionsTouchEvent"),this.container.attachUserEventListener("touchend",function(e){l.isScrolling=!1},"menuOptions","endMenuOptionsTouchEvent"),this.container.attachUserEventListener("touchmove",function(e){l.isScrolling=!0},"menuOptions","moveMenuOptionsTouchEvent"),this.container.attachUserEventListener("focus",function(e){l.isScrollbarDown&&setTimeout(function(){y.viewHandler.scrollToBottom()},500)},"chatTextarea","chatinputfocus"),y.eventHandler.listen(f,"resize",function(){l.isScrollbarDown&&y.viewHandler.scrollToBottom()},"mobileresize"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){y.chatHandler.changeRating(1),y.eventHandler.cancelEvent(e)},"ratePositive","ratepveclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){y.chatHandler.changeRating(-1),y.eventHandler.cancelEvent(e)},"rateNegative","ratenveclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){var t=l.container.getElementById("chatTextarea");y.eventHandler.cancelEvent(e),y.chatHandler.sendMessage(t.value),t.value=""},"textareaSubmitButton","submitclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){l.container.getElementById("maxFileNotificationContainer").classList.add("hidden"),y.eventHandler.cancelEvent(e)},"closeNumberNotification","closeNumberNotification"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){l.container.getElementById("maxSizeNotificationContainer").classList.add("hidden"),y.eventHandler.cancelEvent(e)},"closeSizeNotification","closeSizeNotification"),this.container.attachUserEventListener("scroll",function(){clearTimeout(l.scrollTimeout),l.scrollTimeout=setTimeout(function(){l.isScrollbarDown=y.viewHandler.ifScrollbarDown(),!y.formHandler.currentForm&&y.viewHandler.newMessageNotSeen&&(y.viewHandler.isMaximized||P.isPopup)&&y.viewHandler.checkUnseenMessages()},200)},"chatContainer","mobilechatscroll"),this.container.attachUserEventListener("change",function(e){y.eventHandler.cancelEvent(e),l.toggleMenu();var t=y.eventHandler.getTargetElement(e),i=0,n=0,a=[],o=[],r=function(){++n===i&&(t.value="")};if(void 0===f.FormData)i=1,y.viewHandler.startUpload(l.container.getElementById("upload-form"),!0,r);else if((e=t.files)&&e.length){for(var s=0;s<e.length;s++)e[s].size>l.maxSizeFileUpload?a.push(e[s]):s>=l.maxNumberFileUpload?o.push(e[s]):y.viewHandler.startUpload(e[s],null,r);y.viewHandler.checkUploadFileWarning(a,o)}},"fileInput","fileInputChanged"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){e.stopPropagation(),"active"===l.container.getElementById("viewEmoji").className?l.closeEmojiSelection():(l.container.getElementById("viewEmoji").className="active",ye(t))},"viewEmoji","viewEmojiClick"),this.wrapper.attachUserEventListener(y.viewHandler.clickEvent,function(e){e=y.eventHandler.getTargetElement(e),"function"==typeof t.contains?t.contains(e)||l.closeEmojiSelection():q.isDescendent(t,e)&&l.closeEmojiSelection()},null,"maxWidgetClick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){l.tabContentScroll?e.stopPropagation():l.tabContentScroll=!1},"tab-content","mobpclick"),this.container.attachUserEventListener("touchmove",function(){l.tabContentScroll=!0},"tab-content","mobpmove"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){q.getWebRTCToken(!0,!1,function(e,t){e&&y.viewHandler.appendMessage({senderType:"s",message:"Video call is not available.",time:new Date,type:"n"})})},"videoCallOption","videoCallClick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){q.getWebRTCToken(!1,!1,function(e,t){e&&y.viewHandler.appendMessage({senderType:"s",message:"Voice call is not available.",time:new Date,type:"n"})})},"voiceCallOption","voiceCallClick")}});Oe.prototype.show=function(){this.container.restyle("display","block"),y.viewHandler.newMessageNotSeen&&y.viewHandler.checkUnseenMessages()},Oe.prototype.updateGreetings=function(e){var t,i;if((e=e||D.pageStatus())&&this.container.elementReferrer){if(!P.isPopup){if(!(t=this.container.getElementById("siteName")))return;if(!(i=l.getShortMessage(e)))return;t.innerHTML=i}(e=l.getLongMessage(e))&&(t=this.container.getElementById("greetingsContainer"))&&(t.innerHTML=e)}},Oe.prototype.toggleEndChatOption=function(e){var t=this.container.getElementById("endChatOption");t&&(t.style.display=e?"block":"none")},Oe.prototype.addEmojiToInput=function(e){var t=this.container.getElementById("chatTextarea");this.closeEmojiSelection(),t.value+=e,setTimeout(function(){t.focus()},20)},Oe.prototype.closeEmojiSelection=function(){this.container.getElementById("viewEmoji").className="",this.container.getElementById("emoji-selection-container").style.display="none"},Oe.prototype.toggleWebRTCActions=function(){this.container.documentRef&&(P.webRTCSettings()&&P.webRTCSettings().en?(this.container.documentRef.getElementById("videoCallOption").style.display=P.webRTCSettings().v?"block":"none",this.container.documentRef.getElementById("voiceCallOption").style.display="block"):(this.container.documentRef.getElementById("videoCallOption").style.display="none",this.container.documentRef.getElementById("voiceCallOption").style.display="none"))};var Le=Oe.extend({init:function(){var t=this;this.hasChatStarted=!1,this._super(this),y.eventEmitter.on("formOpened",function(){t.container&&("preChatForm"!==y.formHandler.currentForm&&"offlineForm"!==y.formHandler.currentForm&&"consentForm"!==y.formHandler.currentForm||t.toggleMenuContainer(!1))}),y.eventEmitter.on("formClosed",function(){t.container&&(y.chatHandler.hasChatEnded||!y.viewHandler.isMaximized||t.container.getElementById("chatEnded")||(t.hasChatStarted=!0),t.toggleMenuContainer(!0))}),P.soundOn.subscribe(function(){t.toggleSound()}),L.pageName.subscribe(function(e){t.container&&t.container.getElementById("siteName")&&P.isPopup&&(t.container.getElementById("siteName").innerHTML=e)}),y.eventEmitter.on("localeChanged",function(){y.languageParser.language.chat.defaultName=y.languageParser.language.chat.mobileName,t.container&&(t.insertText(),t.toggleSound())})},buildView:function(){this._super(this),this.toggleSound(),this.insertText(),this.wrapper.addClass(q.getContrast(P.headerTxtColor)),y.languageParser&&y.languageParser.language&&(y.languageParser.language.chat.defaultName=y.languageParser.language.chat.mobileName),this.attachEvents()},attachEvents:function(){var i=this,e=this.container.getElementById("chatTextarea"),t=this.container.getElementById("menuOptions"),n=this.container.documentRef.getElementById("tooLongMsgNotification");this._super(this),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){i.isScrolling||(i.toggleMenu(),y.formHandler.openForm("nameForm"),y.eventHandler.cancelEvent(e))},"changeNameOption","changenameclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){y.eventHandler.cancelEvent(e),t&&(t.style.display="none"),y.formHandler.currentForm&&"preChatForm"!==y.formHandler.currentForm&&"offlineForm"!==y.formHandler.currentForm&&"consentForm"!==y.formHandler.currentForm?y.formHandler.closeForm():"block"===i.container.getElementById("tawkToContent").style.display?i.container.getElementById("tawkToContent").style.display="none":P.isPopup?f.close():(y.sessionHandler.notifyWindowState("min"),y.viewHandler.maximizedWidget.container.hide(),y.viewHandler.isMaximized=!1,y.viewHandler.show())},"backButtonContainer","backclick"),e&&ie.initElement(e,function(e,t){n.className=t.length<5e3?"":"visible",i.toggleSubmitButton(t),y.chatHandler.sendTextPreview(e)}),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){"menuButton"===(e=y.eventHandler.getTargetElement(e)).id||"menuButtonContainer"===e.id||t.contains(e)||(t.style.display="none")},"tawkchat-maximized-container-element","mainclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){i.toggleMenu(),y.eventHandler.cancelEvent(e)},"menuButtonContainer","menuclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){i.isScrolling||(i.toggleMenu(),y.formHandler.openForm("emailTranscriptForm"),y.eventHandler.cancelEvent(e))},"emailTranscriptOption","emailtranscriptclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){i.isScrolling||P.whiteLabel()||(re.isCookieEnabled?P.brandingRedirect()?f.open("https://ref.tawk.to/?utm_source=visitor-widget&utm_medium=link&utm_campaign=referral&utm_term="+L.pageId):i.container.getElementById("tawkToContent").style.display="block":"nokia"===A?f.open("https://www.tawk.to/?utm_source=visitor-widget&utm_medium=link&utm_campaign=referral&utm_term="+L.pageId,"","height=500, width=450, resizable=yes, toolbar=no, location=no, menubar=no, personalbar=no"):f.open("https://www.tawk.to/?utm_source=visitor-widget&utm_medium=link&utm_campaign=referral&utm_term="+L.pageId))},y.viewHandler.tawktoLinkName,"tawktoclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){i.isScrolling||(i.container.getElementById("tawkToContent").style.display="none")},"cancelTawkRedirect","cancelTawkRedirectclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){i.isScrolling||(i.container.getElementById("tawkToContent").style.display="none","nokia"===A?f.open("https://www.tawk.to/?utm_source=visitor-widget&utm_medium=link&utm_campaign=referral&utm_term="+L.pageId,"","height=500, width=450, resizable=yes, toolbar=no, location=no, menubar=no, personalbar=no"):f.open("https://www.tawk.to/?utm_source=visitor-widget&utm_medium=link&utm_campaign=referral&utm_term="+L.pageId))},"tawkRedirect","tawkRedirectClick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){i.isScrolling||(y.eventHandler.cancelEvent(e),y.chatHandler.toggleSound())},"soundOption","soundclick"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){i.isScrolling||(i.toggleMenu(),y.formHandler.openForm("endChatForm"),y.eventHandler.cancelEvent(e))},"endChatOption","endChatOptionClicked"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){i.isScrolling||(y.viewHandler.popup(),y.eventHandler.cancelEvent(e))},"popOut","popOutOptionClicked")}});Le.prototype.toggleMenu=function(){var e=this.container.getElementById("menuOptions");e&&(e.style.display="block"===e.style.display?"none":"block")},Le.prototype.toggleMenuContainer=function(e){var t,i;this.container&&(i=this.container.getElementById("menuOptions"),(t=this.container.getElementById("menuButtonContainer"))&&i&&(t.style.display=e?"block":"none",e||(i.style.display="none")))},Le.prototype.toggleSound=function(){re.isCookieEnabled&&(this.container.getElementById("soundOption").className=P.soundOn()?"on":"off",this.container.getElementById("soundTitle").innerHTML=P.soundOn()?y.languageParser.translate("menu","sound_on"):y.languageParser.translate("menu","sound_off"))},Le.prototype.chatEnded=function(){var e,t=this,i=this.container.getElementById("chatContainer");this.hasChatStarted=!1,(e=new ke("chatEnded")).template=q.escapeTemplateReplacement(e.template,[{placeholder:"__CHAT_ENDED__",textReplace:y.languageParser.translate("chat","chatEnded")},{placeholder:"__START_CHAT__",textReplace:y.languageParser.translate("chat","newChat")},{placeholder:"__EMAIL_TRANCRIPT__",textReplace:y.languageParser.translate("rollover","emailTranscriptOption")}]),e.restyle("display","block"),this.container.documentRef.getElementById("tawkchat-maximized-container-element").appendChild(e.buildView()),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){y.formHandler.openForm("emailTranscriptForm"),y.eventHandler.cancelEvent(e)},"emailTranscript","emailTranscript"),this.container.attachUserEventListener(y.viewHandler.clickEvent,function(e){t.chatStarted(),y.chatHandler.startNewChat()},"newChat","newChat"),i&&(i.className+=" chat-ended"),this.toggleMenuContainer(!1)},Le.prototype.chatStarted=function(){var e=this.container.getElementById("chatEnded"),t=this.container.getElementById("chatContainer");e&&e.parentNode.removeChild(e),t&&(t.className=t.className.replace("chat-ended","")),P.showPreChatForm&&!D.prechatFormSubmitted?y.formHandler.openForm("preChatForm"):this.hasChatStarted=!0,this.toggleMenuContainer(!0)},Le.prototype.toggleSubmitButton=function(e){var t=this.container.getElementById("ratingContainer"),i=this.container.getElementById("textareaSubmitContainer");e&&this.isSubmitShown||!e&&!this.isSubmitShown||(this.isSubmitShown=e?(t.style.display="none",i.style.display="block",!0):(i.style.display="none",!(t.style.display="block")))},Le.prototype.insertText=function(){var e;if(this.container.getElementById("cancelTawkRedirect").innerHTML=y.languageParser.translate("form","CancelButton"),this.container.getElementById("tawkRedirect").innerHTML=y.languageParser.translate("form","visitButton"),this.container.getElementById("tawkContent").innerHTML=y.languageParser.translate("overlay","tawkContent"),re.isCookieEnabled){for(this.container.getElementById("chatTextarea").placeholder=y.languageParser.translate("chat","mobileEnterText"),this.container.getElementById("changeNameOption").childNodes[1].innerHTML=y.languageParser.translate("menu","change_name"),this.container.getElementById("emailTranscriptOption").childNodes[1].innerHTML=y.languageParser.translate("rollover","emailTranscriptOption"),this.container.getElementById("endChatOption").childNodes[1].innerHTML=y.languageParser.translate("rollover","end"),this.container.getElementById("popOut").childNodes[1].innerHTML=y.languageParser.translate("rollover","popOut"),this.container.getElementById("maxFileNotificationMessage").innerHTML=y.languageParser.translate("notifications","maximum_file_upload_warning",{strongStart:"<strong>",strongEnd:"</strong>",limitFileNumber:"5"}),this.container.getElementById("maxSizeNotificationMessage").innerHTML=y.languageParser.translate("notifications","maximum_size_upload_warning",{strongStart:"<strong>",strongEnd:"</strong>",limitFileSize:"2mb"}),this.container.getElementById("videoCallOption").childNodes[1].innerHTML=y.languageParser.translate("rollover","videoCall"),this.container.getElementById("voiceCallOption").childNodes[1].innerHTML=y.languageParser.translate("rollover","voiceCall"),listElem=q.getElementsByClassName(this.container.getElementById("chatContainer"),"closeNotification"),e=0;e<listElem.length;e++)listElem[e].innerHTML=y.languageParser.translate("form","CloseButton");e=this.container.getElementById("uploadFileOption"),q.isFileInputSupported?e.childNodes[0].childNodes[1].innerHTML=y.languageParser.translate("rollover","uploadFile"):e.parentNode.removeChild(e)}};var Fe=function(e){var t=this;arguments.length&&(this.browser=e,this.metaContent=this.getMetaContent(),this.landscape=!1,this.zoom=1,this.resizeTimeout=this.hasKeyboard=this.minAndMaxScalesAreEqual=this.hasViewportHeightWidth=this.hasInitialScale=!1,this.removeAgentNotification=!0,this.clickEvent="touchend",this.hasChatStarted=this.isMaximized=this.isBottomWidget=!1,this.originalDocumentStyle=null,this.isTherePreChat=P.showPreChatForm,this.noZoomMetaTag=null,this.isIndicatorOn=!1,this.scrollTop=this.scrollLeft=0,this.shapeChanged(),this.minifiedWidget=new Pe,this.maximizedWidget=new Le,this.iframeContainer=new ke("tawkchat-container","border: 0 none !important; padding: 0 !important; margin: 0 !important; z-index: 999999999 !important; overflow : visible !important; min-width: 0 !important; min-height: 0 !important; max-width: none !important; max-height: none !important; width : auto !important; height : auto !important"),this.indicator=new Se(this.minifiedWidget.container),this.iframeContainer.addChildViews([this.minifiedWidget.container,this.maximizedWidget.container]),"#max-widget"===f.location.hash&&(f.history?f.history.replaceState({},document.title,"."):f.location.hash=""),this.iframeContainer.buildView(),this.chatContainer=this.maximizedWidget.container,y.eventEmitter.on("resizeIframeHeight",function(){t.resizeIframeHeight()}),y.eventEmitter.on("visitorPopupFocus",function(e){t.isPopupFocused=e}),y.eventHandler.listen(f,"popstate",function(e){!P.isPopup&&t.isMaximized&&"#max-widget"!==f.location.hash&&D.chatWindowState("min")},"popstateFn"),D.chatWindowState.subscribe(function(e){P.isPopup||(t.hideWidget(),"max"===e?(g.disableMobileBackHistory||f.location.hash&&"#max-widget"!==f.location.hash||(f.history.pushState?f.history.pushState(null,null,f.location.href+"#max-widget"):f.location.hash="max-widget"),t.maximize()):(g.disableMobileBackHistory||"#max-widget"===f.location.hash&&f.history.back(),t.isMaximized=!1,t.show()))}),D.pageStatus.subscribe(function(e){t.updateViewByStatus(e)}),P.mobileWidget.subscribe(function(){t.renderBottomWidget(),t.minifiedWidget.buildView()}),P.chatPosition.subscribe(function(){t.updateWidgetPosition()}),F.rating.subscribe(function(e){t.changeRating(e)}),P.mobMaxStyle.subscribe(function(){t.chatContainer.insertCssFile(P.mobMaxStyle()),t.maximizedWidget.wrapper.removeClass("white"),t.maximizedWidget.wrapper.removeClass("black"),t.maximizedWidget.wrapper.addClass(q.getContrast(P.headerTxtColor))}),P.mobileWidget.subscribe(function(e){t.shapeChanged(),t.minifiedWidget.container.massRestyle({width:t.minifiedBoxWidth+"px !important",height:t.minifiedBoxHeight+"px !important","min-width":t.minifiedBoxWidth+"px !important","min-height":t.minifiedBoxHeight+"px !important","max-width":t.minifiedBoxWidth+"px !important","max-height":t.minifiedBoxHeight+"px !important"})}),y.chatHandler.hasChatStarted.subscribe(function(e){t.maximizedWidget.toggleEndChatOption(e)}))};((Fe.prototype=new Ie).constructor=Fe).prototype.parent=Ie.prototype,Fe.prototype.begin=function(){if(document.body.appendChild(this.iframeContainer.elementReferrer),"symbian"!==this.browser&&"ie"!==this.browser&&"opera"!==this.browser&&"android2.3"!==this.browser||(this.clickEvent="click"),this.minifiedWidget.buildView(),this.maximizedWidget.buildView(),this.chatContainer=this.maximizedWidget.container,this.noZoomMetaTag=document.createElement("meta"),this.noZoomMetaTag.name="viewport",this.parent.begin.call(this),q.isTouchDevice()&&("android"===A||"android2"===A||"android2.3"===A)){var e=this.chatContainer.getElementById("chatContainer"),t=this.chatContainer.getElementById("menuScrollable");this.addOverflowScroll(e),this.addOverflowScroll(t),e.style.overflow="hidden",t.style.overflow="hidden"}y.audioPlayer.initAudioPlayer()},Fe.prototype.shapeChanged=function(){(this.isMinifiedRound="round"===P.mobileWidget())?(this.defaultWidth=49,this.defaultHeight=54,this.minifiedBoxWidth=49,this.minifiedBoxHeight=54):(this.defaultWidth=110,this.defaultHeight=68,this.minifiedBoxWidth=110,this.minifiedBoxHeight=68)},Fe.prototype.handleEndChat=function(){this.maximizedWidget.chatEnded(),this.chatContainer.hide(),this.isMaximized=!1,this.iframeContainer.restyle("right","0px"),this.show()},Fe.prototype.show=function(){var e=document.querySelector("meta[name=viewport]")||document.querySelector("meta[name=VIEWPORT]");this.isMaximized?(this.iframeContainer.massRestyle({left:"0px",top:"0px",right:"0px",bottom:"0px"}),this.isMobileOptimizedWebsite()||null===this.noZoomMetaTag||(this.metaContent||""!==this.noZoomMetaTag.content?this.metaContent&&!this.hasNoScale&&e&&e.setAttribute("content",this.metaContent+", user-scalable=no"):(this.noZoomMetaTag.content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no",this.noZoomMetaTag.parentNode||document.getElementsByTagName("head")[0].appendChild(this.noZoomMetaTag))),this.isVisibilityToggled||(this.iframeContainer.show(),this.chatContainer.show()),this.minifiedWidget.container.hide(),"max"!==D.chatWindowState()&&y.sessionHandler.notifyWindowState("max"),y.viewHandler.newMessageNotSeen&&setTimeout(function(){y.viewHandler.checkUnseenMessages()},0)):(this.isMobileOptimizedWebsite()||(this.metaContent&&!this.hasNoScale?e&&e.setAttribute("content",this.metaContent):this.noZoomMetaTag.parentNode&&(this.noZoomMetaTag.content="",document.getElementsByTagName("head")[0].removeChild(this.noZoomMetaTag))),q.blurElements(this.maximizedWidget.container.documentRef.body.getElementsByTagName("input")),q.blurElements(this.maximizedWidget.container.documentRef.body.getElementsByTagName("textarea")),this.isVisibilityToggled||(this.minifiedWidget.container.show(),this.showWidget()),this.resetOriginalStyle(),this.indicator.initIndicator(),"min"!==D.chatWindowState()&&y.sessionHandler.notifyWindowState("min"),this.resizeHandler()),this.isVisibilityToggled||(this.updateViewByStatus(D.pageStatus()),this.parent.show.call(this))},Fe.prototype.hideWidget=function(){this.isMaximized?(this.isPopupFocused&&y.socketManager.sendToConnector("popupOnFocus",!1),this.chatContainer.hide()):(null!==this.originalDocumentStyle&&(this.iframeContainer.documentRef.body.style.cssText=this.originalDocumentStyle),this.minifiedWidget.container.hide()),this.iframeContainer.hide()},Fe.prototype.showWidget=function(){if(this.iframeContainer.show(),null!==this.originalDocumentStyle&&(this.iframeContainer.documentRef.body.style.cssText=this.originalDocumentStyle,this.originalDocumentStyle=null,f.scrollTo(this.scrollLeft,this.scrollTop)),this.isMaximized)this.scrollLeft=void 0!==f.pageXOffset?f.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,this.scrollTop=void 0!==f.pageYOffset?f.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,this.scrollToBottom(),this.originalDocumentStyle=this.iframeContainer.documentRef.body.style.cssText,this.iframeContainer.documentRef.body.style.setProperty("height","100%","important"),this.iframeContainer.documentRef.body.style.setProperty("min-height","100%","important"),this.iframeContainer.documentRef.body.style.setProperty("max-height","100%","important"),this.iframeContainer.documentRef.body.style.setProperty("width","100%","important"),this.iframeContainer.documentRef.body.style.setProperty("min-width","100%","important"),this.iframeContainer.documentRef.body.style.setProperty("max-width","100%","important"),this.iframeContainer.documentRef.body.style.setProperty("overflow","hidden","important"),this.iframeContainer.documentRef.body.style.setProperty("position","fixed","important"),this.maximizedWidget.container.show();else{if(P.hideWidgetOnLoad)return void this.hideWidget();this.minifiedWidget.container.show(),this.resizeIframeHeight()}this.iframeContainer.show()},Fe.prototype.init=function(){this.checkMetaContent(),this.addResizeEvents(),this.resizeHandler()},Fe.prototype.getZoom=function(){this.zoom=screen.width/f.innerWidth},Fe.prototype.addResizeEvents=function(e){var t,i=this;t=function(e){i.resizeHandler()},y.eventHandler.listen(f,"resize",t,"mobileresize"),y.eventHandler.listen(f,"scroll",t,"mobilescroll"),e&&y.eventHandler.listen(f,"touchmove",t)},Fe.prototype.checkMetaContent=function(){var e,t={};if(i=this.metaContent){for(var i,n=0,a=(i=(i=i.replace(/ /g,"")).split(",")).length;n<a;n++)t[(e=i[n].split("="))[0]]=e[1];this.hasInitialScale="1.0"===t["initial-scale"],this.hasViewportHeightWidth=!(!t.width&&!t.height),this.minAndMaxScalesAreEqual=t["minimum-scale"]&&t["maximum-scale"]&&t["minimum-scale"]===t["maximum-scale"],this.initialAndMaxScalesAreEqual=t["initial-scale"]&&t["maximum-scale"]&&t["initial-scale"]===t["maximum-scale"],this.hasNoScale="no"===t["user-scalable"]||"0"===t["user-scalable"]}},Fe.prototype.ifScrollbarDown=function(){return this.isMaximized?this.parent.ifScrollbarDown.call(this):!!document&&((e=document.body)?(t=document.documentElement.clientHeight+10,scrollTop=e.scrollTop||document.documentElement.scrollTop,e.scrollHeight-(scrollTop+t)<80):void 0);var e,t},Fe.prototype.resizeHandler=function(){var i=this;"offline"===D.pageStatus()&&P.hideWidgetOnOffline||this.isMaximized||(clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){var e=i.isLandscape(),t=i.ifScrollbarDown();"offline"===D.pageStatus()&&P.hideWidgetOnOffline||(i.landscape!==e&&t&&setTimeout(function(){i.scrollToBottom()},200),i.landscape=e,i.isMobileOptimizedWebsite()&&"opera"!==A&&"android2.3"!==A||(i.getZoom(),i.renderMinifiedBox()))},100))},Fe.prototype.getMetaContent=function(){var e,t,i=document.getElementsByTagName("meta"),n="";for(e=0,t=i.length;e<t;e++)i[e].getAttribute("name")&&"viewport"===i[e].getAttribute("name").toLowerCase()&&(n=i[e].getAttribute("content"));return n},Fe.prototype.isLandscape=function(){return screen.height<screen.width||f.innerHeight<f.innerWidth},Fe.prototype.isMobileOptimizedWebsite=function(){return this.checkMetaContent(),this.minAndMaxScalesAreEqual&&(this.hasViewportHeightWidth||this.hasNoScale)||this.initialAndMaxScalesAreEqual},Fe.prototype.scaleContent=function(e,t){if(!this.isMaximized){var i=this.minifiedBoxHeight,n=this.minifiedBoxWidth,a=this.minifiedWidget.container.getElementById("tawkchat-minified-box"),o="-moz-transform : "+(o="scale("+e+")")+"; -webkit-transform : "+o+"; -o-transform : "+o+"; -ms-transform : "+o+"; transform : "+o+";";e&&a&&(i=Math.ceil(i*e),n=Math.ceil(n*e),this.minifiedWidget.container.massRestyle({height:i+"px !important",width:n+"px !important","min-height":i+"px !important","min-width":n+"px !important","max-height":i+"px !important","max-width":n+"px !important"}),a.style.cssText+=o+"-moz-transform-origin : bottom left; -webkit-transform-origin : bottom left; -o-transform-origin : bottom left; -ms-transform-origin : bottom left; transform-origin : bottom left"),this.updateWidgetPosition(i)}},Fe.prototype.popup=function(){if(this.indicator.hide(),this.chatContainer.hide(),this.isMaximized=!1,this.show(),this.chatContainer.getElementById("menuOptions").style.display="none",this.myWin&&!this.myWin.closed)return this.myWin.focus();this.myWin="nokia"===A?f.open("https://tawk.to/chat/"+L.pageId+"/"+$_Tawk_WidgetId+"/?$_tawk_sk="+D.sessionKey+"&$_tawk_tk="+D.transferKey+"&v="+D.serverVersion,"Tawk","height=500, width=450, resizable=yes, toolbar=no, location=no, menubar=no, personalbar=no"):f.open("https://tawk.to/chat/"+L.pageId+"/"+$_Tawk_WidgetId+"/?$_tawk_sk="+D.sessionKey+"&$_tawk_tk="+D.transferKey+"&v="+D.serverVersion)},Fe.prototype.maximize=function(){"firefox"===A&&!this.isMobileOptimizedWebsite()||"pop"===P.onClickAction?this.popup():(this.hasChatStarted||(P.showPreChatForm=this.isTherePreChat),this.indicator.hide(),this.minifiedWidget.container.hide(),this.originalIframeContainerStyle||(this.originalIframeContainerStyle=this.iframeContainer.elementReferrer.style.cssText),this.iframeContainer.restyle("margin","0px !important"),this.isMaximized=!0,this.show())},Fe.prototype.resetOriginalStyle=function(){this.originalIframeContainerStyle&&(this.iframeContainer.elementReferrer.style.cssText=this.originalIframeContainerStyle)},Fe.prototype.resizeIframeHeight=function(){var e;!this.isMaximized&&this.iframeContainer&&this.minifiedWidget.container.elementReferrer&&this.isIEWidget&&(e=this.minifiedWidget.container.getElementById("tawkchat-status-text-container").offsetHeight,this.minifiedWidget.container.restyle("height",e+"px"),this.iframeContainer.restyle("marginTop","-"+e/2+"px"),this.iframeContainer.restyle("height",e+"px"))},Fe.prototype.renderBottomWidget=function(){this.isMaximized||(this.isBottomWidget=!0,this.minifiedWidget.container.template=w["mobile-bottom-"+P.mobileWidget()],this.iframeContainer.restyle("position","fixed"),this.updateWidgetPosition())},Fe.prototype.handleIndicatorToggle=function(e){var t=this.minifiedBoxWidth,i=this.minifiedWidget.container.getElementById("tawkchat-chat-indicator"),n=this.minifiedWidget.container.getElementById("tawkchat-minified-wrapper");this.minifiedWidget.container.getElementById("tawkchat-minified-box"),this.isIndicatorOn=e,n.className=e?n.className+" indicator-on ":n.className.replace("indicator-on",""),this.minifiedBoxWidth=e?t+7:this.defaultWidth,this.isMobileOptimizedWebsite()?this.scaleContent(1):this.renderMinifiedBox(),i.style.visibility="visible"},Fe.prototype.updateViewByStatus=function(e){this.isMaximized?(this.parent.updateViewByStatus.call(this,e),this.maximizedWidget&&"preChatForm"!==y.formHandler.currentForm&&"offlineForm"!==y.formHandler.currentForm&&"consentForm"!==y.formHandler.currentForm&&this.maximizedWidget.toggleMenuContainer("online"===e||"away"===e)):this.iframeContainer.elementReferrer&&("offline"===e&&P.hideWidgetOnOffline?this.hideWidget():this.showWidget(),this.resizeHandler())},Fe.prototype.updateWidgetPosition=function(e){var t={},i={};e=e||this.minifiedBoxHeight,this.iframeContainer&&(P.isCenterPositioned()?(t.top="50% !important",t.bottom="auto !important",t.margin=this.isMinifiedRound?-.5*e+"px 0 0 0 !important":-.5*e-(this.defaultHeight-37)/2+"px 0 0 0 !important"):(t.margin="0 !important",P.isTopPositioned()?(t.top="0px !important",t.bottom="auto !important",i.top=this.isMinifiedRound?"20px !important":"-10px !important"):(t.bottom="0px !important",t.top="auto !important",i.bottom=this.isMinifiedRound?"14px !important":"0px !important")),P.isRightPositioned()?(t.right="0px !important",t.left="auto !important",i.right=this.isMinifiedRound?"20px !important":"15px !important"):(t.left="0px !important",t.right="auto !important",i.left=this.isMinifiedRound?"20px !important":"15px !important"),this.iframeContainer.massRestyle(t),this.minifiedWidget.container.massRestyle(i))},Fe.prototype.appendMessage=function(e){var t,i,n,a={"chat-message-row":w["chat-message-row"],"chat-resend-link":w["chat-resend-link"],"chat-message-owner-agent":w["chat-message-owner-agent"],"chat-message-container":w["chat-message-container"],"chat-notification-container":w["chat-notification-container"],"chat-message-status-row":w["chat-message-status-row"],"chat-divider":w["chat-divider"]},o=q.parseChatTime(e.time);return"a"===e.senderType?(t=(t=(n=F.agentProfiles[e.ownerId])&&n.pi?D.agentImgUrl+"/"+F.agentProfiles[e.ownerId].pi:"")?"url('"+t+"')":"transparent",i="explorer"===I&&B<9?"filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"',sizingMethod='scale');":"background-position:0 0;background-size:28px 28px;",a["chat-message-owner-agent"]=a["chat-message-owner-agent"].replace("__IMAGE_URL__",t).replace("__IE_IMAGE_SCALE__",n&&n.pi?i:"")):"s"===e.senderType&&(a["chat-message-owner-agent"]=a["chat-message-owner-agent"].replace("__IMAGE_URL__","").replace("__IE_IMAGE_SCALE__","")),a["chat-message-status-row"]=e.isPending?w["chat-message-pending-row"]:a["chat-message-status-row"].replace("__TIME__",o).replace("__TIME_CLASS__","v"===e.senderType?"visitor":"agent"),this.parent.appendMessage.call(this,e,a)},Fe.prototype.appendAgentIsTypingElement=function(e){this.parent.appendAgentIsTypingElement.call(this,e)},Fe.prototype.removeAgentTypingElement=function(e){this.parent.removeAgentTypingElement.call(this,e)},Fe.prototype.addOverflowScroll=function(t){var i=0,n=this;y.eventHandler.listen(t,"touchstart",function(e){i=t.scrollTop+e.touches[0].pageY},"mobiletouchstart"+t.id),y.eventHandler.listen(t,"touchmove",function(e){y.eventHandler.cancelEvent(e),e.touches[0].pageY<=20||i-e.touches[0].pageY<0||(t.scrollTop=i-e.touches[0].pageY,this.maximizedWidget.isScrollbarDown=n.ifScrollbarDown())},"mobiletouchmove"+t.id)},Fe.prototype.addStartTime=function(e){var t,i=this.chatContainer.documentRef;i&&(e=q.getDateFromUTC(e),e=y.languageParser.translate("days",e.getDay())+", "+y.languageParser.translate("months",e.getMonth())+" "+e.getDate()+", "+e.getFullYear(),t=(t=w["mobile-first-message-time"]).replace("__CONTENT__",e),messageContainer=new ke("firstMessageTimeWrapper",null,{className:"chatLineContainer"},null,i.documentRef),messageContainer.template=t,messageContainer.buildView(),chatWrapper.insertBefore(messageContainer.elementReferrer,i.getElementById("chatWrapper").firstChild))},Fe.prototype.resetView=function(){var e,t;(e=this.chatContainer)&&((e=e.getElementById("chatWrapper"))&&(t=e.lastChild,e.innerHTML="",e.appendChild(t),this.showEmbeddedGreetings()),this.show())},Fe.prototype.appendAgent=function(){var e=this.chatContainer,t=e.getElementById("chatWrapper");e&&(y.agents.agentsCount++,t.className=y.agents.agentsCount<=1?"single-agent":"multi-agent")},Fe.prototype.removeAgent=function(e){this.chatContainer.elementReferrer&&y.agents.agentsCount--},Fe.prototype.handleRestartChat=function(){y.formHandler.closeForm(),this.maximizedWidget.chatStarted()},Fe.prototype.hideEmbeddedGreetings=function(){var e,t;e=this.maximizedWidget.container.getElementById("greetingsWrapper"),t=this.maximizedWidget.container.getElementById("chatWrapper"),e&&t&&(e.style.display="none",t.style.display="block")},Fe.prototype.showEmbeddedGreetings=function(){var e,t;e=this.maximizedWidget.container.getElementById("greetingsWrapper"),t=this.maximizedWidget.container.getElementById("chatWrapper"),e&&t&&(t.style.display="none",e.style.display="block")},Fe.prototype.toggleWidget=function(){this.isMaximized?y.sessionHandler.notifyWindowState("min"):y.sessionHandler.notifyWindowState("max")},Fe.prototype.toggleVisibility=function(){this.scrollToBottom(),(this.isVisibilityToggled=!this.isVisibilityToggled)?this.hideWidget():this.showWidget()},Fe.prototype.isWidgetHidden=function(){return!this.iframeContainer.isVisible};var De=function(e){Fe.call(this,e)};(De.prototype=new Fe).init=function(){this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},De.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(e<.2?.2:e)};var We=function(e){Fe.call(this,e)};(We.prototype=new Fe).init=function(){this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},We.prototype.isLandscape=function(){return 0!==f.orientation},We.prototype.getZoom=function(){this.zoom=(this.isLandscape()?screen.height:screen.width)/f.innerWidth},We.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(e,!1)};var Ue=function(e){Fe.call(this,e)};(Ue.prototype=new Fe).init=function(){this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},Ue.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(e,!0)};var Ve=function(e){Fe.call(this,e),this.screenWidth=0};(Ve.prototype=new Fe).init=function(){this.renderBottomWidget(),this.addResizeEvents(!0),this.resizeHandler()},Ve.prototype.isLandscape=function(){return 0!==f.orientation},Ve.prototype.getZoom=function(){this.isLandscape()?this.screenWidth=screen.height:this.screenWidth=screen.width,this.zoom=this.screenWidth/f.innerWidth},Ve.prototype.renderMinifiedBox=function(){var e;e=this.isMobileOptimizedWebsite()?(.2*this.screenWidth/this.minifiedBoxWidth).toFixed(2):(1/this.zoom.toFixed(2)).toFixed(2),this.scaleContent(e,!0)};var je=function(e){Fe.call(this,e)};(je.prototype=new Fe).init=function(){this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},je.prototype.renderMinifiedBox=function(){this.scaleContent()};var qe=function(e){Fe.call(this,e)};(qe.prototype=new Fe).init=function(){this.renderBottomWidget(),this.checkMetaContent(),this.addResizeEvents(),this.resizeHandler()},qe.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(e,!0)};var Ge=function(e){Fe.call(this,e)};(Ge.prototype=new Fe).init=function(){var e;"ie"===this.browser&&((e=document.createElement("meta")).httpEquiv="X-UA-Compatible",e.setAttribute("content","IE=edge"),document.getElementsByTagName("head")[0].appendChild(e)),this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},Ge.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(e<.2?.2:e)};var Xe=function(e){Fe.call(this,e)};(Xe.prototype=new Fe).init=function(){this.renderBottomWidget(),this.addResizeEvents(),this.resizeHandler()},Xe.prototype.renderMinifiedBox=function(){var e=(1/this.zoom.toFixed(2)).toFixed(2);this.scaleContent(e<.2?.2:e)};var Ke=Ie.extend({init:function(){var e,t,i,n,a=this;this._super(this),e=document.getElementsByTagName("head")[0],t=document.createDocumentFragment(),i=q.createElement(document,"style",{type:"text/css"}),n=document.createTextNode(y.ResetStyle+""+y.MaximizedMobileStyle+P.mobMaxStyle()),i.styleSheet?i.styleSheet.cssText=n.nodeValue:i.appendChild(n),t.appendChild(i),e.appendChild(t),this.clickEvent="touchend",this.iframeContainer=new ke(q.getRandomName(),"border: 0 none; padding: 0; margin: 0; z-index: 9999999; width: 100%; height: 100%; display: none; position : fixed; top :0; bottom : 0; min-width: 0 !important; min-height: 0 !important; max-width: none !important; max-height: none !important;"),o=new Le,this.iframeContainer.addChildViews([o.container]),this.iframeContainer.buildView(),this.chatContainer=o.container,o.wrapper.addClass("isPopout"),F.rating.subscribe(function(e){a.changeRating(e)}),D.pageStatus.subscribe(function(e){a.updateViewByStatus(e)}),O.displayName.subscribe(function(e){a.changeVisitorName(e)}),P.mobMaxStyle.subscribe(function(){o.container.insertCssFile(P.mobMaxStyle()),o.wrapper.removeClass("white"),o.wrapper.removeClass("black"),o.wrapper.addClass(q.getContrast(P.headerTxtColor))}),y.chatHandler.hasChatStarted.subscribe(function(e){o.toggleEndChatOption(e)})},show:function(){o.show(),this.updateViewByStatus(D.pageStatus()),this._super(),y.socketManager.sendToConnector("popupOnFocus",!0)},appendMessage:function(e){var t,i,n,a={"chat-message-row":w["chat-message-row"],"chat-resend-link":w["chat-resend-link"],"chat-message-owner-agent":w["chat-message-owner-agent"],"chat-message-owner-visitor":w["chat-message-owner-visitor"],"chat-message-container":w["chat-message-container"],"chat-notification-container":w["chat-notification-container"],"chat-message-status-row":w["chat-message-status-row"],"chat-divider":w["chat-divider"]},o=q.parseChatTime(e.time);return"a"===e.senderType?(t=(t=(n=F.agentProfiles[e.ownerId])&&n.pi?D.agentImgUrl+"/"+F.agentProfiles[e.ownerId].pi:"")?"url('"+t+"')":"transparent",i="explorer"===I&&B<9?"filter: progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+t+"',sizingMethod='scale');":"background-position:0 0;background-size:28px 28px;",a["chat-message-owner-agent"]=a["chat-message-owner-agent"].replace("__IMAGE_URL__",t).replace("__IE_IMAGE_SCALE__",n&&n.pi?i:"")):"s"===e.senderType&&(a["chat-message-owner-agent"]=a["chat-message-owner-agent"].replace("__IMAGE_URL__","").replace("__IE_IMAGE_SCALE__","")),a["chat-message-status-row"]=e.isPending?w["chat-message-pending-row"]:a["chat-message-status-row"].replace("__TIME__",o).replace("__TIME_CLASS__","v"===e.senderType?"visitor":"agent"),this._super(e,a)},prepareResendLink:function(t){var e,i,n,a=this.chatContainer.getElementById(t);a&&a.childNodes.length&&(n=a.parentNode.childNodes[0])&&(e=n.childNodes[0],i=q.rawDecode(a.childNodes[0].textContent||a.childNodes[0].innerText),e&&i&&this.chatContainer.attachUserEventListener(this.clickEvent,function(e){y.eventHandler.cancelEvent(e),-1!==n.className.indexOf("errorInMessage")&&(n.className="messageStatusContainer pending",y.chatHandler.sendMessageToServer(i,t))},"resendMessage-"+t,"resend"+t+"click"))},updateViewByStatus:function(e){this._super(e),o&&"preChatForm"!==y.formHandler.currentForm&&"offlineForm"!==y.formHandler.currentForm&&(o.toggleMenuContainer("online"===e||"away"===e),P.isPopup&&(e=l.getShortMessage(e),document.title=e?L.pageName()+" - "+q.rawDecode(e):L.pageName()))},handleEndChat:function(){o.chatEnded(),this.hideWidget()},handleRestartChat:function(){o.chatStarted()},hideEmbeddedGreetings:function(){var e,t;o&&o.container&&(e=o.container.getElementById("greetingsWrapper"),t=o.container.getElementById("chatWrapper"),e&&t&&(e.style.display="none",t.style.display="block"))},showEmbeddedGreetings:function(){var e;o.container&&(e=o.container.getElementById("greetingsOverlay"),chatWrapper=o.container.getElementById("chatTableWrapper"),e&&chatWrapper&&(chatWrapper.style.display="none",e.style.display="block"))},changeVisitorName:function(e){var t,i,n,a;if(this.chatContainer&&this.chatContainer.elementReferrer&&(t=this.chatContainer.getElementById("chatWrapper")))for(i=0,n=(a=q.getElementsByClassName(t,"messageOwnerName visitor")).length;i<n;i+=1)(t=a[i]).innerHTML=e},appendAgent:function(){var e=this.chatContainer,t=e.getElementById("chatWrapper");e&&(y.agents.agentsCount++,t.className=y.agents.agentsCount<=1?"single-agent":"multi-agent")},removeAgent:function(e){this.chatContainer.elementReferrer&&y.agents.agentsCount--}});Ke.prototype.begin=function(){var e=A;if(document.body.appendChild(this.iframeContainer.elementReferrer),"symbian"!==e&&"ie"!==e&&"opera"!==e&&"android2.3"!==e||(this.clickEvent="click"),o.buildView(),this.chatContainer.documentRef.getElementById("popOut").style.display="none",q.isTouchDevice()&&("android"===A||"android2"===A||"android2.3"===A)){e=this.chatContainer.getElementById("chatContainer");var t=this.chatContainer.getElementById("menuScrollable");this.addOverflowScroll(e),this.addOverflowScroll(t),e.style.overflow="hidden",t.style.overflow="hidden"}y.audioPlayer.initAudioPlayer()},Ke.prototype.hideWidget=function(){y.socketManager.sendToConnector("popupOnFocus",!1),setTimeout(function(){1<f.history.length?f.history.back():f.close()},200)},Ke.prototype.showWidget=function(){this.scrollToBottom(),this.iframeContainer.show()},Ke.prototype.addStartTime=function(e){var t,i=this.chatContainer.documentRef;i&&(e=q.getDateFromUTC(e),e=y.languageParser.translate("days",e.getDay())+", "+y.languageParser.translate("months",e.getMonth())+" "+e.getDate()+", "+e.getFullYear(),t=(t=w["mobile-first-message-time"]).replace("__CONTENT__",e),messageContainer=new ke("firstMessageTimeWrapper",null,{className:"chatLineContainer"},null,i.documentRef),messageContainer.template=t,messageContainer.buildView(),chatWrapper.insertBefore(messageContainer.elementReferrer,i.getElementById("chatWrapper").firstChild))},Ke.prototype.resetView=function(){var e,t;(e=this.chatContainer)&&((e=e.getElementById("chatWrapper"))&&(t=e.lastChild,e.innerHTML="",e.appendChild(t),this.showEmbeddedGreetings()),this.show())},Ke.prototype.addOverflowScroll=function(t){var i=0,n=this;y.eventHandler.listen(t,"touchstart",function(e){i=t.scrollTop+e.touches[0].pageY},"mobiletouchstart"+t.id),y.eventHandler.listen(t,"touchmove",function(e){y.eventHandler.cancelEvent(e),e.touches[0].pageY<=20||i-e.touches[0].pageY<0||(t.scrollTop=i-e.touches[0].pageY,o.isScrollbarDown=n.ifScrollbarDown())},"mobiletouchmove"+t.id)},Ke.prototype.addEmojiToInput=function(e){o.addEmojiToInput(e)},Ke.prototype.closeEmojiSelection=function(){o.closeEmojiSelection()};var $e=function(){var e=this,t=!1;this.onActivityHandler=function(){y&&(e.away&&s.connected&&y.socketManager.sendToConnector("notifySocketStatusUpdate","online"),e.active=!0,e.away=!1)},this.popupOnFocusHandler=function(){y&&(!s.connected&&y.socketManager.isForcedDisconnect()?y.main.criticalRefresh(D.serverVersion,!1,!0):(e.hasFocus||(e.active=!0,e.hasFocus=!0,s.connected&&y.socketManager.sendToConnector("popupOnFocus",!0)),e.away&&s.connected&&y.socketManager.sendToConnector("notifySocketStatusUpdate","online"),e.away=!1))},this.popupOnBlurHandler=function(){y&&(e.hasFocus=!1,s.connected&&y.socketManager.sendToConnector("popupOnFocus",!1))},this.reconnectOnActivity=function(){y&&!t&&(t=!0,y.main.criticalRefresh(D.serverVersion))},this.away=this.active=this.hasFocus=!1,this.interval=this.awayTimeout=this.inactivityTimeout=null,this.initActivityReset=function(){e.resetTimeout(),e.setupListeners(),e.interval=setInterval(function(){e.active&&(e.resetTimeout(),e.active=!1)},1e4)}};$e.prototype.resetTimeout=function(){var e=this;clearTimeout(this.inactivityTimeout),clearTimeout(this.awayTimeout),this.awayTimeout=setTimeout(function(){!e.away&&y&&(e.away=!0,y&&y.socketManager&&s.connected&&y.socketManager.sendToConnector("notifySocketStatusUpdate","away"))},6e5),y&&!y.socketManager.isForcedDisconnect()&&(this.inactivityTimeout=setTimeout(function(){e.inactivityTimeoutHandler()},12e5))},$e.prototype.inactivityTimeoutHandler=function(){y&&(y.socketManager.disconnectConnector(),P.isEmbedded?y.formHandler.openForm("inactivityOverlay"):D.chatWindowState("min"),A?(y.eventHandler.listen(y.viewHandler.chatContainer.documentRef,"touchmove",this.reconnectOnActivity,"acitmmousemove"),y.eventHandler.listen(y.viewHandler.chatContainer.documentRef,y.viewHandler.clickEvent,this.reconnectOnActivity,"acitmclick"),y.eventHandler.listen(y.viewHandler.chatContainer.documentRef,"keydown",this.reconnectOnActivity,"acitmkeydown"),y.eventHandler.listen(document,"touchmove",this.reconnectOnActivity,"acitmousemove"),y.eventHandler.listen(document,y.viewHandler.clickEvent,this.reconnectOnActivity,"acitclick"),y.eventHandler.listen(document,"keydown",this.reconnectOnActivity,"acitkeydown")):(y.eventHandler.listen(document,"mousemove",this.reconnectOnActivity,"acitmousemove"),y.eventHandler.listen(document,"click",this.reconnectOnActivity,"acitclick"),y.eventHandler.listen(document,"keydown",this.reconnectOnActivity,"acitkeydown"),document.onfocusin?y.eventHandler.listen(document,"focusin",this.reconnectOnActivity,"acitfocus"):y.eventHandler.listen(f,"focus",this.reconnectOnActivity,"acitfocus")))},$e.prototype.cleanUp=function(){clearInterval(this.interval),clearTimeout(this.inactivityTimeout),clearTimeout(this.awayTimeout)},$e.prototype.setupListeners=function(){A?(y.eventHandler.listen(y.viewHandler.chatContainer.documentRef,"touchmove",this.onActivityHandler,"acmmousemove"),y.eventHandler.listen(y.viewHandler.chatContainer.documentRef,y.viewHandler.clickEvent,this.onActivityHandler,"acmclick"),y.eventHandler.listen(y.viewHandler.chatContainer.documentRef,"keydown",this.onActivityHandler,"acmkeydown"),y.eventHandler.listen(document,"touchmove",this.onActivityHandler,"acmousemove"),y.eventHandler.listen(document,y.viewHandler.clickEvent,this.onActivityHandler,"acclick"),y.eventHandler.listen(document,"keydown",this.onActivityHandler,"ackeydown")):P.isPopup?(document.onfocusin?(y.eventHandler.listen(document,"focusin",this.popupOnFocusHandler,"acfocus"),y.eventHandler.listen(document,"focusout",this.popupOnBlurHandler,"acblur")):(y.eventHandler.listen(f,"focus",this.popupOnFocusHandler,"acfocus"),y.eventHandler.listen(f,"blur",this.popupOnBlurHandler,"acblur")),y.eventHandler.listen(document,"click",this.popupOnFocusHandler,"acphclick"),y.eventHandler.listen(document,"keydown",this.popupOnFocusHandler,"acphkeydown")):(y.eventHandler.listen(document,"mousemove",this.onActivityHandler,"acmousemove"),y.eventHandler.listen(document,"click",this.onActivityHandler,"acclick"),y.eventHandler.listen(document,"keydown",this.onActivityHandler,"ackeydown"))};var Ye=function(){var t=this;this.originalPageStatus=this.agentCountSubscription=this.setupTimeout=null,this.utcOffset=0,y.eventEmitter.on("scheduleUpdate",function(e){P.widgetId===e.wdgt&&(P.schedule=e.ws?t.convertOldScheduleFormat(e.ws.sch):null,P.scheduleTimezone=null===e.wstz?{}:{utc:e.wstz.utc,tzo:e.wstz.offset},t.setup())})};Ye.prototype.setup=function(){this.clear(),null===this.originalPageStatus&&(this.originalPageStatus=D.pageStatus()),P.schedule?(this.utcOffset=-1*((new Date).getTime()-P.scheduleTimezone.utc),this.calculate()):D.pageStatus(this.originalPageStatus)},Ye.prototype.calculate=function(){var e,t,i,n,a,o=this;if(this.clear(),P.schedule)if(0===P.schedule.length)this.goOffline();else{t=-6e4*(e=new Date).getTimezoneOffset(),t=P.scheduleTimezone.tzo-t,e=(i=new Date(e.getTime()+this.utcOffset+t)).getDay(),i=60*(t=60*i.getHours()+i.getMinutes())+i.getSeconds();for(var r=0;r<P.schedule.length;r++){var s=P.schedule[r];if(s.day===e){if(t>=s.start&&t<s.end){n=s;break}if(t<s.start){a=s;break}}}void 0!==(n=void 0!==n?(this.goOnline(),60*n.end-i):(this.goOffline(),void 0!==a?60*a.start-i:86400-i+1))&&(this.setupTimeout=setTimeout(function(){o.calculate()},1e3*n))}},Ye.prototype.goOnline=function(){null!==this.agentCountSubscription&&(y.agents.totalAgents.unsubscribe(this.agentCountSubscription),this.agentCountSubscription=null),"offline"!==this.originalPageStatus&&D.pageStatus(this.originalPageStatus)},Ye.prototype.goOffline=function(){0!==y.agents.totalAgents()?(null!==this.agentCountSubscription&&y.agents.totalAgents.unsubscribe(this.agentCountSubscription),this.agentCountSubscription=y.agents.totalAgents.subscribe(function(e){0===e&&D.pageStatus("offline")})):D.pageStatus("offline")},Ye.prototype.clear=function(){clearTimeout(this.setupTimeout),(this.setupTimeout=null)!==this.agentCountSubscription&&(y.agents.totalAgents.unsubscribe(this.agentCountSubscription),this.agentCountSubscription=null)},Ye.prototype.cleanUp=function(){this.clear(),this.originalPageStatus=null},Ye.prototype.convertOldScheduleFormat=function(i){var n=[];return!i||Array.isArray(i)?i:(Object.keys(i).forEach(function(e){var t=i[e];0===t.start&&0===t.end||n.push({day:parseInt(e,10),start:Math.floor(t.start/6e4),end:Math.floor(t.end/6e4)})}),n)};var Je=function(){this.registerTime=0,this.registerStart=null,this.maxRetrycount=3,this.retryCount=0,this.registerData=this.registerDelayTimeout=this.connectionCookieInterval=this.requestCancelTimeout=this.previousRegisterCall=null,this.registerStarted=!1,this.retryDelay=null,this.retryInitialDelay=30,this.retryMultiplier=1.5,this.minRandom=.5,this.maxRandom=1.5,this.maxDelay=120,this.retryRegisterTimeout=null};Je.prototype.register=function(){this.registerStarted=!0,this.clearTimers(),this.prepareData()},Je.prototype.prepareData=function(){var e,t,i,n="",a="";y&&(e=re.getSessionInformation(),t=D.sessionKey||void 0,e.length&&(a=e[0]),((i=(new Date).getTimezoneOffset())<-900||900<i)&&(i=0),this.registerData?(this.registerData.k=t,this.registerData.d=a):(n=y.browserData.getReferredSearchEngine(),this.registerData={a:L.pageId||"",k:t,w:P.widgetId,d:a,mb:A?1:0,m:i,s:n,q:"",r:document.referrer}),this.registerData.cf=3===e.length&&"cf"===e[2]?1:0,y.main.maximize&&(this.registerData.h="max"),this.registerData.wv=P.widgetVersion,P.isPopup&&D.transferKey&&D.sessionKey&&(this.registerData.tk=D.transferKey),y.main.previousSessionKey=this.registerData.k,this.getUUID())},Je.prototype.getUUID=function(){var e,t,i,n=!1,a=1/0,o=y.punycode.toASCII(f.location.hostname);"www."===o.substring(0,4)&&(o=o.replace("www.",""));for(var r=0,s=(e=re.getStoredUUID()).length;r<s;r++){var l,c,d,p;if(4===(p=re.parseSessionInformation(e[r])).length)if(l=p[0],c=p[1],d=p[2],p=p[3],"e"===l){if(o===c){t=d,i=p;break}}else"p"===l&&(l=o.match(c))&&o.substr(l.index)===c&&l.index<a&&(a=l.index,t=d,i=p,n=!0)}this.registerData&&(this.registerData.u=t,this.registerData.uv=i,n&&(this.registerData.uw=!0)),this.startRegister()},Je.prototype.abort=function(){null!==this.previousRegisterCall&&(ae.abort(this.previousRegisterCall),this.previousRegisterCall=null)},Je.prototype.setupRegisterTimeout=function(){var e=this;clearTimeout(this.requestCancelTimeout),this.requestCancelTimeout=setTimeout(function(){e.abort(),e.retryRegister()},9e4)},Je.prototype.startRegister=function(){var e=re.getHTTPCookie("TawkConnectionTime");!(e=parseInt(e.length?e[0]:null,10))||1e3<(new Date).getTime()-new Date(e).getTime()?(re.setHTTPCookie("TawkConnectionTime",(new Date).getTime(),!0),this.connectionCookieInterval=setInterval(function(){re.setHTTPCookie("TawkConnectionTime",(new Date).getTime(),!0)},100),this.doRegister()):this.delayRegister()},Je.prototype.delayRegister=function(){var e=this;clearTimeout(this.registerDelayTimeout),this.registerDelayTimeout=setTimeout(function(){e.register()},1e3)},Je.prototype.doRegister=function(){var e=D.visitorAppServer+"/register/",i=this,t=function(e,t){if(!e&&!t)return i.clearTimers(),i.retryRegister();y&&(t=q.trim(t),y.main.begin($_TAWK_JSON.parse(t)))};this.registerStart=(new Date).getTime(),this.setupRegisterTimeout(),e+=this.registerStart,this.previousRegisterCall=!ae.hasCORS||"symbian"===A||"android"===A&&4===B?ae.jsonpLoad(e,this.registerData,t):ae.xhrRequest(e,this.registerData,t)},Je.prototype.retryRegister=function(){var e,t=this;null===this.retryRegisterTimeout&&(this.retryCount>=this.maxRetrycount?(this.clearTimers(),y&&y.main.hideWidget()):(this.retryCount++,e=this.getRetryWaitDelay(),this.retryRegisterTimeout=setTimeout(function(){t.register()},e)))},Je.prototype.resetRetryCount=function(){this.retryCount=0,this.retryDelay=10},Je.prototype.getRetryWaitDelay=function(){var e,t=Math.random()*(this.maxRandom-this.minRandom)+this.minRandom;return null===this.retryDelay?this.retryDelay=this.retryInitialDelay:(e=this.retryDelay*this.retryMultiplier,this.retryDelay=this.retryDelay>this.maxDelay||e>this.maxDelay?this.maxDelay:e),1e3*Math.round(this.retryDelay*t)},Je.prototype.clearTimers=function(){this.abort(),clearTimeout(this.requestCancelTimeout),clearTimeout(this.registerDelayTimeout),clearTimeout(this.retryRegisterTimeout),clearInterval(this.connectionCookieInterval),re.setHTTPCookie("TawkConnectionTime",0,!0),this.connectionCookieInterval=this.requestCancelTimeout=this.registerDelayTimeout=this.retryRegisterTimeout=null};var Ze=function(){};Ze.prototype.processSettings=function(e){var t,i,n,a,o="",r=n="",s="";e.wv<P.widgetVersion||(P.widgetVersion=e.wv,P.chatPosition(e.pos),A?P.mobileWidget(e.mw||"round"):P.desktopWidget(e.dw||"full"),P.maximizedDimensions({width:parseInt(e.w,10)||320,height:parseInt(e.h,10)||400}),i=P.isDesktopRectangle()?(t=parseInt(e.minw,10)||320,parseInt(e.minh,10)||40):(t=62,66),P.minimizedDimensions({width:t,height:i,position:e.pos}),P.chatBubble(e.bbl),P.headerBgColor=e.thm.hbg||"#7fb06f",P.headerTxtColor=e.thm.htx||"#ffffff",P.agentTextBgColor=e.thm.aBblBg||q.shadeColor(P.headerBgColor,-.1),P.agentTextColor=e.thm.aBblTx||"#ffffff",P.visitorTextBgColor=e.thm.vBblBg||"#e5e5e5",P.visitorTextColor=e.thm.vBblTx||"#333333",void 0!==e.thm.topc?P.topCorner=e.thm.topc:P.isTopPositioned()?P.topCorner=0:P.topCorner=8,void 0!==e.thm.btmc?P.bottomCorner=e.thm.btmc:P.isTopPositioned()?P.bottomCorner=8:P.bottomCorner=0,(P.isEmbedded||P.isPopup)&&(P.topCorner=0,P.bottomCorner=0),P.onClickAction=e.woc,P.hideWidgetOnLoad=e.hwol,P.hideWidgetOnOffline=e.hwof,P.hideWidget=!!e.dsw,P.showAgentBar=!e.hab,P.showWaitTime=!e.hwt,P.locale=e.lc,P.onlineGreeting=e.onlineGreeting,P.awayGreeting=e.awayGreeting,P.schedule=y.scheduler.convertOldScheduleFormat(e.ws),P.soundOn(!e.dws),0<=q.rtlLangTab.indexOf(P.locale)?P.isRTL(!0):P.isRTL(!1),this.processPrechatForm(e),this.processOfflineForm(e,e.grt),y&&(t=".theme-background-color{background-color: "+P.headerBgColor+";}",i=".theme-text-color{color: "+P.headerTxtColor+";}",y.MinifiedStyle&&(n=n+t+i,n+=".border-corner{border-radius : "+(a=P.topCorner+"px "+P.topCorner+"px "+P.bottomCorner+"px "+P.bottomCorner+"px !important;")+"-moz-border-radius : "+a+"-webkit-border-radius : "+a+"};",n+=".bubble-text-color{color:"+(P.chatBubble()?P.chatBubble().fgc:"#ffffff")+";}",P.minStyle(n)),y.MaximizedStyle&&(n=".border-corner{border-radius : "+(a=P.topCorner+"px "+P.topCorner+"px 0px 0px !important;")+"-moz-border-radius : "+a+"-webkit-border-radius : "+a+"};",o=o+t+i,o+="button.theme-background-color:hover{background-color: "+q.shadeColor(P.headerBgColor,-.3)+";}",o+=".agentChatContainer .message{background-color: "+P.agentTextBgColor+" !important; color : "+P.agentTextColor+" !important;}",o+=".visitorChatContainer .message{background-color: "+P.visitorTextBgColor+" !important; color : "+P.visitorTextColor+" !important;}",o+=n,P.maxStyle(o)),y.MinifiedMobileStyle&&(s=s+t+i,P.mobMinStyle(s)),y.MaximizedMobileStyle&&(r=r+t+i,r+=".theme-background-color .button:hover, button.approveButton:active{background-color: "+q.shadeColor(P.headerBgColor,-.3)+";}",r+="#topBarContainer{border-color: "+q.shadeColor(P.headerBgColor,-.3)+";}",r+=".agentChatContainer .message{background-color: "+P.agentTextBgColor+" !important; color : "+P.agentTextColor+" !important;}",r+=".visitorChatContainer .message{background-color: "+P.visitorTextBgColor+" !important; color : "+P.visitorTextColor+" !important;}",P.mobMaxStyle(r))),e.cf&&(P.consentOption={text:e.cf.msg,buttons:[{textReplace:e.cf.btnAccpt,placeholder:"__CUSTOM_SUBMIT_BUTTON__"},{textReplace:e.cf.btnRjct,placeholder:"__CUSTOM_CLOSE_BUTTON__"}]},e.cf.plcyUrl&&(P.consentOption.text+="\n["+(e.cf.plcyUrlTxt||e.cf.plcyUrlTxt)+"]("+e.cf.plcyUrl+")")))},Ze.prototype.processPrechatForm=function(e){P.showPreChatForm=null!==e.prechatForm,P.showPreChatForm&&(P.prechatOptions=e.prechatForm)},Ze.prototype.processOfflineForm=function(e){e=e.offlineForm?e.offlineForm:{text:y.languageParser.translate("form","OfflineFormMessage"),shortMessage:y.languageParser.translate("status","offline"),fields:[{label:y.languageParser.translate("form","name"),isRequired:!0,type:"name"},{label:y.languageParser.translate("form","email"),isRequired:!0,type:"email"},{label:y.languageParser.translate("form","message"),isRequired:!0,type:"message"}]},P.offlineOptions=e},Ze.prototype.getPrechatFields=function(){return P.prechatOptions.fields},Ze.prototype.getOfflineFields=function(){return P.offlineOptions.fields},Ze.prototype.getShortMessage=function(e){var t=null;return"online"===e&&P.onlineGreeting?t=P.onlineGreeting.shortMessage:"away"===e&&P.awayGreeting?t=P.awayGreeting.shortMessage:"offline"===e&&P.offlineOptions&&(t=P.offlineOptions.shortMessage),t},Ze.prototype.getLongMessage=function(e){var t=null;return"online"===e?P.onlineGreeting&&(t=P.onlineGreeting.longMessage):"away"===e?P.awayGreeting&&(t=P.awayGreeting.longMessage):P.offlineOptions&&(t=P.offlineOptions.text),q.transformGreetings(t)},l=new Ze;var Qe=function(){var t=this;O.name.subscribe(function(e){O.displayName(q.parseVisitorName(e))}),y.eventEmitter.on("localeChanged",function(){O.displayName(q.parseVisitorName(O.name()))}),y.eventEmitter.on("visitorDataUpdate",function(e){t.updateVisitorInformation(e)}),y.eventEmitter.on("requestEmailTranscript",function(e,t){e.chatEndVersion=F.chatEndVersion,y.chatHandler.hasChatEnded?y.socketManager.sendToConnector("notifyEndChatTranscript",e,t):y.socketManager.sendToConnector("notifyEmailTranscript",e,t)})};Qe.prototype.updateVisitorUUID=function(e){var t=$_TAWK_JSON.parse(e.uuids);O.uuid=e.uuid,O.uuidVer=e.uver||0,t&&(Object.keys(t.e).forEach(function(e){O.uuids.push({isExact:!0,domain:e,uuid:t.e[e]})}),Object.keys(t.p).forEach(function(e){O.uuids.push({isExact:!1,domain:e,uuid:t.p[e]})})),re.storeUUID()},Qe.prototype.updateVisitorInformation=function(e){e.n&&q.isString(e.n)&&O.name(e.n),e.te&&q.isString(e.te)&&(O.transcriptEmail=e.te),e.e&&q.isString(e.e)&&O.email(e.e),e.vid&&(O.visitorId=e.vid),e.dpt&&q.isString(e.dpt)&&(F.chatDepartment=e.dpt)},Qe.prototype.setNameFromForm=function(e){y.visitorHandler.setNameValue(e),g.onVisitorNameChanged(e.name)},Qe.prototype.getNameValue=function(){return O.name()===O.displayName()?O.name():""},Qe.prototype.setNameValue=function(e){O.name(q.rawEncode(e.name))},Qe.prototype.getTranscriptEmailValue=function(){return O.transcriptEmail},Qe.prototype.getEmailValue=function(){return O.email()||O.transcriptEmail},Qe.prototype.setEmailValue=function(e){O.email(e.email)},Qe.prototype.setTranscriptValue=function(e){e.name&&O.name(q.rawEncode(e.name)),O.transcriptEmail=e.transcriptEmail};var et=function(){var i=this;y.eventEmitter.on("chatBubbleClosed",function(){D.chatBubbleClosed(!0)}),y.eventEmitter.on("windowStateUpdated",function(e){D.chatWindowState(e.cw)}),y.eventEmitter.on("pageStatusUpdated",function(e){var t;e&&(t=e.ast)&&q.isString(t)&&q.isArray(e.dptst)&&e.asver>D.pageStatusVersion&&(y.scheduler.originalPageStatus=e.ast,D.pageStatusVersion=e.asver,D.departments=e.dptst,D.pageStatus(e.ast),y.scheduler.calculate())}),y.eventEmitter.on("submitPrechatForm",function(e,t){i.formatPrechatData(e,t)}),y.eventEmitter.on("submitOfflineForm",function(e,t){i.formatOfflineData(e,t)}),D.pageStatus.subscribe(function(e){g.onStatusChange(e)})};et.prototype.closeBubble=function(){D.chatBubbleClosed(!0),y.socketManager.sendToConnector("notifyChatBubbleClosed")},et.prototype.getDeparmentOptions=function(){var e,t,i,n=[],a=D.departments;for(e=0,t=a.length;e<t;e++)i=a[e],n.push({text:q.rawDecode(i.n)+" ("+y.languageParser.translate("status",i.st)+")",value:i.did,selected:F.chatDepartment===i.did});return n},et.prototype.getDeparmentName=function(e){var t,i,n=D.departments;for(t=0,i=n.length;t<i;t++)if(n[t].did===e)return q.rawDecode(n[t].n);return e},et.prototype.formatFormData=function(e,t){var i,n,a,o={questions:[]};for(i=0,n=t.length;i<n;i++){if("name"===(a=t[i]).type&&(o.name=e[a.id]),"email"===a.type&&(o.email=e[a.id]),"department"===a.type){if(!e[a.id]||"0"==e[a.id])continue;o.department=e[a.id],e[a.id]=this.getDeparmentName(e[a.id])}e[a.id]&&0!==e[a.id].length&&(q.isArray(e[a.id])?o.questions.push({label:q.rawDecode(a.label),answer:e[a.id].join(", ")}):o.questions.push({label:q.rawDecode(a.label),answer:e[a.id]}))}return o},et.prototype.formatPrechatData=function(e,t){var i=this,n=this.formatFormData(e,l.getPrechatFields());y.socketManager.sendToConnector("notifyPrechat",n,function(e){if(e)return t(e,n);g.onPrechatSubmit(n.questions),i.handlePrechatSave(n,t)})},et.prototype.handlePrechatSave=function(t,i){var e,n,a="";if(t.name&&y.visitorHandler.setNameValue(t),t.email&&y.visitorHandler.setEmailValue(t),D.prechatFormSubmitted=!0,0===t.questions.length)return i(null,t);if(0<t.questions.length)for(e=0,n=t.questions.length;e<n;e++)a+=q.rawDecode(t.questions[e].label)+" : "+t.questions[e].answer,e!==n-1&&(a+="\r\n");y.chatHandler.sendMessageToServer(a,null,function(e){e.error||(y.chatHandler.prepareMessage({ut:"v",t:"c",m:q.rawEncode(a),co:new Date,uid:O.visitorId},!1,!1,!0),y.viewHandler.addWaitTime()),i(e.error,t)})},et.prototype.formatOfflineData=function(e,t){var i=this.formatFormData(e,l.getOfflineFields());i.questions.unshift({label:y.languageParser.translate("form","SubmittedFrom"),answer:f.location.href}),y.socketManager.sendToConnector("notifyOfflineMessage",i,function(e){if(e)return t(e,i);g.onOfflineSubmit(i),t(null,i)})},et.prototype.notifyWindowState=function(e){D.chatWindowState(e),y.socketManager.sendToConnector("notifyWindowState",e)},et.prototype.addEvent=function(e,t,i){var n;"function"==typeof t&&(i=t,t=null),i=i||function(){},(n=this.secureWrapper({})).name=e,n.data=t,y.socketManager.sendToConnector("addEvent",n,i)},et.prototype.setAttributes=function(t,e,i){if(i=i||function(){},e&&(t.name||t.email)){if(!t.name||!t.email||!t.hash)return i("UNAUTHORIZED_API_CALL");g.visitor={name:t.name,email:t.email,hash:t.hash}}else t=this.secureWrapper(t);y.socketManager.sendToConnector("setAttributes",t,function(e){e||(t.name&&y.visitorHandler.setNameValue(t),t.email&&y.visitorHandler.setEmailValue(t)),i(e)})},et.prototype.addTags=function(e,t){var i;t=t||function(){},(i=this.secureWrapper({})).tags=e,y.socketManager.sendToConnector("addTags",i,t)},et.prototype.removeTags=function(e,t){var i;t=t||function(){},(i=this.secureWrapper({})).tags=e,y.socketManager.sendToConnector("removeTags",i,t)},et.prototype.secureWrapper=function(e){return"undefined"===e&&(e={}),g&&g.visitor&&void 0!==g.visitor.hash&&null!==g.visitor.hash&&void 0!==g.visitor.email&&null!==g.visitor.email&&(e.email=g.visitor.email,e.hash=g.visitor.hash),e},et.prototype.setForeignKey=function(e,t){var i;t=t||function(){},(i=this.secureWrapper({})).key=e,y.socketManager.sendToConnector("saveForeignKey",i,t)},et.prototype.setConversionId=function(e,t){var i;t=t||function(){},(i=this.secureWrapper({})).key=e,y.socketManager.sendToConnector("saveConversion",i,t)},et.prototype.setVisitorAttributes=function(){var e={};g&&g.visitor&&(g.visitor.name&&(e.name=g.visitor.name),g.visitor.email&&(e.email=g.visitor.email),this.setAttributes(e,!1))};var tt=function(){var t=this;this.agentHasMessaged=this.visitorHasMessaged=!1,this.messageBuffer=[],this.messages={},this.agentsTyping=[],this.agentProfilesTyping=[],this.previousTextTime=this.previousText=this.lastMessageOwner=null,this.hasChatEnded=!1,this.hasChatStarted=_.observable(!1),this.hasWebRTCall=this.hasBeenMaximizedOnce=!1,y.eventEmitter.on("syncConversation",function(e){t.conversationUpdate(e)}),y.eventEmitter.on("incomingMessage",function(e){t.handleMessageFromServer(e)}),y.eventEmitter.on("agentIsTyping",function(e){t.handleAgentTyping(e.rsc)}),y.eventEmitter.on("agentStopedTyping",function(e){t.handleAgentStoppedTyping(e.rsc)}),y.eventEmitter.on("newChatRating",function(e){parseInt(e.rt,10),t.changeRating(e.rsc,!0)}),y.eventEmitter.on("webrtcCallStatus",function(e){y.viewHandler.subscribeCallUpdate(e.clid)})};tt.prototype.parseHistory=function(){var e,t,i;(new Date).getTime();var n=i=0;for(this.noRedraw=!0,F.chatEndVersion=1,e=0,t=F.chatHistory.length;e<t;e++)"CHAT_ENDED"===F.chatHistory[e].m&&(i=e+1,F.chatEndVersion++);for(e=i,t=F.chatHistory.length;e<t;e++)(!(i=F.chatHistory[e]).md||i.md&&!i.md.ao)&&("v"!==i.ut||this.visitorHasMessaged||"c"!==i.t||(n=(new Date).getTime()-q.getMilliseconds(i.co)),"WEBRTC_CALL"===i.m&&i.md&&i.md.webrtc?(this.hasWebRTCall=!0,y.viewHandler.subscribeCallUpdate(i.md.clid)):this.prepareMessage(i,!0,!1,!1));this.noRedraw=!1,this.visitorHasMessaged&&!this.agentHasMessaged&&P.showWaitTime&&(D.waitTime=D.waitTime<n?6e4:D.waitTime-n,y.viewHandler.addWaitTime()),this.hasChatStarted(this.visitorHasMessaged)},tt.prototype.handleIndicator=function(){y.viewHandler.indicator.show(),A&&(y.viewHandler.hasChatStarted=!0)},tt.prototype.handleMessageFromServer=function(e){var t=null;if(e.md&&e.md.ao)return F.chatVersion=e.cver;if("offline"===D.pageStatus()){if("a"!==e.ut)return;D.pageStatus("online")}if(!F.chatSynced)return F.chatBuffer.push(e);this.hasChatEnded&&this.startNewChat(),"WEBRTC_CALL"===e.m&&e.md&&e.md.webrtc?this.hasWebRTCall=!0:"CHAT_ENDED"!==e.m||this.hasChatEnded?("v"===e.ut&&"c"===e.t&&y.viewHandler.addWaitTime(),P.isPopup||"c"!==e.t||y.viewHandler.isMaximized||"v"===e.ut||P.isEmbedded||("max"!==P.onClickAction||this.agentHasMessaged||A||this.hasBeenMaximizedOnce?P.hideWidgetOnLoad||(y.viewHandler.indicator.show(),A&&(y.viewHandler.hasChatStarted=!0)):(y.viewHandler.userAction=!1,y.sessionHandler.notifyWindowState("max"),this.hasBeenMaximizedOnce=!0)),F.chatVersion=e.cver,"s"===e.ut||"c"!==e.t||this.hasChatStarted()||(this.hasChatStarted("v"===e.ut),g.onChatStarted()),"c"===e.t?"a"===e.ut?e.md&&e.md.file?g.onFileUpload("https://tawkto.link/"+e.md.file.name):g.onChatMessageAgent(e.m):"s"===e.ut&&g.onChatMessageSystem(e.m):"n"===e.t&&("AGENT_JOIN_CONVERSATION"===e.m?(e.md&&e.md.pi&&e.md.pi.length&&(t="https://s3.amazonaws.com/talk-pi/"+e.md.pi),g.onAgentJoinChat({name:e.n,position:e.md.pst,image:t,id:e.uid})):"AGENT_LEFT_CONVERSATION"===e.m&&g.onAgentLeaveChat({name:e.n,id:e.uid})),this.prepareMessage(e,!1),y.scheduler.calculate(),P.showPreChatForm&&"preChatForm"===y.formHandler.currentForm&&y.formHandler.closeForm()):this.endChat(e.md.cev)},tt.prototype.prepareMessage=function(e,t,i,n){var a,o,r,s,l=!0;"n"===e.t&&"v"===e.ut?"VISITOR_RATING"===e.m&&this.changeRating(e.md.rt,!0):("v"===e.ut?(a=O.displayName(),o=e.uid):(a=e.n,"a"===e.ut&&(o=F.profiles[e.md.rsc])),"n"!==e.t||"AGENT_JOIN_CONVERSATION"!==e.m&&"AGENT_LEFT_CONVERSATION"!==e.m||(this.hasChatStarted()||this.visitorHasMessaged||this.agentHasMessaged||Object.keys(this.messages).length||this.hasWebRTCall?(l=!1,y.agents.updateAgentPresence(e.m,e.md,e.n,e.md.rsc,!i)):(l=y.agents.updateAgentPresence(e.m,e.md,e.n,e.md.rsc,!i),r=y.languageParser.translate("chat",e.m,{n:"<b>"+e.n+"</b>"}))),A&&o&&F.agentProfiles[o]&&(s=F.agentProfiles[o].pi),l&&(r||(r=this.parseText(e.m)),void 0===t&&(t=!0),e.messageId=y.viewHandler.appendMessage({message:r,name:a,type:e.t,time:e.co,data:e.md,isPending:!1,senderType:e.ut,ownerId:o,dontPlaySound:t,profileImg:s,reDisplay:n}),n||F.chatOrder++,this.messages[F.chatOrder]=e))},tt.prototype.parseText=function(e){if(e)return e=e.replace(q.regLineBreaks,q.br),this.createUrl(e.split(/\s/)," ")},tt.prototype.createUrl=function(e,t){function i(e){return y.chatHandler.parseUrl(e)}function n(e){return y.chatHandler.parseEmail(e)}var a,o,r;for(o=0,r=e.length;o<r;o++)-1!==e[o].indexOf(q.br)?(a=e[o].split(q.regBr),e[o]=this.createUrl(a,q.br)):e[o].match(q.regEmailMatch)?e[o]=e[o].replace(q.regEmailMatch,n):(e[o]=e[o].replace(q.regMatchUrl,i),e[o]=e[o].replace(q.regMatchIp,i));return e.join(t)},tt.prototype.parseUrl=function(e){var t,i="";return void 0!==me&&me.unifyUnicode(e)!==e?e:(e.match(q.regEmailMatch)&&(i="mailto:"),"mailto:"===i?(-1!==(t=e.match(q.regEmailMatch)[0]).indexOf("mailto")&&(i=""),e.replace(q.regEmailMatch,'<a href="'+(i+t)+'" title="'+(i+t)+'" style="word-wrap:break-word; white-space:normal;>'+t+"</a> ")):(0!==e.toLowerCase().indexOf("http")&&0!==e.toLowerCase().indexOf("ftp")&&(i="http://"),'<a target="_blank" href="'+(i+e)+'" title="'+(i+e)+'" style="word-wrap:break-word; white-space:normal;">'+e+"</a> "))},tt.prototype.parseEmail=function(e){var t="";return void 0!==me&&me.unifyUnicode(e)!==e?e:(-1===e.indexOf("mailto")&&(t="mailto:"),'<a href="'+(t+e)+'" title="'+(t+e)+'">'+e+"</a> ")},tt.prototype.sendTextPreview=function(e){var t,i,n=this;if(t=y.eventHandler.getTargetElement(e),13===e.keyCode&&!e.shiftKey)return y.eventHandler.cancelEvent(e),i=q.trim(t.value),t.value="",this.sendMessage(i);this.keyDownTimeout||(this.keyDownTimeout=setTimeout(function(){i=q.trim(t.value),void 0!==me&&(i=me.toShort(i)),y.socketManager.sendToConnector("notifyMessagePreview",i),clearTimeout(n.keyDownTimeout),n.keyDownTimeout=0},1e3))},tt.prototype.sendMessage=function(e,t,i){var n=(new Date).getTime();if(e=q.trim(e),clearTimeout(this.keyDownTimeout),this.keyDownTimeout=0,!e)return!!i&&i();void 0!==me&&(e=me.toShort(e)),this.previousText&&this.previousTextTime&&this.previousText===e&&n-this.previousTextTime<500&&y.loggingHandler.logIncident("Double message occured",{previousText:this.previousText,currentText:e,currentT:n,previousT:this.previousTextTime}),this.previousTextTime=n,this.previousText=e,t=!!t,t=y.viewHandler.appendMessage({message:this.parseText(q.rawEncode(e)),name:O.displayName(),type:"c",time:new Date,isPending:!0,senderType:"v",ownerId:O.visitorId,dontPlaySound:t}),this.sendMessageToServer(e,t,i)},tt.prototype.sendMessageToServer=function(n,a,o){var r,s=this;o=o||function(e){y.viewHandler.handleAcknowledgment(e)},y.socketManager.sendToConnector("sendChatMessage",n,function(e,t,i){e||(r=++F.chatOrder,s.messages[r]={ut:"v",t:"c",m:q.rawEncode(n),co:t,messageId:a,uid:O.visitorId},F.chatVersion=i,s.hasChatStarted()||"offline"===D.pageStatus()||(s.hasChatStarted(!0),g.onChatStarted()),g.onChatMessageVisitor(n)),o({error:e,messageId:a,order:r})})},tt.prototype.conversationUpdate=function(e){var t,i,n=(e=e||{}).cver||0,a=e.c||[];if(i=F.chatBuffer,F.chatSynced=!0,!(F.chatVersion>=n)){for(e=0,t=i.length;e<t;e++)i[e].cver>n&&a.push(i[e]);for(e=0,t=a.length;e<t;e++)(i=a[e]).md&&i.md.ao||this.prepareMessage(i,!1);this.visitorHasMessaged&&!this.agentHasMessaged&&P.showWaitTime&&y.viewHandler.addWaitTime(),F.chatVersion=n,this.isScrollbar=y.viewHandler.isChatScrollbar(),y.viewHandler.scrollToBottom()}},tt.prototype.handleAgentTyping=function(e){var t=F.profiles[e];t&&F.agentProfiles[t]&&!this.agentsTyping[e]&&(this.agentsTyping[e]=!0,this.agentProfilesTyping[t]?this.agentProfilesTyping[t]++:(this.agentProfilesTyping[t]=1,y.viewHandler.appendAgentIsTypingElement(t)))},tt.prototype.handleAgentStoppedTyping=function(e){var t=F.profiles[e];this.agentsTyping[e]&&delete this.agentsTyping[e],!this.agentProfilesTyping[t]||0<--this.agentProfilesTyping[t]||(delete this.agentProfilesTyping[t],y.viewHandler.removeAgentTypingElement(t))},tt.prototype.changeRating=function(e,t){F.rating()===e&&(e=0),F.rating(e),t||(y.socketManager.sendToConnector("setRating",e),g.onChatSatisfaction(F.rating()))},tt.prototype.toggleSound=function(e){var t=!P.soundOn();void 0!==e&&(t=e),P.soundOn(t),void 0===e&&y.socketManager.sendToConnector("toggleSound",t)},tt.prototype.clearChatMessages=function(){this.agentHasMessaged=this.visitorHasMessaged=!1,this.messageBuffer=[],this.messages={},this.agentsTyping=[],this.agentProfilesTyping=[],this.lastMessageOwner=null,F.chatOrder=0,F.chatSynced=!1,F.chatBuffer=[]},tt.prototype.startNewChat=function(){this.clearChatMessages(),y.viewHandler.resetView(),y.viewHandler.handleRestartChat(),F.chatSynced=!0,A||("max"===D.chatWindowState()?y.viewHandler.maximizeWidget():y.viewHandler.minimizeWidget()),this.hasChatEnded=!1},tt.prototype.endChat=function(e){y.viewHandler.handleEndChat(),y.agents.clearAgents(),this.hasChatEnded=!0,this.hasChatStarted(!1),F.chatEndVersion=e,g.onChatEnded()},tt.prototype.sendFileMessage=function(n){var a=this,o={fileName:n.filename,name:n.name,type:n.extension,mimeType:n.mimeType,size:n.size};y.socketManager.sendToConnector("fileUploadMessage",o,function(e,t,i){e||(y.viewHandler.fileUploaded(n.handle),o.fileName=q.rawEncode(o.fileName),messageId=y.viewHandler.appendMessage({message:"FILE",name:O.displayName(),type:"c",time:t,isPending:!1,senderType:"v",ownerId:O.visitorId,dontPlaySound:!0,data:{file:o}}),chatOrder=++F.chatOrder,a.messages[chatOrder]={ut:"v",t:"c",m:"FILE",co:t,messageId:messageId,uid:O.visitorId,md:{file:o}},F.chatVersion=i,g.onFileUpload("https://tawkto.link/"+o.name))})},tt.prototype.isChatOngoing=function(){return!this.hasChatEnded&&this.visitorHasMessaged&&0<y.agents.totalAgents()},tt.prototype.isVisitorEngaged=function(){return!this.hasChatEnded&&this.visitorHasMessaged},tt.prototype.triggerEndChat=function(){var i=this;y.socketManager.sendToConnector("endVisitorChat",{},function(e,t){e||i.endChat(t.chatEndVersion)})};var it=function(){this.agentsCount=0,this.totalAgents=_.observable(0)};it.prototype.updateAgentPresence=function(e,t,i,n,a){if(!P.showAgentBar)return!0;if("AGENT_JOIN_CONVERSATION"!==e&&"AGENT_LEFT_CONVERSATION"!==e)return!1;switch(e){case"AGENT_JOIN_CONVERSATION":return this.addAgentToList(t,i,n,a);case"AGENT_LEFT_CONVERSATION":return this.removeAgentFromList(t,n,a)}},it.prototype.addAgentToList=function(e,t,i,n){var a=F.agents[i];if(a){if(!(a.seq.time<e.seq.time||a.seq.time===e.seq.time&&a.seq.inc<e.seq.inc))return!1;if(a.seq=e.seq,a.pid===e.pid)return!1;this.changeAgentProfile(a.pid,n),a.pid=e.pid,F.profiles[i]=e.pid}else F.agents[i]=e,F.profiles[i]=e.pid;return!!e.pid&&(this.totalAgents(this.totalAgents()+1),void 0!==F.agentProfiles[e.pid]?(F.agentProfiles[e.pid].pi=e.pi,F.agentProfiles[e.pid].count++,!1):(t={pi:e.pi,pst:e.pst||"",pid:e.pid,n:t,count:1},F.agentProfiles[e.pid]=t,n&&y.viewHandler.appendAgent(t),!0))},it.prototype.changeAgentProfile=function(e,t){var i;i=F.agentProfiles[e],this.decrementProfileCount(e,t)&&t&&(i={message:y.languageParser.translate("chat","AGENT_LEFT_CONVERSATION",{n:"<b>"+i.n+"</b>"}),name:"",type:"n",time:new Date,isPending:!1,senderType:"a",ownerId:"",dontPlaySound:!0},F.chatOrder++,y.chatHandler.messages[F.chatOrder]=i,y.viewHandler.appendMessage(i))},it.prototype.removeAgentFromList=function(e,t,i){var n=F.agents[t];return n?(t=n.pid,(n.seq.time<e.seq.time||n.seq.time===e.seq.time&&n.seq.inc<e.seq.inc)&&(n.seq=e.seq,n.pid=null,this.totalAgents(this.totalAgents()-1),this.decrementProfileCount(t,i))):(F.agents[t]=e,!1)},it.prototype.decrementProfileCount=function(e,t){var i=F.agentProfiles[e];if(i)return i.count--,i.count<1&&(delete F.agentProfiles[e],t&&y.viewHandler.removeAgent(e),!0)},it.prototype.clearAgents=function(){this.agentsCount=0,this.totalAgents(0),F.agentProfiles={},F.agents={},F.profiles={},y.viewHandler.clearAgentFooter(),y.viewHandler.clearAgentHeader()};var nt=function(){var e=this;this.stack=[],this.socketConnector=new xe,this.events={},y.eventEmitter.on("socketReady",function(){e.clearStack()})};nt.prototype.initConnector=function(){this.socketConnector.init()},nt.prototype.sendToConnector=function(t,i,e){if(s.connected)if(void 0!==e||"function"==typeof i)this.safeCallback(t,i,e);else try{this.socketConnector.emit(t,i,e)}catch(e){u.handleError("Unable to emit to socket connector in sendToConnector for command : "+t+" with data :"+$_TAWK_JSON.stringify(i),e.fileName,e.lineNumber,e.stack)}else this.addToStack(t,i,e)},nt.prototype.addToStack=function(e,t,i){"sendChatMessage"===e&&delete this.events.notifyMessagePreview,"notifyMessagePreview"===e?this.events[e]={command:e,data:t,callback:i}:this.stack.push({command:e,data:t,callback:i})},nt.prototype.clearStack=function(){var t=this;for(var e in this.stack.forEach(function(e){t.sendToConnector(e.command,e.data,e.callback)}),this.events)t.sendToConnector(t.events[e].command,t.events[e].data,t.events[e].callback);this.stack=[],this.events={}},nt.prototype.safeCallback=function(t,i,e){var n,a;"function"==typeof i&&(e=i,i=null),n=setTimeout(function(){throw e(!0),Error("Socket server did not execute the callback for "+t+" with data : "+$_TAWK_JSON.stringify(i))},35e3),a=function(){clearTimeout(n),a=function(){},e.apply(null,arguments)};try{null===i?this.socketConnector.emit(t,a):this.socketConnector.emit(t,i,a)}catch(e){u.handleError("Unable to emit to socket connector in safeCallback for command : "+t+" with data :"+$_TAWK_JSON.stringify(i),e.fileName,e.lineNumber,e.stack)}},nt.prototype.disconnectConnector=function(){this.socketConnector.disconnectSocket()},nt.prototype.connectorListeningOn=function(e){return 0!==this.socketConnector.listeners(e).length},nt.prototype.isForcedDisconnect=function(){return this.socketConnector.forceDisconnected};var at=function(){this.started=this.maximize=this.isDocumentReady=!1,this.previousSessionKey=null,this.waitingForLanguage=!1,this.startTime=s.startTime,this.versionReloadTimeout=null,this.dataIsReady=this.viewIsReady=!1};at.prototype.load=function(){var t=this;L.pageId=$_Tawk_AccountKey,P.widgetId=$_Tawk_WidgetId,void 0!==L.pageId&&void 0!==P.widgetId&&(l.processSettings(s.widgetSettings),this.init(),this.isDocumentReady||(y.eventHandler.listen(document,"DOMContentLoaded",function(){t.init()},"domloaded"),y.eventHandler.listen(document,"readystatechange",function(){("complete"===document.readyState||"interactive"===document.readyState&&document.body)&&t.init()},"domstatechange"),y.eventHandler.listen(f,"load",function(){t.init()},"windowload")),y.eventEmitter.on("removeWidget",function(e){t.removeWidget()}),y.eventEmitter.on("submitConsent",function(e){t.registerWithConsent()}))},at.prototype.init=function(){var e,t;if(!this.isDocumentReady&&(this.isDocumentReady=!0,!(t=q.parseQueryString()).$_tawk_beacon&&"operamini"!==A)){if((e=q.getReloadedScript())&&(e=q.parseQueryString(e.src),D.restarted=e.restarted,this.maximize=e.maximized),q.parseApi(),g.isPopup&&(D.transferKey=t.$_tawk_tk,D.sessionKey=t.$_tawk_sk,P.isPopup=!0),g.embedded&&(P.isEmbedded=!0,A=null),!re.isCookieEnabled)return de.init();A?(P.isPopup?y.viewHandler=new Ke:this.initRenderer(A),y.formHandler=new Be):(y.formHandler=new Be,y.viewHandler=new ze,y.audioPlayer.initAudioPlayer()),y.viewHandler&&(y.sessionHandler.setVisitorAttributes(),g.onBeforeLoad(),this.bootStrap())}},at.prototype.bootStrap=function(){var e=this;this.dataIsReady=this.viewIsReady=!1,setTimeout(function(){y.viewHandler.begin(),e.viewIsReady=!0,e.setupDone()},0),setTimeout(function(){r.register()},0)},at.prototype.initRenderer=function(e){switch(e){case"chrome":y.viewHandler=new De(e);break;case"safari":y.viewHandler=new We(e);break;case"opera":y.viewHandler=new Ue(e);break;case"android":y.viewHandler=new Ve(e);break;case"android2.3":y.viewHandler=new je(e);break;case"android2":y.viewHandler=new Ge(e);break;case"firefox":y.viewHandler=new qe(e);break;case"ie":y.viewHandler=B<10?new Ge(e):new Xe(e);break;case"blackberry":case"nokia":y.viewHandler=new Ge(e);break;case"uc":y.viewHandler=new Ve(e)}y.viewHandler&&y.viewHandler.init()},at.prototype.begin=function(e){r.registerStarted=!1,r.clearTimers(),r.registerTime=(new Date).getTime()-r.registerStart,r.registerStart=null,e.error?"USER_ERROR"===e.error||"SERVER_DOWN"===e.error?this.hideWidget():r.retryRegister():(y.activityManager.initActivityReset(),this.started?this.reinited(e):(this.started=!0,this.extractRegisterData(e),this.dataIsReady=!0,this.setupDone()))},at.prototype.extractRegisterData=function(e){e.wdgt&&(e.wdgt.lc!==s.widgetSettings.lc&&(this.waitingForLanguage=!0,q.insertScript("https://static-v.tawk.to/588/languages/"+e.wdgt.lc+".js")),l.processSettings(e.wdgt)),e.rcf&&P.consentOption?(this.needConsent=!0,P.showConsentForm=!0):(this.needConsent=!1,P.showConsentForm=!1),"max"!==P.onClickAction||A||(this.maximize="max"===e.cw,D.chatWindowState(e.cw)),D.criticalVersion=e.cjsv||0,D.visitorSocketServer=e.vss,D.sessionKey=e.sk,D.transferKey=e.tk,D.transferedSession=!!e.ts,D.serverVersion=e.jsv||0,this.needConsent||(y.visitorHandler.updateVisitorUUID(e),y.visitorHandler.updateVisitorInformation(e)),P.soundOn(e.sdo),P.whiteLabel(e.wl),P.scheduleTimezone=e.wstz,D.prechatFormSubmitted=!!e.pcfs,D.departments=q.isArray(e.dptst)?e.dptst.reverse():[],D.pageStatusVersion=e.asver||0,D.waitTime=void 0!==e.ewt&&0!==e.ewt?1e3*e.ewt:6e4,L.tawkId=e.twid,L.pageName(q.rawDecode(e.pgn)),D.pageStatus(e.ast||"offline"),D.chatBubbleClosed(!!e.bblc),F.chatVersion=e.cver||0,F.chatDepartment=e.dpt||"any",F.chatHistory=e.c||[],F.rating(e.rt||0),P.webRTCSettings(e.webrtc),P.brandingRedirect(e.otl)},at.prototype.initBuildChat=function(){y.chatHandler.parseHistory(),y.viewHandler.applyWhiteLabelSettings(),this.showWidget(),this.needConsent||(y.socketManager.initConnector(),delete s.init),s.ready=!0,g.onLoad()},at.prototype.reinited=function(e){var t=D.sessionKey;this.extractRegisterData(e),t!==e.sk?(y.chatHandler.clearChatMessages(),y.viewHandler.resetView(),y.agents.clearAgents()):(D.visitorSocketServer=e.vss,D.sessionKey=e.sk,D.transferKey=e.tk,D.transferedSession=!!e.ts,D.serverVersion=e.jsv||0,y.visitorHandler.updateVisitorUUID(e)),y.scheduler.setup(),y.viewHandler.updateViewByStatus(D.pageStatus()),y.socketManager.initConnector()},at.prototype.criticalRefresh=function(e,t,i){var n=this,a=(new Date).getTime(),o="https://embed.tawk.to/"+L.pageId+"/"+$_Tawk_WidgetId+"?refresh=true&";if(P.isPopup)return f.location.reload(!!t);this.dataIsReady=this.viewIsReady=!1,this.removeWidget(),t&&(o+="restarted=true&"),i&&(o+="maximized=true&"),o+="v="+e||D.serverVersion||D.currentVersion,delete s.downloaded,q.insertScript(o,"TawkScript-"+a);var r=setInterval(function(){f.$_Tawk.startTime!==n.startTime&&(y=null,clearInterval(r),clearTimeout(n.versionReloadTimeout))},200)},at.prototype.removeWidget=function(){var e;y&&y.viewHandler&&y.viewHandler.iframeContainer&&(e=document.getElementById(y.viewHandler.iframeContainer.elementId)),r.clearTimers(),y.eventHandler.clearEvents(),y.activityManager.cleanUp(),y.socketManager.disconnectConnector(),y.eventEmitter.removeAllListeners(),y.scheduler.cleanUp(),clearTimeout(q.checkWhiteLabelRef),e&&e.parentNode.removeChild(e)},at.prototype.setupDone=function(e){e&&(y.languageParser.language=s.language,this.waitingForLanguage=!1),this.viewIsReady&&this.dataIsReady&&!this.waitingForLanguage&&this.initBuildChat()},at.prototype.showWidget=function(){y.scheduler.setup(),!P.isPopup&&P.hideWidgetOnLoad||y.viewHandler.show()},at.prototype.hideWidget=function(){y&&y.viewHandler&&y.viewHandler.hideWidget()},at.prototype.registerWithConsent=function(){this.maximize=!0,re.storeSessionInformation(!1,"cf"),r.register()},s.languageUpdater=function(){if(y&&y.main&&y.main.waitingForLanguage){y.main.setupDone(!0);try{y.eventEmitter.emit("localeChanged")}catch(e){u.handleError("Unable to emit locale changed",e.fileName,e.lineNumber,e.stack)}}};var ot=function(e,t){this.language=e,this.notFoundCallback="function"==typeof t?t:function(){}};ot.prototype.translate=function(e,t,i,n){var a,o;a=[];var r=this.language||n;if(!r[e])return this.notFoundCallback(Error("Missing context : {"+e+"}, {"+t+"}")),t;if(!(n=r[e][t]))return this.notFoundCallback(Error("Missing key : {"+e+"}, {"+t+"}")),t;if(t=n.pluralVars?n.pluralVars.length:0,o=n.vars?n.vars.length:0,0<t){for(e=0;e<t;e++)a.push(r.pluralFormFunction(i[n.pluralVars[e]]));for(a=n.message[a.join("_")],e=0;e<t;e++)a=a.replace(RegExp("#"+n.pluralVars[e],"g"),this.escapeStringReplacePlacement(i[n.pluralVars[e]]))}else a=n.message;if(0<o)for(e=0;e<o;e++)a=a.replace(RegExp("#"+n.vars[e],"g"),this.escapeStringReplacePlacement(i[n.vars[e]]));return a},ot.prototype.escapeStringReplacePlacement=function(e){return"string"==typeof e?e.replace(/\$/g,"$$$"):e},ot.prototype.hasTranslation=function(e,t,i){return!!((i=i||this.language)&&i[e]&&i[e][t])},"undefined"!=typeof module&&(module.exports=ot),y.eventEmitter=new EventEmitter,y.eventEmitter.on("error",function(e){u.handleError("EventEmitter on error",e.fileName,e.lineNumber,e.stack)}),y.loggingHandler=new Q,y.eventHandler=new te,y.activityManager=new $e,y.scheduler=new Ye,y.main=new at,y.languageParser=new ot(s.language),y.socketManager=new nt,y.sessionHandler=new et,y.chatHandler=new tt,y.agents=new it,y.visitorHandler=new Qe,y.audioPlayer=new ce,r=new Je,y.fileUploadHandler=new pe,void 0!==s.downloaded?(y.eventHandler.clearEvents(),y.eventEmitter.removeAllListeners(),y=null):(s.downloaded=!0,y.main.load())}catch(e){if(!u)throw Error("tawk : "+e.message);u.handleError(e.message,"tawk.js",e.lineNumber||e.line,e.stack)}}.call(this,window.$_Tawk)}(window);